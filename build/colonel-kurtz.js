module.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t};n(35);var o=r(n(20));t.exports=o},function(t){t.exports=require("react")},function(t,e,n){"use strict";var r=n(12).tag;t.exports=r({append:function(t,e){return{type:t,parent:e}},create:function(t,e,n){return{type:t,position:e,parent:n}},destroy:function(t){return t},update:function(t,e){return{id:t,content:e}}})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(n(27)),i=r(n(26)),s={getInitialState:function(){return i.blockTypes},deserialize:function(){var t=void 0===arguments[0]?[]:arguments[0];return o(t.concat(this.getInitialState()))},toString:function(){return"blockTypes"}};t.exports=s},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},i=r(n(1)),s=r(n(38)),a=i.createClass({displayName:"Button",getDefaultProps:function(){return{className:"col-btn",hide:!1,tagName:"button",type:"button"}},render:function(){var t=this.props,e=t.children,n=t.hide,r=t.tagName,a=o(t,["children","hide","tagName"]);return n?null:i.createElement(r,a,[i.createElement(s,{key:"__ink__"}),e])}});t.exports=a},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=function(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0})},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=r(n(2)),a=r(n(10)),u=r(n(28)),c=r(n(7)),l=r(n(29)),p=r(n(30)),f=function(){var t={serialize:u,deserialize:p,getInitialState:function(){return[]},toString:function(){return"blocks"}};return o(t,s.append,function(t,e){return t.concat(new a(e))}),o(t,s.create,function(t,e){var n=e.type,r=e.parent,o=e.position,i=void 0===o?0:o,s=new a({parent:r,type:n});return i instanceof a&&(i=t.indexOf(i)+1),l(t,s,i)}),o(t,s.destroy,function(t,e){return t.filter(function(t){for(var n=t;n;n=n.parent)if(n.id==e)return!1;return!0})}),o(t,s.update,function(t,e){var n=c(t,e.id,"id");return n.content=i({},n.content,e.content),t}),t}();t.exports=f},,function(t){"use strict";t.exports=function(t,e){var n=void 0===arguments[2]?"id":arguments[2],r=t.filter(function(t){return t[n]==e});if(r.length)return r[0];throw new Error("Unable to find record with "+n+" of "+e)}},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(n(1)),i=r(n(25)),s=r(n(11)),a=o.createClass({displayName:"Block",propTypes:{block:o.PropTypes.object.isRequired,blockType:o.PropTypes.object.isRequired,onDestroy:o.PropTypes.func,onUpdate:o.PropTypes.func},render:function(){var t=this.props,e=t.block,n=t.blockType,r=t.children,a=t.onDestroy,u=n.component;return o.createElement("div",{className:s("col-block","col-block-"+e.type)},o.createElement(u,{ref:"block",content:e.content,onChange:this._onUpdate},r),o.createElement(i,{block:e,onDestroy:a}))},_onUpdate:function(t){this.props.onUpdate(this.props.block.id,t)}});t.exports=a},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(n(2)),i=r(n(3)),s=r(n(4)),a=r(n(1)),u=r(n(11)),c=a.createClass({displayName:"BlockMenu",propTypes:{flux:a.PropTypes.object.isRequired,parent:a.PropTypes.any,position:a.PropTypes.any},getInitialState:function(){return{open:!1}},componentWillReceiveProps:function(){this.setState({open:!1})},getToggle:function(){return a.createElement(s,{ref:"toggle",className:"col-menu-toggle",onClick:this._onToggle},"+")},getButton:function(t){var e=t.id,n=t.label,r=this.props,i=r.parent,u=r.position,c=r.flux,l=function(){return c.send(o.create,e,u,i)};return a.createElement(s,{key:e,className:"col-menu-btn",onClick:l},n)},render:function(){var t=this.props.forceOpen||this.state.open,e=this.props.flux.get(i).filter(function(t){return!t["private"]}),n=u("col-menu",{"col-menu-open":t});return a.createElement("nav",{className:n,role:"navigation"},t?null:this.getToggle(),t?e.map(this.getButton):null)},_onToggle:function(){this.setState({open:!0})}});t.exports=c},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=n(31),s=function(){function t(e){o(this,t),this.id=i(),this.content=e.content,this.parent=e.parent,this.type=e.type}return r(t,{valueOf:{value:function(){return this.id}}}),t}();t.exports=s},function(t){function e(){for(var t,n="",r=0;r<arguments.length;r++)if(t=arguments[r])if("string"==typeof t||"number"==typeof t)n+=" "+t;else if("[object Array]"===Object.prototype.toString.call(t))n+=" "+e.apply(null,t);else if("object"==typeof t)for(var o in t)t.hasOwnProperty(o)&&t[o]&&(n+=" "+o);return n.substr(1)}"undefined"!=typeof t&&t.exports&&(t.exports=e)},function(t){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";e.__esModule=!0;var r=n(7);e.tag=r,e["default"]=n(2)},function(t){"use strict";function e(t,e){return t.reduce(function(t,n){return t[n]=e(n),t},{})}t.exports=e},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=r(n(3)),s=r(n(4)),a=r(n(5)),u=r(n(8)),c=r(n(1)),l=r(n(6)),p=function(){function t(e){o(this,t),l(this),this._state=this.getInitialState(e),this._stores=[]}return t.prototype.getInitialState=function(){return{}},t.prototype.shouldUpdate=function(t,e){return u(t,e)===!1},t.prototype.has=function(t){return this._stores.some(function(e){return""+t==""+e})},t.prototype.get=function(t){return this._state[t]},t.prototype.swap=function(t){this.reset(a(this._state,t))},t.prototype.reset=function(t){this.shouldUpdate(this._state,t)&&(this._state=t,this.pump())},t.prototype.prepare=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),o=1;n>o;o++)r[o-1]=arguments[o];return(e=this.send).bind.apply(e,[this,t].concat(r))},t.prototype.send=function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),o=1;n>o;o++)r[o-1]=arguments[o];var i=t.apply(this,r);return i instanceof Promise?i.then(function(n){return e.dispatch(t,n)}):this.dispatch(t,i)},t.prototype.dispatch=function(t,e){var n=this,r=this._stores.filter(function(e){return t in e}),o=c(r,function(r){return r[t](n.get(r),e)});return this.swap(o),e},t.prototype.addStore=function(t){var e=a(i,t);s(!this.has(e),'Tried to add "'+t+'" but it is not unique'),this._stores.push(e),this.swap(function(){var t={};return t[e]=e.getInitialState(),t}())},t.prototype.serialize=function(){var t=this;return c(this._stores,function(e){return e.serialize(t.get(e))})},t.prototype.deserialize=function(){var t=void 0===arguments[0]?{}:arguments[0];return c(this._stores,function(e){return e.deserialize(t[e])})},t.prototype.seed=function(t){this.reset(this.deserialize(t))},t.prototype.toJSON=function(){return this.serialize()},t}();t.exports=p},function(t){"use strict";t.exports={getInitialState:function(){return void 0},serialize:function(t){return t},deserialize:function(){var t=void 0===arguments[0]?this.getInitialState():arguments[0];return t},toString:function(){throw new Error("Stores must implement a toString() method")}}},function(t){"use strict";function e(t,e){if(!t){var n=new Error(e);throw n.framesToPop=1,n}}t.exports=e},function(t){"use strict";function e(t,e){return n({},t,e)}var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};t.exports=e},function(t){"use strict";function e(){var t=void 0===arguments[0]?{}:arguments[0],e=[];return t.ignore=function(t){e=e.filter(function(e){return e!==t})},t.listen=function(t){e.push(t)},t.pump=function(){for(var t=0;t<e.length;t++)e[t].call(this)},t}t.exports=e},function(t,e,n){"use strict";function r(t){return"function"==typeof t}function o(t,e){var n=t.bind(null),r="_"+e+"_"+a++;return n.toString=function(){return r},n}var i=function(t){return t&&t.__esModule?t["default"]:t},s=i(n(1)),a=0;t.exports=function(t){return s(Object.keys(t),function(e){var n=t[e];return r(n)?o(n,e):n})}},function(t,e,n){/*!
		 * is-equal-shallow <https://github.com/jonschlinkert/is-equal-shallow>
		 *
		 * Copyright (c) 2015, Jon Schlinkert.
		 * Licensed under the MIT License.
		 */
"use strict";var r=n(9);t.exports=function(t,e){if(!t&&!e)return!0;if(!t&&e||t&&!e)return!1;for(var n in e)if(!r(e[n])||!t.hasOwnProperty(n)||t[n]!==e[n])return!1;return!0}},function(t){/*!
		 * is-primitive <https://github.com/jonschlinkert/is-primitive>
		 *
		 * Copyright (c) 2014 Jon Schlinkert, contributors.
		 * Licensed under the MIT License
		 */
"use strict";t.exports=function(t){switch(typeof t){case"string":case"number":case"boolean":case"symbol":return!0}return null==t}}])},,,,function(t){"use strict";var e=function(t){t=t||"0.0.0";var e=t.split(".").map(function(t){return parseInt(t,10)});return{major:e[0],minor:e[1],patch:e[2]}};t.exports=function(t,n){return t=e(t),n=e(n),t.major>n.major?!0:t.major===n.major&&t.minor>n.minor?!0:t.minor===n.minor&&t.patch>n.patch?!0:!1}},function(t){"use strict";t.exports={version:"2.0.0",up:function(t){return{blocks:[{blocks:t,content:{},type:"section"}]}},down:function(t){return t.blocks.reduce(function(t,e){return t.concat(e.blocks)},[])}}},function(t,e,n){"use strict";var r=n(36),o=n(19),i=[n(17)];t.exports=function(t){var e=o(t||{},i);return e.version=r.version,e}},function(t,e,n){"use strict";var r=n(16);t.exports=function(t,e){var n=e.filter(function(e){return r(e.version,t.version)});return n.reduce(function(t,e){return e.up(t)},t)}},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function v(t,e,n){var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:v(o,e,n)}if("value"in r&&r.writable)return r.value;var i=r.get;return void 0===i?void 0:i.call(n)},s=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},u=r(n(21)),c=r(n(3)),l=r(n(5)),p=r(n(12)),f=r(n(1)),d=r(n(18)),h=function(t){function e(t){var n=t.el,r=t.seed;a(this,e),i(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.addStore(l),this.addStore(c),console.log(r),this.seed(d(r)),this.el=n}return s(e,t),o(e,{getInitialState:{value:function(){return{version:"2.0.0"}}},render:{value:function(){return f.render(f.createElement(u,{flux:this}),this.el),this}},toJSON:{value:function(){var t=this.serialize();return{blocks:t.blocks,version:"2.0.0"}}}}),e}(p);t.exports=h},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(n(2)),i=(r(n(3)),r(n(5))),s=r(n(4)),a=r(n(24)),u=r(n(1)),c=u.createClass({displayName:"App",propTypes:{flux:u.PropTypes.object.isRequired},getInitialState:function(){return this.getState()},getState:function(){return{blocks:this.props.flux.get(i)}},componentDidMount:function(){var t=this;this.props.flux.listen(function(){return t.setState(t.getState())})},getSection:function(t,e,n){var r=e===n.length-1;return u.createElement(a,{key:t.id,block:t,last:r,flux:this.props.flux})},render:function(){var t=this.state.blocks.filter(function(t){return!t.parent}),e=this.props.flux.prepare(o.create,"section",0,null);return u.createElement("div",{className:"colonel"},u.createElement(s,{className:"col-btn-fab",onClick:e},"+"),t.map(this.getSection))}});t.exports=c},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(n(1)),i=o.createClass({displayName:"Section",render:function(){return o.createElement("div",null,this.props.children)}});t.exports=i},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(n(2)),i=r(n(8)),s=r(n(9)),a=r(n(3)),u=r(n(5)),c=r(n(1)),l=r(n(7)),p=c.createClass({displayName:"EditorBlock",propTypes:{block:c.PropTypes.object.isRequired,flux:c.PropTypes.object.isRequired},getBlockMenu:function(){var t=this.props,e=t.block,n=t.flux;return c.createElement(s,{key:"block_menu",parent:e.parent,position:e,flux:n})},render:function(){var t=this.props,e=t.block,n=t.flux,r=(n.get(u).filter(function(t){return t.parent===e}),l(n.get(a),e.type));return c.createElement("div",null,c.createElement(i,{ref:"block",block:e,blockType:r,onUpdate:this._onUpdate,onDestroy:this._onDestroy}),this.getBlockMenu(e))},_onUpdate:function(t,e){this.props.flux.send(o.update,t,e)},_onDestroy:function(t){this.props.flux.send(o.destroy,t)}});t.exports=p},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(n(2)),i=r(n(8)),s=r(n(9)),a=n(5),u=r(a),c=r(n(3)),l=(r(a),r(n(4))),p=r(n(23)),f=r(n(1)),d=r(n(7)),h=f.createClass({displayName:"Section",propTypes:{block:f.PropTypes.object.isRequired,flux:f.PropTypes.object.isRequired,last:f.PropTypes.bool},getDefaultProps:function(){return{last:!1}},getEditor:function(t){return f.createElement(p,{key:t.id,block:t,flux:this.props.flux})},render:function(){var t=this.props,e=t.block,n=t.flux,r=t.last,a=d(n.get(c),e.type),p=n.get(u).filter(function(t){return t.parent===e}),h=n.prepare(o.create,e.type,e,null);return f.createElement("div",null,f.createElement(i,{block:e,blockType:a,onDestroy:n.prepare(o.destroy)},f.createElement(s,{key:"menu",parent:e,flux:n,forceOpen:!p.length}),p.map(this.getEditor)),f.createElement(l,{ref:"append",className:"col-btn-fab",onClick:h,hide:r&&!p.length},"+"))}});t.exports=h},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(n(4)),i=r(n(1)),s=r(n(37)),a=i.createClass({displayName:"Toolbar",propTypes:{block:i.PropTypes.object.isRequired,onDestroy:i.PropTypes.func.isRequired},render:function(){return i.createElement("div",{className:"col-toolbar"},i.createElement("span",{className:"col-toolbar-handle",dangerouslySetInnerHTML:{__html:s}}),i.createElement("nav",{role:"navigation",className:"col-toolbar-menu"},i.createElement(o,{ref:"destroy",className:"col-toolbar-menu-item",onClick:this._onDestroy},"Remove")))},_onDestroy:function(t){t.preventDefault(),this.props.onDestroy(this.props.block.id)}});t.exports=a},function(t,e,n){"use strict";t.exports={blockTypes:[{id:"section",label:"Create a new section",component:n(22),"private":!0}]}},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=r(n(1));t.exports=function(){var t=void 0===arguments[0]?[]:arguments[0];return t.map(function(t){var e=t.component;return"object"==typeof e&&(e=i.createClass(e)),o({},t,{component:e})})}},function(t){"use strict";function e(t){t=t||[];var e=t.filter(function(t){return!t.parent}),n=function(e){var r=t.filter(function(t){return t.parent===e});return{content:e.content,type:e.type,blocks:r.map(n)}};return e.map(n)}t.exports=e},function(t){"use strict";t.exports=function(t,e){var n=void 0===arguments[2]?t.length:arguments[2];return function(){var r=t.slice(0,n),o=t.slice(n);return r.concat(e,o)}()}},function(t,e,n){"use strict";function r(t,e){return t=t||[],t.reduce(function(t,n){var o=new s(i({},n,{parent:e})),a=r(n.blocks,o);return t.concat(o,a)},[])}var o=function(t){return t&&t.__esModule?t["default"]:t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};t.exports=r;var s=o(n(10))},function(t){"use strict";var e=0,n=function(){return"c"+(e+=1)};t.exports=n},,,,function(){},function(t){t.exports={name:"colonel-kurtz",version:"2.0.0",description:"A block editor",main:"build/colonel-kurtz.js",scripts:{start:"NODE_ENV=development webpack-dev-server --content-base ./example --config webpack.example.config.js",prepublish:"NODE_ENV=production webpack -p --optimize-occurence-order --optimize-dedupe",test:"karma start",coveralls:"CONTINUOUS_INTEGRATION=true npm test && coveralls < coverage/report-lcov/lcov.info"},repository:{type:"git",url:"git://github.com/vigetlabs/colonel-kurtz.git"},keywords:["block","editor"],contributors:[{name:"Lawson Kurtz",email:"lawson.kurtz@viget.com",url:"http://viget.com"},{name:"Nate Hunzaker",email:"nate.hunzaker@viget.com",url:"http://viget.com"}],license:"MIT",bugs:"https://github.com/vigetlabs/colonel-kurtz/issues",homepage:"https://github.com/vigetlabs/colonel-kurtz",devDependencies:{"autoprefixer-core":"^5.1.8","babel-loader":"^4.2.0","babel-runtime":"^4.7.16",coveralls:"^2.11.2","css-loader":"^0.9.0","css-mqpacker":"^3.0.1",csswring:"^3.0.1","extract-text-webpack-plugin":"^0.5.0",istanbul:"^0.3.11","istanbul-instrumenter-loader":"^0.1.2","json-loader":"^0.5.1",karma:"^0.12.31","karma-chrome-launcher":"^0.1.7","karma-cli":"0.0.4","karma-coverage":"^0.2.7","karma-firefox-launcher":"^0.1.4","karma-mocha":"^0.1.10","karma-nyan-reporter":"0.0.60","karma-sinon-chai":"^0.3.0","karma-sourcemap-loader":"^0.3.4","karma-webpack":"^1.5.0",microcosm:"^3.1.0",mocha:"^2.1.0","node-sass":"^2.0.1","postcss-loader":"^0.3.0","raw-loader":"^0.5.1",react:"^0.13.1","react-hot-loader":"^1.2.4","react-ink":"^4.0.0-rc5","react-tools":"^0.13.1","sass-loader":"^0.3.1","source-map-loader":"^0.1.3","style-loader":"^0.9.0",webpack:"^1.7.2","webpack-dev-server":"^1.7.0"},peerDependencies:{react:">= 0.12.1"},dependencies:{classnames:"^1.2.0","react-focus-trap":"0.0.1"}}},function(t){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>'},function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(4),i=0,s=n(5),a=n(8),u=n(2),c=n(7),l=a.PropTypes,p=2*Math.PI,f=n(1),d=n(6),h=a.createClass({displayName:"Ink",shouldComponentUpdate:d,propTypes:{background:l.bool,duration:l.number,opacity:l.number,radius:l.number,recenter:l.bool},getDefaultProps:function(){return{background:!0,duration:1e3,opacity:.25,radius:150,recenter:!0}},getInitialState:function(){return{store:c(this.tick),touchEvents:this.touchEvents()}},touchEvents:function(){return o?{onTouchStart:this._onPress,onTouchEnd:this._onRelease,onTouchCancel:this._onRelease,onTouchLeave:this._onRelease}:{onMouseDown:this._onPress,onMouseUp:this._onRelease,onMouseLeave:this._onRelease}},tick:function(){var t=this.state.ctx,e=this.state.color,n=this.state.density,r=this.state.height,o=this.state.width,i=this.state.store;t.save(),t.scale(n,n),t.clearRect(0,0,o,r),t.fillStyle=e,this.props.background&&(t.globalAlpha=i.getTotalOpacity(this.props.opacity),t.fillRect(0,0,o,r)),i.each(this.makeBlot,this),t.restore()},makeBlot:function(t){var e=this.state.ctx,n=this.state.height,r=this.state.width,o=t.x,i=t.y,s=t.radius;if(e.globalAlpha=f.getBlotOpacity(t,this.props.opacity),e.beginPath(),this.props.recenter){var a=Math.max(n,r);o+=f.getBlotShiftX(t,a,r),i+=f.getBlotShiftY(t,a,n)}e.arc(o,i,s*f.getBlotScale(t),0,p),e.closePath(),e.fill()},componentWillUnmount:function(){this.state.store.stop()},pushBlot:function(t,e,n){var r=this,o=this.getDOMNode(),i=o.getBoundingClientRect(),a=i.top,u=i.bottom,c=i.left,l=i.right,p=window.getComputedStyle(o),d=p.color,h=this.state.ctx||o.getContext("2d"),v=this.state.density||s(h),m=u-a,g=l-c,y=f.getMaxRadius(m,g,this.props.radius);this.setState({color:d,ctx:h,density:v,height:m,width:g},function(){r.state.store.add({duration:r.props.duration,mouseDown:t,mouseUp:0,radius:y,x:e-c,y:n-a})})},render:function(){var t=this.state.density,e=this.state.height,n=this.state.width,o=this.state.touchEvents;return a.createElement("canvas",r({className:"ink",style:r({},u,this.props.style),height:e*t,width:n*t,onDragOver:this._onRelease},o))},_onPress:function(t){var e=t.button,n=t.ctrlKey,r=t.clientX,o=t.clientY,s=t.changedTouches,a=Date.now();if(s)for(var u=0;u<s.length;u++){var c=s[u].clientX,l=s[u].clientY;this.pushBlot(a,c,l)}else e!==i||n||this.pushBlot(a,r,o)},_onRelease:function(){this.state.store.release(Date.now())}});t.exports=h},function(t,e,n){"use strict";function r(t){return l(t.duration,Date.now()-t.mouseDown)}function o(t){return t.mouseUp>0?Date.now()-t.mouseUp:0}function i(t){var e=t.duration,n=t.radius,i=.85*s(r(t),0,n,e),a=.15*s(o(t),0,n,e),l=.02*n*u(Date.now()/e);return c(0,i+a+l)}var s=n(3),a=Math.sqrt(2),u=Math.cos,c=Math.max,l=Math.min;t.exports={getMaxRadius:function(t,e,n){return l(.5*c(t,e),n)},getBlotOpacity:function(t,e){return s(o(t),e,-e,t.duration)},getBlotOuterOpacity:function(t,e){return l(this.getBlotOpacity(t,e),s(r(t),0,.3,3*t.duration))},getBlotShiftX:function(t,e,n){return l(1,i(t)/e*2/a)*(n/2-t.x)},getBlotShiftY:function(t,e,n){return l(1,i(t)/e*2/a)*(n/2-t.y)},getBlotScale:function(t){return i(t)/t.radius}}},function(t){"use strict";t.exports={borderRadius:"inherit",height:"100%",left:0,position:"absolute",top:0,width:"100%"}},function(t){"use strict";t.exports=function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e}},function(t){"use strict";var e=!1;"undefined"!=typeof window&&(e="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),t.exports=e},function(t){"use strict";t.exports=function(t){var e=window.devicePixelRatio||1,n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/n}},function(t){"use strict";function e(t,e){for(var n in t)if(this.props[n]!==t[n])return!0;for(var r in e)if(this.state[r]!==e[r])return!0;return!1}t.exports=e},function(t,e,n){"use strict";var r=n(1),o=function(t){var e=t.mouseUp,n=t.duration;return!e||Date.now()-e<n};t.exports=function(t){var e=[],n=!1,i=void 0,s={each:function(t,n){for(var r=0,o=e.length;o>r;r++)t.call(n,e[r])},play:function(){n||(n=!0,s.update())},stop:function(){n=!1,cancelAnimationFrame(i)},getTotalOpacity:function(t){for(var n=0,o=0,i=e.length;i>o;o++)n+=r.getBlotOuterOpacity(e[o],t);return n},update:function(){e=e.filter(o),e.length?(i=requestAnimationFrame(s.update),t()):s.stop()},add:function(t){e.push(t),s.play()},release:function(t){for(var n=e.length-1;n>=0;n--)if(!e[n].mouseUp)return e[n].mouseUp=t}};return s}},function(t){t.exports=n(1)}])}]);
//# sourceMappingURL=colonel-kurtz.js.map