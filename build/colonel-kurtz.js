module.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t};n(39);var o=n(15),i=r(o);t.exports=i},function(t,e,n){t.exports=require("react")},function(t,e,n){"use strict";var r=n(11);t.exports=r.tag({append:function(t,e){return{type:t,parent:e}},create:function(t,e,n){return{type:t,position:e,parent:n}},destroy:function(t){return t},update:function(t,e){return{id:t,content:e}},shift:function(t,e){return{id:t,delta:e}}})},function(t,e,n){function r(){for(var t,e="",n=0;n<arguments.length;n++)if(t=arguments[n])if("string"==typeof t||"number"==typeof t)e+=" "+t;else if("[object Array]"===Object.prototype.toString.call(t))e+=" "+r.apply(null,t);else if("object"==typeof t)for(var o in t)t.hasOwnProperty(o)&&t[o]&&(e+=" "+o);return e.substr(1)}"undefined"!=typeof t&&t.exports&&(t.exports=r)},,function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},i=n(1),a=r(i),u=n(41),s=r(u),c=a.createClass({displayName:"Button",getDefaultProps:function(){return{className:"col-btn",hide:!1,tagName:"button",type:"button"}},render:function(){var t=this.props,e=t.children,n=t.hide,r=t.tagName,i=o(t,["children","hide","tagName"]);return n?null:a.createElement(r,i,[a.createElement(s,{key:"__ink__"}),e])}});t.exports=c},,function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=n(2),i=r(o),a=n(1),u=r(a),s=n(22),c=r(s),l=n(21),p=r(l),f=n(3),d=r(f);t.exports=u.createClass({displayName:"Switch",propTypes:{app:u.PropTypes.object.isRequired},getInitialState:function(){return{open:!1}},componentWillReceiveProps:function(){this.setState({open:!1})},getTypes:function(){var t=this.props,e=t.app,n=t.parent,r=e.pull("blockTypes");if(!n)return r;var o=function(){var t=r.filter(function(t){return t.id===n.type})[0].types;return{v:r.filter(function(e){return t.indexOf(e.id)>-1})}}();return"object"==typeof o?o.v:void 0},render:function(){var t=this.props,e=t.app,n=t.forceOpen,r=t.parent,o=t.position,i=this.getTypes(),a=n||this.state.open;return i.length?u.createElement("div",{className:d("col-switch",{"col-switch-open":a})},u.createElement(c,{onClick:this._onToggle,secondary:r,hide:a}),u.createElement(p,{app:e,blockTypes:i,parent:r,hide:!a,position:o})):null},_onToggle:function(){var t=this.props,e=t.app,n=t.position,r=t.parent,o=e.pull("blockTypes");1===o.length&&e.push(i.create,o[0].id,n,r),this.setState({open:!0})}})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,r.value&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(35),u=r(a),s=function(){function t(e){o(this,t),this.id=u(),this.content=e.content,this.parent=e.parent,this.type=e.type}return i(t,[{key:"valueOf",value:function(){return this.id}}]),t}();t.exports=s},function(t,e,n){"use strict";t.exports=function(t,e){var n=void 0===arguments[2]?"id":arguments[2],r=t.filter(function(t){return t[n]==e});if(r.length)return r[0];throw new Error("Unable to find record with "+n+" of "+e)}},function(t,e,n){"use strict";var r=function(t,e,n){return Math.max(e,Math.min(n,t))};t.exports=function(t,e){var n=void 0===arguments[2]?t.length:arguments[2];return function(){var o=r(n,0,t.length),i=t.slice(0,o),a=t.slice(o);return i.concat(e,a)}()}},function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";e.__esModule=!0;var r=n(11);e.tag=r,e["default"]=n(4)},function(t){"use strict";function e(t,e){if(!t){var n=new Error(e);throw n.framesToPop=1,n}}t.exports=e},function(t){"use strict";function e(t,e){var n=void 0===arguments[2]?{}:arguments[2],r=Object.keys(t);return r.reduce(function(n,r){return n[r]=e(t[r],r),n},n)}t.exports=e},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(n(1));t.exports={validate:function(t){o("function"==typeof t,"Action "+t+" is not callable, actions should be functions")}}},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=r(n(3)),u=r(n(5)),s=r(n(6)),c=r(n(1)),l=r(n(7)),p=r(n(8)),f=r(n(9)),d=r(n(2)),h=r(n(10)),v=function(){function t(){i(this,t),f(this),this._state={},this._stores={},this._plugins=[]}return t.prototype.push=function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),o=1;n>o;o++)r[o-1]=arguments[o];a.validate(t);var i=t.apply(void 0,r);return i instanceof Promise?i.then(function(n){return e._dispatch(t,n)}):this._dispatch(t,i)},t.prototype.pull=function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;n>o;o++)r[o-2]=arguments[o];var i=this._state[t];return"function"==typeof e?e.call.apply(e,[this,i].concat(r)):i},t.prototype.prepare=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),o=1;n>o;o++)r[o-1]=arguments[o];return a.validate(t),(e=this.push).bind.apply(e,[this,t].concat(r))},t.prototype.replace=function(t){this._commit(this.deserialize(t))},t.prototype._commit=function(t){this._state=t,this.emit()},t.prototype._dispatch=function(t,e){var n=this,r=h(this._stores,function(e){return t in e});return Object.keys(r).length>0&&!function(){var o=l(n._state),i=d(r,function(n){return n[t](o[n],e)},o);n._commit(i)}(),e},t.prototype.addPlugin=function(t,e){u.validate(t),this._plugins.push([t,e])},t.prototype.addStore=function(t){var e=o({},s,t);c(!this._stores[t],'Tried to add "'+t+'" but it is not unique'),this._stores[e]=e},t.prototype.serialize=function(){var t=this;return d(this._stores,function(e){return e.serialize(t.pull(e))})},t.prototype.deserialize=function(){var t=void 0===arguments[0]?{}:arguments[0];return d(this._stores,function(e){return e.deserialize(t[e])})},t.prototype.toJSON=function(){return this.serialize()},t.prototype.toObject=function(){return h(this._state,function(){return!0})},t.prototype.start=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];this._state=d(this._stores,function(t){return t.getInitialState()}),p(this._plugins,this,function(){e.forEach(function(t){return t()})})},t}();t.exports=v},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(n(1));t.exports={validate:function(t){o("register"in t,"Plugins must have a register method.")}}},function(t){"use strict";t.exports={getInitialState:function(){return void 0},serialize:function(t){return t},deserialize:function(){var t=void 0===arguments[0]?this.getInitialState():arguments[0];return t},toString:function(){throw new Error("Stores must implement a toString() method")}}},function(t){"use strict";t.exports=function(t){return Object.create(t)}},function(t){"use strict";function e(t,o,i){var a=r(t),u=a[0],s=a.slice(1);if(!u)return i();var c=n(u,2),l=c[0],p=c[1];l.register(o,p,function(t){if(t)throw t;e(s,o,i)})}var n=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){for(var n,r=[],o=t[Symbol.iterator]();!(n=o.next()).done&&(r.push(n.value),!e||r.length!==e););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(t){return Array.isArray(t)?t:Array.from(t)};t.exports=e},function(t){"use strict";function e(){var t=void 0===arguments[0]?{}:arguments[0],e=[];return t.ignore=function(t){e=e.filter(function(e){return e!==t})},t.listen=function(t){e.push(t)},t.emit=function(){for(var t=0;t<e.length;t++)e[t].call(this)},t}t.exports=e},function(t){"use strict";t.exports=function(t,e){var n={};for(var r in t)e(t[r])&&(n[r]=t[r]);return n}},function(t,e,n){"use strict";function r(t){return"function"==typeof t}function o(t,e){var n=t.bind(null),r="_"+e+"_"+u++;return n.toString=function(){return r},n}var i=function(t){return t&&t.__esModule?t["default"]:t},a=i(n(2)),u=0;t.exports=function(t){return a(t,function(t,e){return r(t)?o(t,e):t})}}])},,,,function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function b(t,e,n){var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:b(o,e,n)}if("value"in r)return r.value;var i=r.get;return void 0===i?void 0:i.call(n)},a=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},u=n(27),s=r(u),c=n(28),l=r(c),p=n(11),f=r(p),d=n(1),h=(r(d),n(25)),v=r(h),m=n(26),g=r(m),y=function(t){function e(t){var n=t.el,r=t.value,a=t.blockTypes;o(this,e),i(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.addStore(l),this.addStore(s),this.addPlugin(v,{value:r,blockTypes:a}),this.addPlugin(g,{el:n})}return a(e,t),e}(f);t.exports=y},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(18),a=r(i),u=n(1),s=r(u),c=n(7),l=r(c),p=n(31),f=r(p);t.exports=s.createClass({displayName:"App",propTypes:{app:s.PropTypes.object.isRequired},getBlock:function(t,e){return s.createElement(a,o({key:t.id,block:t},this.props))},render:function(){var t=this.props.app;return s.createElement("div",{className:"colonel"},s.createElement(l,{app:t}),t.pull("blocks",f).map(this.getBlock))}})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=n(2),i=r(o),a=n(1),u=r(a),s=n(23),c=r(s),l=n(3),p=r(l),f=n(9),d=r(f);t.exports=u.createClass({displayName:"Block",propTypes:{app:u.PropTypes.object.isRequired,block:u.PropTypes.object.isRequired},getClassName:function(t){return p("col-block","col-block-"+t)},render:function(){var t=this.props,e=t.app,n=t.block,r=t.children,o=t.first,i=t.last,a=e.pull("blockTypes",d,n.type),s=(a.id,a.component);return u.createElement("div",{className:this.getClassName(n.type)},u.createElement(s,{ref:"block",content:n.content,onChange:this._onChange},r),u.createElement(c,{app:e,block:n,first:o,last:i}))},_onChange:function(t){var e=this.props,n=e.app,r=e.block;n.push(i.update,r,t)}})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=n(17),i=r(o),a=n(7),u=r(a),s=n(1),c=r(s),l=n(30),p=r(l),f=c.createClass({displayName:"EditorBlock",propTypes:{app:c.PropTypes.object.isRequired,block:c.PropTypes.object.isRequired},getBlock:function(t,e){return c.createElement(f,{key:t.id,app:this.props.app,block:t})},render:function(){var t=this.props,e=t.app,n=t.block;return c.createElement("div",null,c.createElement(i,{app:e,block:n},c.createElement(u,{app:e,parent:n}),e.pull("blocks",p,n).map(this.getBlock)),c.createElement(u,{app:e,position:n,parent:n.parent}))}});t.exports=f},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=n(1),i=r(o),a=n(3),u=r(a);t.exports=i.createClass({displayName:"Menu",getDefaultProps:function(){return{open:!1}},render:function(){var t=u("col-menu",{"col-menu-open":this.props.open});return i.createElement("nav",{role:"navigation",className:t},i.createElement("div",{className:"col-menu-backdrop","aria-hidden":"true"}),this.props.children)}})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},i=n(5),a=r(i),u=n(1),s=r(u);t.exports=s.createClass({displayName:"MenuItem",propTypes:{label:s.PropTypes.string.isRequired,onClick:s.PropTypes.func.isRequired},getDefaultProps:function(){return{className:"col-menu-item",hide:!1,type:"button"}},render:function(){var t=this.props,e=t.hide,n=t.label,r=o(t,["hide","label"]);return e?null:s.createElement(a,r,n)}})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=n(2),i=r(o),a=n(5),u=r(a),s=n(1),c=r(s);t.exports=c.createClass({displayName:"SwitchNav",propTypes:{app:c.PropTypes.object.isRequired,blockTypes:c.PropTypes.array.isRequired},getButton:function(t){var e=this,n=t.id,r=t.label;return c.createElement(u,{key:n,className:"col-switch-btn",onClick:function(){return e._onAdd(n)}},r)},render:function(){var t=this.props,e=(t.app,t.blockTypes),n=t.hide;return n?null:c.createElement("nav",{className:"col-switch-nav",role:"navigation"},e.map(this.getButton))},_onAdd:function(t){var e=this.props,n=e.app,r=e.position,o=e.parent;n.push(i.create,t,r,o)}})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=n(5),i=r(o),a=n(1),u=r(a),s=n(3),c=r(s);t.exports=u.createClass({displayName:"SwitchToggle",propTypes:{onClick:u.PropTypes.func.isRequired},getDefaultProps:function(){return{label:"Open block creation menu",hide:!1,secondary:!1,symbol:"+"}},render:function(){var t=this.props,e=t.label,n=t.hide,r=t.onClick,o=t.secondary,a=t.symbol,s=c("col-btn-fab",{"col-btn-fab-secondary":o});return u.createElement(i,{ref:"toggle",className:s,onClick:r,hide:n},u.createElement("span",{className:"col-hidden"},e),u.createElement("span",{"aria-hidden":"true"},a))}})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=n(24),i=r(o),a=n(20),u=r(a),s=n(19),c=r(s),l=n(1),p=r(l),f=n(3),d=(r(f),n(34)),h=r(d),v=n(2);t.exports=p.createClass({displayName:"Toolbar",propTypes:{app:p.PropTypes.object.isRequired,block:p.PropTypes.object.isRequired},getInitialState:function(){return{open:!1}},componentWillReceiveProps:function(){this.setState({open:!1})},render:function(){var t=this.props,e=t.app,n=t.block,r=e.pull("blocks",h,n),o=r[0]===n,a=r[r.length-1]===n;return p.createElement("div",{className:"col-toolbar"},p.createElement(i,{onClick:this._onHandleClick}),p.createElement(c,{open:this.state.open},p.createElement(u,{ref:"moveUp",label:"Move Up",onClick:e.prepare(v.shift,n.id,-1),hide:o}),p.createElement(u,{ref:"moveDown",label:"Move Down",onClick:e.prepare(v.shift,n.id,1),hide:a}),p.createElement(u,{ref:"destroy",label:"Remove",onClick:e.prepare(v.destroy,n.id)})))},_onHandleClick:function(t){t.preventDefault(),this.setState({open:!0})}})},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},i=n(1),a=r(i),u=n(40),s=r(u);t.exports=a.createClass({displayName:"ToolbarHandle",getDefaultProps:function(){return{label:"Open the menu for this block",type:"button"}},render:function(){var t=this.props,e=(t.label,o(t,["label"]));return a.createElement("button",e,a.createElement("span",{className:"col-toolbar-handle","aria-hidden":"true",dangerouslySetInnerHTML:{__html:s}}))}})},function(t,e,n){"use strict";t.exports={register:function(t,e,n){var r=e.value,o=e.blockTypes;t.replace({blocks:r,blockTypes:o}),n()}}},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(16),a=r(i),u=n(1),s=r(u);t.exports={render:function(t,e){s.render(s.createElement(a,o({app:t},t.toObject())),e)},register:function(t,e,n){var r=this,o=e.el;this.render(t,o),t.listen(function(e){return r.render(t,o)}),n()}}},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(1),a=r(i);t.exports={getInitialState:function(){return[]},deserialize:function(){var t=void 0===arguments[0]?[]:arguments[0];return t.map(function(t){var e=t.component;return"object"==typeof e&&(e=a.createClass(e)),o({types:[]},t,{component:e})})},serialize:function(){return void 0},toString:function(){return"blockTypes"}}},function(t,e,n){"use strict";var r,o=function(t){return t&&t.__esModule?t["default"]:t},i=function(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:null==e||"undefined"==typeof Symbol||e.constructor!==Symbol,configurable:!0,writable:!0})},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(2),s=o(u),c=n(8),l=o(c),p=n(9),f=o(p),d=n(10),h=o(d),v=n(33),m=o(v);t.exports=(r={getInitialState:function(){return[]},toString:function(){return"blocks"},serialize:n(29),deserialize:n(32)},i(r,s.append,function(t,e){return t.concat(new l(e))}),i(r,s.create,function(t,e){var n=e.type,r=e.parent,o=e.position,i=void 0===o?0:o,a=new l({parent:r,type:n});return i instanceof l&&(i=t.indexOf(i)+1),h(t,a,i)}),i(r,s.destroy,function(t,e){return t.filter(function(t){for(var n=t;n;n=n.parent)if(n.id==e)return!1;return!0})}),i(r,s.update,function(t,e){var n=f(t,e.id);return n.content=a({},n.content,e.content),t}),i(r,s.shift,function(t,e){var n=e.id,r=e.delta;return m(t,f(t,n),r)}),r)},function(t,e,n){"use strict";function r(t){t=t||[];var e=t.filter(function(t){return!t.parent}),n=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return e.toString()},e}(function(e){var r=t.filter(function(t){return t.parent===e});return{content:e.content,type:e.type,blocks:r.map(n)}});return e.map(n)}t.exports=r},function(t,e,n){"use strict";function r(t,e){return t.filter(function(t){return t.parent===e})}t.exports=r},function(t,e,n){"use strict";t.exports=function(t){return t.filter(function(t){return!t.parent})}},function(t,e,n){"use strict";function r(t,e){return t=t||[],t.reduce(function(t,n){var o=new u(i({},n,{parent:e})),a=r(n.blocks,o);return t.concat(o,a)},[])}var o=function(t){return t&&t.__esModule?t["default"]:t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};t.exports=r;var a=n(8),u=o(a)},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=n(10),i=r(o);t.exports=function(t,e){var n=void 0===arguments[2]?0:arguments[2],r=t.indexOf(e)+n,o=t.filter(function(t){return t!==e});return i(o,e,r)}},function(t,e,n){"use strict";function r(t,e){return t.filter(e.parent?function(t){return t.parent===e.parent}:function(t){return!t.parent})}t.exports=r},function(t,e,n){"use strict";var r=0,o=function(){return"c"+(r+=1)};t.exports=o},,,,function(t,e,n){},function(t,e,n){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>\n'},function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(4),i=0,a=n(5),u=n(8),s=n(2),c=n(7),l=u.PropTypes,p=2*Math.PI,f=n(1),d=n(6),h=u.createClass({displayName:"Ink",shouldComponentUpdate:d,propTypes:{background:l.bool,duration:l.number,opacity:l.number,radius:l.number,recenter:l.bool},getDefaultProps:function(){return{background:!0,duration:1e3,opacity:.25,radius:150,recenter:!0}},getInitialState:function(){return{store:c(this.tick),touchEvents:this.touchEvents()}},touchEvents:function(){return o?{onTouchStart:this._onPress,onTouchEnd:this._onRelease,onTouchCancel:this._onRelease,onTouchLeave:this._onRelease}:{onMouseDown:this._onPress,onMouseUp:this._onRelease,onMouseLeave:this._onRelease}},tick:function(){var t=this.state.ctx,e=this.state.color,n=this.state.density,r=this.state.height,o=this.state.width,i=this.state.store;t.save(),t.scale(n,n),t.clearRect(0,0,o,r),t.fillStyle=e,this.props.background&&(t.globalAlpha=i.getTotalOpacity(this.props.opacity),t.fillRect(0,0,o,r)),i.each(this.makeBlot,this),t.restore()},makeBlot:function(t){var e=this.state.ctx,n=this.state.height,r=this.state.width,o=t.x,i=t.y,a=t.radius;if(e.globalAlpha=f.getBlotOpacity(t,this.props.opacity),e.beginPath(),this.props.recenter){var u=Math.max(n,r);o+=f.getBlotShiftX(t,u,r),i+=f.getBlotShiftY(t,u,n)}e.arc(o,i,a*f.getBlotScale(t),0,p),e.closePath(),e.fill()},componentWillUnmount:function(){this.state.store.stop()},pushBlot:function(t,e,n){var r=this,o=this.getDOMNode(),i=o.getBoundingClientRect(),u=i.top,s=i.bottom,c=i.left,l=i.right,p=window.getComputedStyle(o),d=p.color,h=this.state.ctx||o.getContext("2d"),v=this.state.density||a(h),m=s-u,g=l-c,y=f.getMaxRadius(m,g,this.props.radius);this.setState({color:d,ctx:h,density:v,height:m,width:g},function(){r.state.store.add({duration:r.props.duration,mouseDown:t,mouseUp:0,radius:y,x:e-c,y:n-u})})},render:function(){var t=this.state.density,e=this.state.height,n=this.state.width,o=this.state.touchEvents;return u.createElement("canvas",r({className:"ink",style:r({},s,this.props.style),height:e*t,width:n*t,onDragOver:this._onRelease},o))},_onPress:function(t){var e=t.button,n=t.ctrlKey,r=t.clientX,o=t.clientY,a=t.changedTouches,u=Date.now();if(a)for(var s=0;s<a.length;s++){var c=a[s].clientX,l=a[s].clientY;this.pushBlot(u,c,l)}else e!==i||n||this.pushBlot(u,r,o)},_onRelease:function(){this.state.store.release(Date.now())}});t.exports=h},function(t,e,n){"use strict";function r(t){return l(t.duration,Date.now()-t.mouseDown)}function o(t){return t.mouseUp>0?Date.now()-t.mouseUp:0}function i(t){var e=t.duration,n=t.radius,i=.85*a(r(t),0,n,e),u=.15*a(o(t),0,n,e),l=.02*n*s(Date.now()/e);return c(0,i+u+l)}var a=n(3),u=Math.sqrt(2),s=Math.cos,c=Math.max,l=Math.min;t.exports={getMaxRadius:function(t,e,n){return l(.5*c(t,e),n)},getBlotOpacity:function(t,e){return a(o(t),e,-e,t.duration)},getBlotOuterOpacity:function(t,e){return l(this.getBlotOpacity(t,e),a(r(t),0,.3,3*t.duration))},getBlotShiftX:function(t,e,n){return l(1,i(t)/e*2/u)*(n/2-t.x)},getBlotShiftY:function(t,e,n){return l(1,i(t)/e*2/u)*(n/2-t.y)},getBlotScale:function(t){return i(t)/t.radius}}},function(t){"use strict";t.exports={borderRadius:"inherit",height:"100%",left:0,position:"absolute",top:0,width:"100%"}},function(t){"use strict";t.exports=function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e}},function(t){"use strict";var e=!1;"undefined"!=typeof window&&(e="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),t.exports=e},function(t){"use strict";t.exports=function(t){var e=window.devicePixelRatio||1,n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/n}},function(t){"use strict";function e(t,e){for(var n in t)if(this.props[n]!==t[n])return!0;for(var r in e)if(this.state[r]!==e[r])return!0;return!1}t.exports=e},function(t,e,n){"use strict";var r=n(1),o=function(t){var e=t.mouseUp,n=t.duration;return!e||Date.now()-e<n};t.exports=function(t){var e=[],n=!1,i=void 0,a={each:function(t,n){for(var r=0,o=e.length;o>r;r++)t.call(n,e[r])},play:function(){n||(n=!0,a.update())},stop:function(){n=!1,cancelAnimationFrame(i)},getTotalOpacity:function(t){for(var n=0,o=0,i=e.length;i>o;o++)n+=r.getBlotOuterOpacity(e[o],t);return n},update:function(){e=e.filter(o),e.length?(i=requestAnimationFrame(a.update),t()):a.stop()},add:function(t){e.push(t),a.play()},release:function(t){for(var n=e.length-1;n>=0;n--)if(!e[n].mouseUp)return e[n].mouseUp=t}};return a}},function(t){t.exports=n(1)}])}]);
//# sourceMappingURL=colonel-kurtz.js.map