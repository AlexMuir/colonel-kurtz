module.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t};n(42);var o=r(n(23));t.exports=o},function(t){t.exports=require("react")},function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5);e.Store=r;var o=n(4);e.Microscope=o;var i=n(3);e.Microcosm=i,e["default"]=i},function(t){"use strict";t.exports=function(t,e){var n=void 0===arguments[0]?{}:arguments[0],r=void 0===arguments[2]?{}:arguments[2],o=Object.keys(n);return o.reduce(function(t,r){return t[r]=e(n[r],r),t},r)}},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(1)),i=function(t,e){return""+t+"-"+e};e.identify=i,e["default"]=function(t,e){return o(t,function(t,n){return i(e,n)})}},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=r(n(7)),a=r(n(8)),c=r(n(2)),u=r(n(1)),l=n(10).Dispatcher,p=function(){function t(e){i(this,t),this._seed=e||{},this._heart=s(),this._dispatcher=new l,this._dispatcher.register(this._enqueue.bind(this))}return o(t,{listen:{get:function(){return this._heart.listen}},ignore:{get:function(){return this._heart.ignore}},pump:{get:function(){return this._heart.pump}},_enqueue:{value:function(t){for(var e in this.stores)this.stores[e].send(t);this.pump()}},addActions:{value:function(t){this.actions=u(t,a(this._dispatcher))}},addStores:{value:function(t){var e=this,n=u(this.actions,c);this.stores=u(t,function(t,r){return new t(n,e._seed[r],e)})}},serialize:{value:function(){return u(this.stores,function(t){return t.serialize()})}}}),t}();t.exports=p},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=r(n(11)),a=s.createClass({displayName:"Microscope",mixins:[s.addons.PureRenderMixin],propTypes:{flux:s.PropTypes.object.isRequired,watch:s.PropTypes.array.isRequired},getDefaultProps:function(){return{element:"div"}},getInitialState:function(){return this.getState()},getState:function(){var t=this.props,e=t.flux,n=t.watch;return n.reduce(function(t,n){return t[n]=e.stores[n].state,t},{})},updateState:function(){this.setState(this.getState())},componentDidMount:function(){this.props.flux.listen(this.updateState)},componentWillUnmount:function(){this.props.flux.ignore(this.updateState)},render:function(){var t=this,e=this.props,n=e.children,r=e.element,a=e.flux,c=o(e,["children","element","flux"]),u=s.Children.map(n,function(e){return s.addons.cloneWithProps(e,i({flux:a},t.state))});return s.createElement(r,c,u)}});t.exports=a},function(t){"use strict";var e=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},r=function(){function t(e,r){n(this,t),this._tasks=this.register(e),this.state=this.getInitialState(r)}return e(t,{getInitialState:{value:function(){}},register:{value:function(){}},send:{value:function(t){var e=t.type,n=t.body;this._tasks&&e in this._tasks&&this._tasks[e].call(this,n)}},toJSON:{value:function(){return this.state}},serialize:{value:function(){return void 0}}}),t}();t.exports=r},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(n(9));t.exports=function(t,e,n){return o(n).then(function(n){return t.dispatch({type:e,body:n}),n})}},function(t){"use strict";t.exports=function(){var t=[],e=null,n=function(){for(var e=0;e<t.length;e++)t[e]()};return{ignore:function(e){t=t.filter(function(t){return t!==e})},listen:function(e){t=t.concat(e)},pump:function(){t.length>0&&(cancelAnimationFrame(e),e=requestAnimationFrame(n))}}}},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(n(6)),i=r(n(1)),s=n(2).identify;t.exports=function(t){return function(e,n){return i(e,function(e,r){var i=s(n,r);return function(){for(var n=arguments.length,r=Array(n),s=0;n>s;s++)r[s]=arguments[s];return o(t,i,e.apply(void 0,r))}},{})}}},function(t){"use strict";t.exports=function(t){return t instanceof Promise?t:Promise.resolve(t)}},function(t){t.exports=n(8)},function(t){t.exports=n(44)}])},function(t){"use strict";var e=function(t,e,n,r,o,i,s,a){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,s,a],l=0;c=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return u[l++]}))}throw c.framesToPop=1,c}};t.exports=e},,function(t,e,n){"use strict";var r=n(24),o=n(1),i=o.createClass({displayName:"BlockMenu",propTypes:{allowed:o.PropTypes.array.isRequired,block:o.PropTypes.object.isRequired,blockTypes:o.PropTypes.object.isRequired,onAdd:o.PropTypes.func.isRequired},getDefaultProps:function(){return{position:0}},getButton:function(t){var e=this.props,n=e.block,i=e.onAdd,s=e.position;return o.createElement(r,{key:t.id,block:n,blockType:t,onAdd:i,position:s})},getBlockTypes:function(){var t=this.props,e=t.allowed,n=t.block,r=t.blockTypes;return n.parent?r.subset(n.type):r.within(e)},render:function(){return o.createElement("nav",{className:"col-menu",role:"navigation"},this.getBlockTypes().map(this.getButton))}});t.exports=i},function(t,e,n){"use strict";var r=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},o=n(1),i=n(13),s=o.createClass({displayName:"Button",getDefaultProps:function(){return{tagName:"button",type:"button"}},render:function(){var t=this.props,e=t.children,n=t.tagName,s=r(t,["children","tagName"]);return o.createElement(n,s,[o.createElement(i,{key:"__ink__"}),e])}});t.exports=s},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(1),i=n(32);t.exports=function(t){var e=t.mixins||[];return e.indexOf(i)<0&&(e=e.concat(i)),o.createClass(r({},t,{React:o,mixins:e}))}},function(t,e,n){t.exports.Dispatcher=n(9)},function(t,e,n){"use strict";function r(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var o=n(10),i=1,s="ID_";r.prototype.register=function(t){var e=s+i++;return this.$Dispatcher_callbacks[e]=t,e},r.prototype.unregister=function(t){o(this.$Dispatcher_callbacks[t],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",t),delete this.$Dispatcher_callbacks[t]},r.prototype.waitFor=function(t){o(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var e=0;e<t.length;e++){var n=t[e];this.$Dispatcher_isPending[n]?o(this.$Dispatcher_isHandled[n],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(o(this.$Dispatcher_callbacks[n],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this.$Dispatcher_invokeCallback(n))}},r.prototype.dispatch=function(t){o(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(t);try{for(var e in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[e]||this.$Dispatcher_invokeCallback(e)}finally{this.$Dispatcher_stopDispatching()}},r.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},r.prototype.$Dispatcher_invokeCallback=function(t){this.$Dispatcher_isPending[t]=!0,this.$Dispatcher_callbacks[t](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[t]=!0},r.prototype.$Dispatcher_startDispatching=function(t){for(var e in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[e]=!1,this.$Dispatcher_isHandled[e]=!1;this.$Dispatcher_pendingPayload=t,this.$Dispatcher_isDispatching=!0},r.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},t.exports=r},function(t){"use strict";var e=function(t,e,n,r,o,i,s,a){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,s,a],l=0;c=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return u[l++]}))}throw c.framesToPop=1,c}};t.exports=e},function(t){function e(t){var e="";if("object"==typeof t)for(var n in t)t.hasOwnProperty(n)&&t[n]&&(e+=n+" ");else for(var r=0;r<arguments.length;r++)null!=arguments[r]&&(e+=arguments[r]+" ");return e.trim()}t.exports=e},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=r(n(1)),a=r(n(11)),c=s.createClass({displayName:"Dragon",propTypes:{onDrop:s.PropTypes.func.isRequired},getDefaultProps:function(){return{allow:"all",className:"",effect:"copy",element:"div",message:{}}},getInitialState:function(){return{draggable:!0,dragging:!1,droppable:!1}},render:function(){var t=this.state.dragging,e=this.state.draggable,n=this.state.droppable,r=this.props.className,c=this.props.children,u=this.props.element,l=(this.props.onDrop,this.props.message,this.props.allow,this.props.effect,o(this.props,["className","children","element","onDrop","message","allow","effect"])),p=a({"dragon-dragging":t,"dragon-droppable":n});return s.createElement(u,i({className:a("dragon",a(r),p),draggable:e,onBlur:this._handle({draggable:!0}),onFocus:this._handle({draggable:!1}),onDragEnd:this._handle({droppable:!1,dragging:!1},!0),onDragLeave:this._handle({droppable:!1},!0),onDragOver:this._handle({droppable:!0},!0),onDragStart:this._onDragStart,onDrop:this._onDrop},l),c)},_handle:function(t,e){var n=this;return function(r){e&&r.preventDefault(),n.setState(t)}},_onDragStart:function(t){var e=this.props.effect,n=this.props.allow,r=this.props.message;t.dataTransfer.setData("text/plain",JSON.stringify(r)),t.dataTransfer.dropEffect=e,t.dataTransfer.effectAllowed=n,this.setState({dragging:!0})},_onDrop:function(t){t.preventDefault();var e=JSON.parse(t.dataTransfer.getData("text/plain")),n=this.props.message;this.props.onDrop(e,n),this.setState({droppable:!1,dragging:!1})}});t.exports=c},function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(4),i=0,s=n(5),a=n(8),c=n(2),u=n(7),l=a.PropTypes,p=2*Math.PI,f=n(1),d=n(6),h=a.createClass({displayName:"Ink",shouldComponentUpdate:d,propTypes:{background:l.bool,duration:l.number,opacity:l.number,radius:l.number,recenter:l.bool},getDefaultProps:function(){return{background:!0,duration:1e3,opacity:.25,radius:150,recenter:!0}},getInitialState:function(){return{store:u(this.tick),touchEvents:this.touchEvents()}},touchEvents:function(){return o?{onTouchStart:this._onPress,onTouchEnd:this._onRelease,onTouchCancel:this._onRelease,onTouchLeave:this._onRelease}:{onMouseDown:this._onPress,onMouseUp:this._onRelease,onMouseLeave:this._onRelease}},tick:function(){var t=this.state.ctx,e=this.state.color,n=this.state.density,r=this.state.height,o=this.state.width,i=this.state.store;t.save(),t.scale(n,n),t.clearRect(0,0,o,r),t.fillStyle=e,this.props.background&&(t.globalAlpha=i.getTotalOpacity(this.props.opacity),t.fillRect(0,0,o,r)),i.each(this.makeBlot,this),t.restore()},makeBlot:function(t){var e=this.state.ctx,n=this.state.height,r=this.state.width,o=t.x,i=t.y,s=t.radius;if(e.globalAlpha=f.getBlotOpacity(t,this.props.opacity),e.beginPath(),this.props.recenter){var a=Math.max(n,r);o+=f.getBlotShiftX(t,a,r),i+=f.getBlotShiftY(t,a,n)}e.arc(o,i,s*f.getBlotScale(t),0,p),e.closePath(),e.fill()},componentWillUnmount:function(){this.state.store.stop()},pushBlot:function(t,e,n){var r=this,o=this.getDOMNode(),i=o.getBoundingClientRect(),a=i.top,c=i.bottom,u=i.left,l=i.right,p=window.getComputedStyle(o),d=p.color,h=this.state.ctx||o.getContext("2d"),v=this.state.density||s(h),g=c-a,y=l-u,m=f.getMaxRadius(g,y,this.props.radius);this.setState({color:d,ctx:h,density:v,height:g,width:y},function(){r.state.store.add({duration:r.props.duration,mouseDown:t,mouseUp:0,radius:m,x:e-u,y:n-a})})},render:function(){var t=this.state.density,e=this.state.height,n=this.state.width,o=this.state.touchEvents;return a.createElement("canvas",r({className:"ink",style:r({},c,this.props.style),height:e*t,width:n*t,onDragOver:this._onRelease},o))},_onPress:function(t){var e=t.button,n=t.ctrlKey,r=t.clientX,o=t.clientY,s=t.changedTouches,a=Date.now();if(s)for(var c=0;c<s.length;c++){var u=s[c].clientX,l=s[c].clientY;this.pushBlot(a,u,l)}else e!==i||n||this.pushBlot(a,r,o)},_onRelease:function(){this.state.store.release(Date.now())}});t.exports=h},function(t,e,n){"use strict";function r(t){return l(t.duration,Date.now()-t.mouseDown)}function o(t){return t.mouseUp>0?Date.now()-t.mouseUp:0}function i(t){var e=t.duration,n=t.radius,i=.85*s(r(t),0,n,e),a=.15*s(o(t),0,n,e),l=.02*n*c(Date.now()/e);return u(0,i+a+l)}var s=n(3),a=Math.sqrt(2),c=Math.cos,u=Math.max,l=Math.min;t.exports={getMaxRadius:function(t,e,n){return l(.5*u(t,e),n)},getBlotOpacity:function(t,e){return s(o(t),e,-e,t.duration)},getBlotOuterOpacity:function(t,e){return l(this.getBlotOpacity(t,e),s(r(t),0,.3,3*t.duration))},getBlotShiftX:function(t,e,n){return l(1,i(t)/e*2/a)*(n/2-t.x)},getBlotShiftY:function(t,e,n){return l(1,i(t)/e*2/a)*(n/2-t.y)},getBlotScale:function(t){return i(t)/t.radius}}},function(t){"use strict";t.exports={borderRadius:"inherit",height:"100%",left:0,position:"absolute",top:0,width:"100%"}},function(t){"use strict";t.exports=function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e}},function(t){"use strict";var e=!1;"undefined"!=typeof window&&(e="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),t.exports=e},function(t){"use strict";t.exports=function(t){var e=window.devicePixelRatio||1,n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/n}},function(t){"use strict";function e(t,e){for(var n in t)if(this.props[n]!==t[n])return!0;for(var r in e)if(this.state[r]!==e[r])return!0;return!1}t.exports=e},function(t,e,n){"use strict";var r=n(1),o=function(t){var e=t.mouseUp,n=t.duration;return!e||Date.now()-e<n};t.exports=function(t){var e=[],n=!1,i=void 0,s={each:function(t,n){for(var r=0,o=e.length;o>r;r++)t.call(n,e[r])},play:function(){n||(n=!0,s.update())},stop:function(){n=!1,cancelAnimationFrame(i)},getTotalOpacity:function(t){for(var n=0,o=0,i=e.length;i>o;o++)n+=r.getBlotOuterOpacity(e[o],t);return n},update:function(){e=e.filter(o),e.length?(i=requestAnimationFrame(s.update),t()):s.stop()},add:function(t){e.push(t),s.play()},release:function(t){for(var n=e.length-1;n>=0;n--)if(!e[n].mouseUp)return e[n].mouseUp=t}};return s}},function(t){t.exports=n(1)}])},function(t){"use strict";function e(t,e){if(t===e)return!0;var n;for(n in t)if(t.hasOwnProperty(n)&&(!e.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0}t.exports=e},,,,,,,function(t){"use strict";function e(t){"production"!==e.env&&console.warn(t)}e.env="production",t.exports=e},function(t){"use strict";t.exports={create:function(t){return t},destroy:function(t){return t},update:function(t,e){return{id:t,content:e}},move:function(t,e){return{fromId:t,toId:e}}}},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function d(t,e,n){var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:d(o,e,n)}if("value"in r&&r.writable)return r.value;var i=r.get;return void 0===i?void 0:i.call(n)},s=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},c=r(n(25)),u=r(n(1)),l=r(n(2)),p=r(n(21)),f=function(t){function e(t){var r=t.el,o=t.seed,s=t.types;a(this,e),i(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,o),this.addActions({blocks:n(22)}),this.addStores({blocks:n(34),blockTypes:n(35)}),this.el=r,this.types=s,this.listen(this.render.bind(this))}return s(e,t),o(e,{render:{value:function(){var t=this,e=t.el,n=t.stores,r=t.types,o=u.createElement(c,{allowed:r,flux:this,root:n.blocks.root()});return u.render(o,e),this.rendered=!0,this}},addCallback:{value:function(t){return p("ColonelKurtz::addCallback will be deprecated in v3.0.0. Instead use listen."),this.listen(t)}},removeCallback:{value:function(t){return p("ColonelKurtz::removeCallback will be deprecated in v3.0.0. Instead use ignore."),this.ignore(t)}},simulateChange:{value:function(){p("ColonelKurtz::simulateChange will be deprecated in v3.0.0. Instead use pump."),this.pump(this.toJSON())}},toJSON:{value:function(){return this.serialize().blocks}}}),e}(l);f.createBlock=n(7),f.addBlockType=f.addBlockTypes=function(){throw new Error("ColonelKurtz.addBlockType has been removed. Pass `blockTypes` as a key for seed data")},t.exports=f},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(n(6)),i=r(n(1)),s=i.createClass({displayName:"AddBlock",propTypes:{blockType:i.PropTypes.object.isRequired,onAdd:i.PropTypes.func.isRequired},render:function(){var t=this.props.blockType,e=t.icon,n=t.id,r=t.label;return i.createElement(o,{"aria-label":r,className:"col-btn-icon",onClick:this._onClick},i.createElement("img",{src:e,alt:n,"aria-hidden":"true"}))},_onClick:function(t){var e=this.props,n=e.block,r=e.position,o=e.blockType;this.props.onAdd({parent:n,type:o.id,position:r}),t.preventDefault()}});t.exports=s},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(n(5)),i=r(n(27)),s=r(n(1)),a=s.createClass({displayName:"App",propTypes:{allowed:s.PropTypes.array,flux:s.PropTypes.object.isRequired},getDefaultProps:function(){return{allowed:[]}},getElement:function(t){var e=this.props,n=e.allowed,r=e.flux;return s.createElement("div",{className:"colonel",key:t.id},s.createElement(o,{allowed:n,block:t,blockTypes:r.stores.blockTypes,onAdd:r.actions.blocks.create}),s.createElement(i,{allowed:n,flux:r,block:t,blockTypes:r.stores.blockTypes}))},render:function(){var t=this.props.flux.stores.blocks.root();return s.createElement("div",null,t.map(this.getElement))}});t.exports=a},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(n(38)),i=r(n(1)),s=i.createClass({displayName:"Block",propTypes:{block:i.PropTypes.object.isRequired,blockType:i.PropTypes.object.isRequired,onUpdate:i.PropTypes.func.isRequired},mixins:[o],render:function(){var t=this.props,e=t.block,n=t.blockType,r=n.component;return i.createElement("div",{className:"col-block-child"},i.createElement(r,{ref:"block",initialContent:e.content,updateContent:this._onUpdateContent}))},_onUpdateContent:function(t){this.props.onUpdate(this.props.block.id,t)}});t.exports=s},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(n(45)),i=r(n(26)),s=r(n(5)),a=r(n(28)),c=r(n(1)),u=r(n(30)),l=c.createClass({displayName:"EditorBlock",propTypes:{allowed:c.PropTypes.array.isRequired,block:c.PropTypes.object.isRequired,blockTypes:c.PropTypes.object.isRequired,flux:c.PropTypes.object.isRequired},getBlock:function(t){var e=this.props,n=e.allowed,r=e.blockTypes,o=e.flux;return c.createElement(l,{key:t.id,flux:o,allowed:n,block:t,blockTypes:r})},getBlockList:function(){var t=this.props,e=t.block,n=t.flux;return c.createElement(o,{component:"div",className:"col-content",transitionName:"col-appear"},n.stores.blocks.childrenFor(e).map(this.getBlock))},render:function(){var t=this.props,e=t.allowed,n=t.block,r=t.blockTypes,o=this.props.flux.actions.blocks,l=o.create,p=o.update,f=o.move,d=o.destroy;return n.parent?c.createElement("div",null,c.createElement(a,{block:n,onMove:f},c.createElement(s,{allowed:e,block:n,blockTypes:r,position:n.parent,onAdd:l}),c.createElement(i,{block:n,blockType:r.find(n.type),onUpdate:p}),this.getBlockList(),c.createElement(u,{block:n,onDestroy:d})),c.createElement(s,{allowed:e,block:n.parent,blockTypes:r,position:n,onAdd:l})):this.getBlockList()}});t.exports=l},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(n(12)),i=r(n(1)),s=i.createClass({displayName:"Orderable",propTypes:{block:i.PropTypes.any.isRequired,onMove:i.PropTypes.func.isRequired},render:function(){return i.createElement(o,{className:"col-block",message:this.props.block.id,onDrop:this._onDrop},this.props.children)},_onDrop:function(t){this.props.onMove(t,this.props.block.id)}});t.exports=s},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(n(6)),i=r(n(31)),s=r(n(1)),a=r(n(43)),c=s.createClass({displayName:"RemoveBlock",propTypes:{block:s.PropTypes.object.isRequired,onDestroy:s.PropTypes.func.isRequired},render:function(){return s.createElement(o,{"aria-label":i.remove,className:"col-btn-remove",onClick:this._onClick},s.createElement("span",{dangerouslySetInnerHTML:{__html:""+a}}))},_onClick:function(t){t.preventDefault(),this.props.onDestroy(this.props.block.id)}});t.exports=c},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(n(1)),i=r(n(29)),s=o.createClass({displayName:"Toolbar",propTypes:{block:o.PropTypes.object.isRequired,onDestroy:o.PropTypes.func.isRequired},render:function(){return o.createElement("div",{className:"col-toolbar"},o.createElement(i,{block:this.props.block,onDestroy:this.props.onDestroy}))}});t.exports=s},function(t){"use strict";t.exports={remove:"Remove this block",fullscreen:"Toggle fullscreen mode"}},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=(n(1),n(3)),i={getInitialState:function(){return o(this.defaultContent,"BlockType mixin requires `defaultContent` implementation."),{content:this.props.initialContent||this.defaultContent()}},setContent:function(t){var e=r({},this.state.content,t);this.setState({content:e},function(){this.props.updateContent(this.state.content)})}};t.exports=i},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=n(37),s=function(){function t(e){o(this,t),this.id=i(),this.content=e.content||null,this.parent=e.parent,this.type=e.type}return r(t,{valueOf:{value:function(){return this.id}}}),t}();t.exports=s},function(t,e,n){"use strict";var r=function(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0})},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},c=n(33),u=n(3),l=n(2).Store,p=function(t){function e(){a(this,e),null!=t&&t.apply(this,arguments)}return s(e,t),i(e,{getInitialState:{value:function(t){return this.state=[],this.deserialize(t),this.state}},register:{value:function(t){var e=this,n=t.blocks;return function(){var t={};return r(t,n.create,e._create),r(t,n.destroy,e._destroy),r(t,n.update,e._update),r(t,n.move,e._move),t}()}},childrenFor:{value:function(t){return this.state.filter(function(e){return e.parent===t})}},root:{value:function(){return this.state.filter(function(t){return!t.parent})}},all:{value:function(){return this.state}},find:{value:function(t){var e=this.state.filter(function(e){return e.id===t})[0];return u(e,"Unable to find block with id of "+t),e}},_create:{value:function(t){var e=t.content,n=void 0===e?null:e,r=t.parent,o=t.position,i=void 0===o?this.state.length:o,s=t.type,a=new c({content:n,parent:r,type:s});return i instanceof c&&(i=this._indexOf(i)+1),this.state.splice(i,0,a),a}},_destroy:{value:function(t){var e=t.valueOf();this.state=this.state.filter(function(t){for(var n=t;n;n=n.parent)if(n.id==e)return!1;return!0})}},_update:{value:function(t){var e=this.find(t.id);e.content=o({},e.content,t.content)}},_indexOf:{value:function(t){return this.state.indexOf(this.find(t.valueOf()))}},_move:{value:function(t){var e=t.fromId,n=t.toId,r=this._indexOf(e),o=this._indexOf(n);this.state.splice(o,0,this.state.splice(r,1)[0])}},deserialize:{value:function(t,e){for(var n=void 0===arguments[0]?[]:arguments[0],r=0,o=n.length;o>r;r++){var i=n[r],s=i.blocks,a=i.content,c=i.type;this.deserialize(s,this._create({content:a,parent:e,type:c}))}return e}},serialize:{value:function(){return this.root().map(function t(e){return{content:e.content,type:e.type,blocks:this.childrenFor(e).map(t,this)}},this)}}}),e}(l);t.exports=p},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=n(3),c=n(36),u=n(2).Store,l={icon:null,types:null},p=function(t){function e(){s(this,e),null!=t&&t.apply(this,arguments)}return i(e,t),o(e,{getInitialState:{value:function(t){return c(t)}},within:{value:function(){var t=void 0===arguments[0]?[]:arguments[0];return this.state.filter(function(e){return t.indexOf(e.id)>-1})}},subset:{value:function(t){return this.within(this.find(t).types)}},find:{value:function(t){var e=this.state.filter(function(e){return e.id===t})[0];return a(e,"Unable to find block type with an id of "+e),e}},_create:{value:function(t){a(t.id,"BlockTypes must have an identifier"),this.state=this.state.concat(r({},l,t))}}}),e}(u);t.exports=p},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=(n(1),n(7));t.exports=function(){var t=void 0===arguments[0]?[]:arguments[0];return t.map(function(t){var e=t.component;return"object"==typeof e&&(e=o(e)),r({},t,{component:e})})}},function(t){"use strict";var e=0,n=function(){return"c"+(e+=1)};t.exports=n},function(t,e,n){"use strict";var r=n(14),o={shouldComponentUpdate:function(t,e){return!r(this.props,t)||!r(this.state,e)}};t.exports=o},,,,function(){},function(t){t.exports='<?xml version="1.0" encoding="utf-8"?>\r\n<!-- Generator: Adobe Illustrator 16.0.4, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n	 width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">\r\n<path enable-background="new    " d="M17,8.008L15.992,7L12,10.992L8.008,7L7,8.008L10.992,12L7,15.992L8.008,17L12,13.008\r\n	L15.992,17L17,15.992L13.008,12L17,8.008z"/>\r\n</svg>\r\n'},function(t){t.exports=require("react/addons")},function(t){t.exports=require("react/lib/ReactCSSTransitionGroup")}]);
//# sourceMappingURL=colonel-kurtz.js.map