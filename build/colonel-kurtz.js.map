{"version":3,"sources":["colonel-kurtz.js","webpack/bootstrap bf4d347e2cd73a76cc2b","./src/index.js","external \"react\"","./src/actions/blocks.js","./~/classnames/index.js","./src/components/Button.jsx","./src/components/Switch.jsx","./src/models/Block.js","./src/utils/findBy.js","./src/utils/insertAt.js","./~/microcosm/dist/Microcosm.js","./src/Colonel.js","./src/components/App.jsx","./src/components/Block.jsx","./src/components/EditorBlock.jsx","./src/components/Menu.jsx","./src/components/MenuItem.jsx","./src/components/SwitchNav.jsx","./src/components/SwitchToggle.jsx","./src/components/Toolbar.jsx","./src/components/ToolbarHandle.jsx","./src/plugins/bootstrap.js","./src/plugins/render.js","./src/stores/BlockTypes.js","./src/stores/Blocks.js","./src/utils/blocksToJson.js","./src/utils/childrenOf.js","./src/utils/isRoot.js","./src/utils/jsonToBlocks.js","./src/utils/shift.js","./src/utils/siblingsOf.js","./src/utils/uid.js","./assets/icons/menu.svg","./~/react-ink/dist/ink.js"],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequire","obj","__esModule","_Colonel","Colonel","require","_tag","tag","append","type","parent","create","position","destroy","update","content","shift","delta","classNames","arg","classes","i","arguments","length","Object","prototype","toString","apply","key","hasOwnProperty","substr","_objectWithoutProperties","keys","target","indexOf","_React","React","_Ink","Ink","Button","createClass","displayName","getDefaultProps","className","hide","tagName","render","_props","this","props","children","attrs","createElement","_Actions","Actions","_SwitchToggle","SwitchToggle","_SwitchNav","SwitchNav","_classNames","propTypes","app","PropTypes","object","isRequired","getInitialState","open","componentWillReceiveProps","setState","getTypes","blockTypes","pull","_ret","types","filter","v","forceOpen","state","col-switch-open","onClick","_onToggle","secondary","push","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","descriptor","enumerable","configurable","value","writable","defineProperty","protoProps","staticProps","_uid","uid","Block","params","items","val","param","undefined","matches","Error","inRange","min","max","Math","list","item","corrected","head","slice","tail","concat","t","r","e","n","framesToPop","reduce","validate","assign","o","u","s","a","f","l","h","d","_state","_stores","_plugins","Array","Promise","then","_dispatch","prepare","bind","replace","_commit","deserialize","emit","addPlugin","addStore","serialize","toJSON","toObject","start","forEach","register","isArray","Symbol","iterator","next","done","from","ignore","listen","_get","get","property","receiver","desc","getOwnPropertyDescriptor","getPrototypeOf","getter","_inherits","subClass","superClass","constructor","__proto__","_BlockTypes","BlockTypes","_Blocks","Blocks","_Microcosm2","Microcosm","_bootstrap","bootstrap","_render","ColonelKurtz","_Microcosm","_ref","el","_extends","source","_EditorBlock","EditorBlock","_Switch","Switch","_isRoot","isRoot","getBlock","block","map","_Toolbar","Toolbar","_findBy","findBy","getClassName","first","last","_app$pull","Component","component","ref","onChange","_onChange","_Block","_childrenOf","childrenOf","col-menu-open","role","aria-hidden","_Button","label","string","func","safe","_Btn","Btn","array","getButton","_this","_onAdd","symbol","col-btn-fab-secondary","_Handle","Handle","_Item","Item","_Menu","Menu","_siblingsOf","siblingsOf","_destroy$shift","siblings","isFirst","isLast","_onHandleClick","preventDefault","_menuIcon","menuIcon","dangerouslySetInnerHTML","__html","blocks","_App","App","config","options","_defineProperty","_insertAt","insertAt","_shift","_ref2","_ref2$position","record","node","blocksToJson","root","jsonify","_jsonify","_x","lists","jsonToBlocks","memo","index","without","uidCounter","PI","shouldComponentUpdate","background","bool","duration","number","opacity","radius","recenter","store","tick","touchEvents","onTouchStart","_onPress","onTouchEnd","_onRelease","onTouchCancel","onTouchLeave","onMouseDown","onMouseUp","onMouseLeave","ctx","color","density","height","width","save","scale","clearRect","fillStyle","globalAlpha","getTotalOpacity","fillRect","each","makeBlot","restore","x","y","getBlotOpacity","beginPath","getBlotShiftX","getBlotShiftY","arc","getBlotScale","closePath","fill","componentWillUnmount","stop","pushBlot","getDOMNode","getBoundingClientRect","top","bottom","left","right","window","getComputedStyle","getContext","g","getMaxRadius","add","mouseDown","mouseUp","style","onDragOver","button","ctrlKey","clientX","clientY","changedTouches","Date","now","release","sqrt","cos","getBlotOuterOpacity","borderRadius","DocumentTouch","document","devicePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","play","cancelAnimationFrame","requestAnimationFrame"],"mappings":"AAAAA,OAAOC,QACE,SAAUC,GCGnB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAH,OAGA,IAAAD,GAAAK,EAAAD,IACAH,WACAK,GAAAF,EACAG,QAAA,EAUA,OANAL,GAAAE,GAAAI,KAAAR,EAAAC,QAAAD,IAAAC,QAAAE,GAGAH,EAAAO,QAAA,EAGAP,EAAAC,QAvBA,GAAAI,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,GAGAR,EAAA,KDOM,SAASH,EAAQC,EAASE,GAE/B,YAEA,IAAIS,GAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,EAOvFV,GEnDM,GFqDN,IAAIY,GAAWZ,EEnDI,IAAba,EAAOJ,EAAAG,EFuDbf,GAAOC,QErDOe,GFyDT,SAAShB,EAAQC,EAASE,GGlEhCH,EAAAC,QAAAgB,QAAA,UHwEM,SAASjB,EAAQC,EAASE,GAE/B,YAEA,IAAIe,GAAOf,EI5EQ,GJ8EnBH,GAAOC,QI5EOiB,EAFNC,KAIPC,OAAM,SAACC,EAAMC,GACX,OAASD,OAAMC,WAGjBC,OAAM,SAACF,EAAMG,EAAUF,GACrB,OAASD,OAAMG,WAAUF,WAG3BG,QAAO,SAACnB,GACN,MAAOA,IAGToB,OAAM,SAACpB,EAAIqB,GACT,OAASrB,KAAIqB,YAGfC,MAAK,SAACtB,EAAIuB,GACR,OAASvB,KAAIuB,aJkFX,SAAS7B,EAAQC,EAASE,GKvGhC,QAAA2B,KAIA,OAFAC,GADAC,EAAA,GAGAC,EAAA,EAAgBA,EAAAC,UAAAC,OAAsBF,IAEtC,GADAF,EAAAG,UAAAD,GAKA,mBAAAF,IAAA,gBAAAA,GACAC,GAAA,IAAAD,MACG,uBAAAK,OAAAC,UAAAC,SAAA9B,KAAAuB,GACHC,GAAA,IAAAF,EAAAS,MAAA,KAAAR,OACG,oBAAAA,GACH,OAAAS,KAAAT,GACAA,EAAAU,eAAAD,IAAAT,EAAAS,KAGAR,GAAA,IAAAQ,EAIA,OAAAR,GAAAU,OAAA,GAIA,mBAAA1C,MAAAC,UACAD,EAAAC,QAAA6B,IL8GO,CAED,SAAS9B,EAAQC,EAASE,GAE/B,YAEA,IAAIS,GAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,GAEnF8B,EAA2B,SAAU9B,EAAK+B,GAAQ,GAAIC,KAAa,KAAK,GAAIZ,KAAKpB,GAAW+B,EAAKE,QAAQb,IAAM,GAAkBG,OAAOC,UAAUI,eAAejC,KAAKK,EAAKoB,KAAcY,EAAOZ,GAAKpB,EAAIoB,GAAM,OAAOY,IAEtNE,EAAS5C,EMpJI,GAAX6C,EAAKpC,EAAAmC,GNwJPE,EAAO9C,EMvJM,IAAX+C,EAAGtC,EAAAqC,GAENE,EAASH,EAAMI,aN0JhBC,YAAa,SMxJdC,gBAAe,WACb,OACEC,UAAY,UACZC,MAAY,EACZC,QAAY,SACZpC,KAAY,WAIhBqC,OAAM,WN2JH,GAAIC,GM1JuCC,KAAKC,MAA3CC,EAAQH,EAARG,SAAUN,EAAIG,EAAJH,KAAMC,EAAOE,EAAPF,QAAYM,EAAKpB,EAAAgB,GAAA,6BAEvC,OAAOH,GAAO,KACZR,EAAMgB,cAAcP,EAASM,GAC3Bf,EAAAgB,cAACd,GAAIV,IAAI,YACTsB,MNgKP9D,GAAOC,QM1JOkD,GN6JR,CAED,SAASnD,EAAQC,EAASE,GAE/B,YAEA,IAAIS,GAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,GAEnFoD,EAAW9D,EO/LS,GAAlB+D,EAAOtD,EAAAqD,GPmMTlB,EAAS5C,EOlMW,GAAlB6C,EAAKpC,EAAAmC,GPsMPoB,EAAgBhE,EOrMI,IAAlBiE,EAAYxD,EAAAuD,GPyMdE,EAAalE,EOxMO,IAAlBmE,EAAS1D,EAAAyD,GP4MXE,EAAcpE,EO3MM,GAAlB2B,EAAUlB,EAAA2D,EP+MhBvE,GAAOC,QO7MO+C,EAAMI,aP8MlBC,YAAa,SO5MdmB,WACEC,IAAMzB,EAAM0B,UAAUC,OAAOC,YAG/BC,gBAAe,WACb,OAASC,MAAM,IAGjBC,0BAAyB,WACvBnB,KAAKoB,UAAWF,MAAM,KAGxBG,SAAQ,WP+ML,GAAItB,GO9MiBC,KAAKC,MAArBY,EAAGd,EAAHc,IAAKnD,EAAMqC,EAANrC,OAEP4D,EAAaT,EAAIU,KAAK,aAE1B,KAAI7D,EAIF,MAAO4D,EP6MN,IAAIE,GAAO,WOhNZ,GAAIC,GAAQH,EAAWI,OAAO,SAAArD,GPkNzB,MOlN8BA,GAAE3B,KAAOgB,EAAOD,OAAM,GAAGgE,KAC5D,QPoNKE,EOpNEL,EAAWI,OAAO,SAAArD,GPqNlB,MOrNuBoD,GAAMvC,QAAQb,EAAE3B,IAAM,QP0NnD,OAAoB,gBAAT8E,GACFA,EAAKG,EADd,QOpNL7B,OAAM,WP6NH,GAAIC,GO5NsCC,KAAKC,MAA1CY,EAAGd,EAAHc,IAAKe,EAAS7B,EAAT6B,UAAWlE,EAAMqC,EAANrC,OAAQE,EAAQmC,EAARnC,SAE1B6D,EAAQzB,KAAKqB,WACbH,EAAQU,GAAa5B,KAAK6B,MAAMX,IAEpC,OAAOO,GAAMlD,OACXa,EAAAgB,cPgOC,OOhOIT,UAAYzB,EAAW,cAAgB4D,kBAAoBZ,KAC9D9B,EAAAgB,cAACI,GAAauB,QAAU/B,KAAKgC,UAAYC,UAAYvE,EAASkC,KAAOsB,IACrE9B,EAAAgB,cAACM,GAAUG,IAAMA,EAAMS,WAAaG,EAAQ/D,OAASA,EAASkC,MAAQsB,EAAOtD,SAAWA,KAExF,MAGNoE,UAAS,WPiON,GAAIjC,GOhO2BC,KAAKC,MAA/BY,EAAGd,EAAHc,IAAKjD,EAAQmC,EAARnC,SAAUF,EAAMqC,EAANrC,OAEjB4D,EAAaT,EAAIU,KAAK,aAEA,KAAtBD,EAAW/C,QACbsC,EAAIqB,KAAK5B,EAAQ3C,OAAQ2D,EAAW,GAAG5E,GAAIkB,EAAUF,GAGvDsC,KAAKoB,UAAWF,MAAM,QP0OpB,SAAS9E,EAAQC,EAASE,GAE/B,YAEA,IAAIS,GAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,GAEnFkF,EAAkB,SAAUC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,sCAEnHC,EAAe,WAAe,QAASC,GAAiBvD,EAAQgB,GAAS,IAAK,GAAI5B,GAAI,EAAGA,EAAI4B,EAAM1B,OAAQF,IAAK,CAAE,GAAIoE,GAAaxC,EAAM5B,EAAIoE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAUF,EAAWG,QAAOH,EAAWI,UAAW,GAAMrE,OAAOsE,eAAe7D,EAAQwD,EAAW7D,IAAK6D,IAAiB,MAAO,UAAUJ,EAAaU,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBH,EAAY5D,UAAWsE,GAAiBC,GAAaR,EAAiBH,EAAaW,GAAqBX,MAExhBY,EAAO1G,EQ5SI,IAAT2G,EAAGlG,EAAAiG,GAEWE,EAAK,WACb,QADQA,GACPC,GR+STjB,EAAgBnC,KQhTAmD,GAEjBnD,KAAKtD,GAAUwG,IACflD,KAAKjC,QAAUqF,EAAOrF,QACtBiC,KAAKtC,OAAU0F,EAAO1F,OACtBsC,KAAKvC,KAAU2F,EAAO3F,KR0TvB,MAPA8E,GQxTkBY,IRyThBvE,IAAK,UACLgE,MQlTI,WACL,MAAO5C,MAAKtD,OATKyG,IRkUpB/G,GAAOC,QQlUa8G,GRsUf,SAAS/G,EAAQC,EAASE,GAE/B,YAEAH,GAAOC,QS5UO,SAASgH,EAAOC,GT6U5B,GS7UiCC,GAAKC,SAAAlF,UAAA,GAAC,KAAIA,UAAA,GACxCmF,EAAUJ,EAAM3B,OAAO,SAAArD,GT+UxB,MS/U6BA,GAAEkF,IAAUD,GAE5C,IAAIG,EAAQlF,OACV,MAAOkF,GAAQ,EAGjB,MAAM,IAAIC,OAAK,8BAAgCH,EAAK,OAASD,KTqVzD,SAASlH,EAAQC,EAASE,GAQ/B,YU9VD,IAAIoH,GAAU,SAACf,EAAOgB,EAAKC,GViWxB,MUjWgCC,MAAKD,IAAID,EAAKE,KAAKF,IAAIC,EAAKjB,IVoW9DxG,GAAOC,QUlWO,SAAC0H,EAAMC,GVmWnB,GUnWyBpG,GAAQ4F,SAAAlF,UAAA,GAACyF,EAAKxF,OAAMD,UAAA,EVoW7C,OAAO,YUnWR,GAAI2F,GAAYN,EAAQ/F,EAAU,EAAGmG,EAAKxF,QAEtC2F,EAAOH,EAAKI,MAAM,EAAGF,GACrBG,EAAOL,EAAKI,MAAMF,EAEtB,OAAOC,GAAKG,OAAOL,EAAMI,QV0WrB,SAAShI,EAAQC,EAASE,GWxXhCH,EAAAC,QAAA,SAAAiI,GAA2B,QAAAC,GAAAC,GAAc,GAAAC,EAAAD,GAAA,MAAAC,GAAAD,GAAAnI,OAA4B,IAAAgC,GAAAoG,EAAAD,IAAYnI,WAAUK,GAAA8H,EAAA7H,QAAA,EAAiB,OAAA2H,GAAAE,GAAA5H,KAAAyB,EAAAhC,QAAAgC,IAAAhC,QAAAkI,GAAAlG,EAAA1B,QAAA,EAAA0B,EAAAhC,QAAgE,GAAAoI,KAAS,OAAAF,GAAA1H,EAAAyH,EAAAC,EAAAzH,EAAA2H,EAAAF,EAAAxH,EAAA,GAAAwH,EAAA,KAA+B,SAAAD,EAAAC,EAAAE,GAAkB,YAAaF,GAAArH,YAAA,CAAgB,IAAAsH,GAAAC,EAAA,GAAYF,GAAAhH,IAAAiH,EAAAD,EAAA,WAAAE,EAAA,IAA0B,SAAAH,GAAa,YAAa,SAAAC,GAAAD,EAAAC,GAAgB,IAAAD,EAAA,CAAO,GAAAG,GAAA,GAAAf,OAAAa,EAAmB,MAAAE,GAAAC,YAAA,EAAAD,GAAyBH,EAAAjI,QAAAkI,GAAY,SAAAD,GAAa,YAAa,SAAAC,GAAAD,EAAAC,GAAgB,GAAAE,GAAA,SAAAnG,UAAA,MAA8BA,UAAA,GAAAkG,EAAAhG,OAAAQ,KAAAsF,EAA+B,OAAAE,GAAAG,OAAA,SAAAF,EAAAD,GAA8B,MAAAC,GAAAD,GAAAD,EAAAD,EAAAE,MAAAC,GAAwBA,GAAIH,EAAAjI,QAAAkI,GAAY,SAAAD,EAAAC,EAAAE,GAAiB,YAAa,IAAAD,GAAA,SAAAF,GAAkB,MAAAA,MAAApH,WAAAoH,EAAA,WAAAA,GAAsCjG,EAAAmG,EAAAC,EAAA,GAAWH,GAAAjI,SAAWuI,SAAA,SAAAN,GAAqBjG,EAAA,kBAAAiG,GAAA,UAAAA,EAAA,oDAAsF,SAAAA,EAAAC,EAAAE,GAAiB,YAAa,IAAAD,GAAA,SAAAF,GAAkB,MAAAA,MAAApH,WAAAoH,EAAA,WAAAA,GAAsCjG,EAAAG,OAAAqG,QAAA,SAAAP,GAA8B,OAAAC,GAAA,EAAYA,EAAAjG,UAAAC,OAAmBgG,IAAA,CAAK,GAAAE,GAAAnG,UAAAiG,EAAmB,QAAAC,KAAAC,GAAAjG,OAAAC,UAAAI,eAAAjC,KAAA6H,EAAAD,KAAAF,EAAAE,GAAAC,EAAAD,IAAsE,MAAAF,IAASQ,EAAA,SAAAR,EAAAC,GAAiB,KAAAD,YAAAC,IAAA,SAAAjC,WAAA,sCAA8EyC,EAAAP,EAAAC,EAAA,IAAAO,EAAAR,EAAAC,EAAA,IAAAQ,EAAAT,EAAAC,EAAA,IAAA3H,EAAA0H,EAAAC,EAAA,IAAAS,EAAAV,EAAAC,EAAA,IAAA1H,EAAAyH,EAAAC,EAAA,IAAAU,EAAAX,EAAAC,EAAA,IAAAW,EAAAZ,EAAAC,EAAA,IAAAY,EAAAb,EAAAC,EAAA,KAAA9C,EAAA,WAAyG,QAAA2C,KAAaQ,EAAA9E,KAAAsE,GAAAa,EAAAnF,WAAAsF,UAAgCtF,KAAAuF,WAAgBvF,KAAAwF,YAAkB,MAAAlB,GAAA7F,UAAAyD,KAAA,SAAAoC,GAAoC,OAAAC,GAAAvE,KAAAyE,EAAAnG,UAAAC,OAAAiG,EAAAiB,MAAAhB,EAAA,EAAAA,EAAA,KAAApG,EAAA,EAAyDoG,EAAApG,EAAIA,IAAAmG,EAAAnG,EAAA,GAAAC,UAAAD,EAAwB0G,GAAAH,SAAAN,EAAc,IAAAQ,GAAAR,EAAA3F,MAAA,OAAA6F,EAAwB,OAAAM,aAAAY,SAAAZ,EAAAa,KAAA,SAAAlB,GAA+C,MAAAF,GAAAqB,UAAAtB,EAAAG,KAAwBzE,KAAA4F,UAAAtB,EAAAQ,IAAsBR,EAAA7F,UAAA8C,KAAA,SAAA+C,EAAAC,GAAgC,OAAAE,GAAAnG,UAAAC,OAAAiG,EAAAiB,MAAAhB,EAAA,EAAAA,EAAA,KAAApG,EAAA,EAAkDoG,EAAApG,EAAIA,IAAAmG,EAAAnG,EAAA,GAAAC,UAAAD,EAAwB,IAAAyG,GAAA9E,KAAAsF,OAAAhB,EAAqB,yBAAAC,KAAA3H,KAAA+B,MAAA4F,GAAAvE,KAAA8E,GAAAT,OAAAG,IAAAM,GAAgER,EAAA7F,UAAAoH,QAAA,SAAAvB,GAAiC,OAAAC,GAAAE,EAAAnG,UAAAC,OAAAiG,EAAAiB,MAAAhB,EAAA,EAAAA,EAAA,KAAApG,EAAA,EAAoDoG,EAAApG,EAAIA,IAAAmG,EAAAnG,EAAA,GAAAC,UAAAD,EAAwB,OAAA0G,GAAAH,SAAAN,IAAAC,EAAAvE,KAAAkC,MAAA4D,KAAAnH,MAAA4F,GAAAvE,KAAAsE,GAAAD,OAAAG,KAAoEF,EAAA7F,UAAAsH,QAAA,SAAAzB,GAAiCtE,KAAAgG,QAAAhG,KAAAiG,YAAA3B,KAAkCA,EAAA7F,UAAAuH,QAAA,SAAA1B,GAAiCtE,KAAAsF,OAAAhB,EAAAtE,KAAAkG,QAA0B5B,EAAA7F,UAAAmH,UAAA,SAAAtB,EAAAC,GAAqC,GAAAE,GAAAzE,KAAAwE,EAAAa,EAAArF,KAAAuF,QAAA,SAAAhB,GAAwC,MAAAD,KAAAC,IAAgB,OAAA/F,QAAAQ,KAAAwF,GAAAjG,OAAA,eAA4C,GAAAF,GAAA6G,EAAAT,EAAAa,QAAAR,EAAAM,EAAAZ,EAAA,SAAAC,GAAoC,MAAAA,GAAAH,GAAAjG,EAAAoG,GAAAF,IAAoBlG,EAAIoG,GAAAuB,QAAAlB,MAAaP,GAAKD,EAAA7F,UAAA0H,UAAA,SAAA7B,EAAAC,GAAqCS,EAAAJ,SAAAN,GAAAtE,KAAAwF,SAAAtD,MAAAoC,EAAAC,KAAwCD,EAAA7F,UAAA2H,SAAA,SAAA9B,GAAkC,GAAAC,GAAAlG,KAAU4G,EAAAX,EAAMxH,IAAAkD,KAAAuF,QAAAjB,GAAA,iBAAAA,EAAA,0BAAAtE,KAAAuF,QAAAhB,MAAkFD,EAAA7F,UAAA4H,UAAA,WAAkC,GAAA/B,GAAAtE,IAAW,OAAAoF,GAAApF,KAAAuF,QAAA,SAAAhB,GAAkC,MAAAA,GAAA8B,UAAA/B,EAAA/C,KAAAgD,OAAgCD,EAAA7F,UAAAwH,YAAA,WAAoC,GAAA3B,GAAA,SAAAhG,UAAA,MAA8BA,UAAA,EAAc,OAAA8G,GAAApF,KAAAuF,QAAA,SAAAhB,GAAkC,MAAAA,GAAA0B,YAAA3B,EAAAC,OAA6BD,EAAA7F,UAAA6H,OAAA,WAA+B,MAAAtG,MAAAqG,aAAwB/B,EAAA7F,UAAA8H,SAAA,WAAiC,MAAAlB,GAAArF,KAAAsF,OAAA,WAAgC,YAAWhB,EAAA7F,UAAA+H,MAAA,WAA8B,OAAAlC,GAAAhG,UAAAC,OAAAgG,EAAAkB,MAAAnB,GAAAG,EAAA,EAA0CH,EAAAG,EAAIA,IAAAF,EAAAE,GAAAnG,UAAAmG,EAAsBzE,MAAAsF,OAAAF,EAAApF,KAAAuF,QAAA,SAAAjB,GAAuC,MAAAA,GAAArD,oBAA2BlE,EAAAiD,KAAAwF,SAAAxF,KAAA,WAAkCuE,EAAAkC,QAAA,SAAAnC,GAAsB,MAAAA,UAAeA,IAAMA,GAAAjI,QAAAsF,GAAY,SAAA2C,EAAAC,EAAAE,GAAiB,YAAa,IAAAD,GAAA,SAAAF,GAAkB,MAAAA,MAAApH,WAAAoH,EAAA,WAAAA,GAAsCjG,EAAAmG,EAAAC,EAAA,GAAWH,GAAAjI,SAAWuI,SAAA,SAAAN,GAAqBjG,EAAA,YAAAiG,GAAA,2CAA2D,SAAAA,GAAa,YAAaA,GAAAjI,SAAW4E,gBAAA,WAA2B,eAAcoF,UAAA,SAAA/B,GAAuB,MAAAA,IAAS2B,YAAA,WAAwB,GAAA3B,GAAA,SAAAhG,UAAA,GAAA0B,KAAAiB,kBAAA3C,UAAA,EAAgE,OAAAgG,IAAS5F,SAAA,WAAqB,SAAAgF,OAAA,gDAA+D,SAAAY,GAAa,YAAaA,GAAAjI,QAAA,SAAAiI,GAAsB,MAAA9F,QAAAb,OAAA2G,KAAyB,SAAAA,GAAa,YAAa,SAAAC,GAAAD,EAAAjG,EAAAyG,GAAkB,GAAAC,GAAAP,EAAAF,GAAAU,EAAAD,EAAA,GAAAE,EAAAF,EAAAZ,MAAA,EAA+B,KAAAa,EAAA,MAAAF,IAAiB,IAAAhI,GAAA2H,EAAAO,EAAA,GAAAE,EAAApI,EAAA,GAAAC,EAAAD,EAAA,EAA2BoI,GAAAwB,SAAArI,EAAAtB,EAAA,SAAAuH,GAA2B,GAAAA,EAAA,KAAAA,EAAaC,GAAAU,EAAA5G,EAAAyG,KAAW,GAAAL,GAAA,SAAAH,EAAAC,GAAoB,GAAAkB,MAAAkB,QAAArC,GAAA,MAAAA,EAA6B,IAAAsC,OAAAC,WAAArI,QAAA8F,GAAA,CAAiC,OAAAG,GAAAD,KAAAnG,EAAAiG,EAAAsC,OAAAC,cAAsCpC,EAAApG,EAAAyI,QAAAC,OAAAvC,EAAAtC,KAAAuC,EAAA7B,QAAA2B,GAAAC,EAAAjG,SAAAgG,KAAyD,MAAAC,GAAS,SAAAlC,WAAA,yDAA4EkC,EAAA,SAAAF,GAAe,MAAAmB,OAAAkB,QAAArC,KAAAmB,MAAAuB,KAAA1C,GAAyCA,GAAAjI,QAAAkI,GAAY,SAAAD,GAAa,YAAa,SAAAC,KAAa,GAAAD,GAAA,SAAAhG,UAAA,MAA8BA,UAAA,GAAAiG,IAAmB,OAAAD,GAAA2C,OAAA,SAAA3C,GAA4BC,IAAA7C,OAAA,SAAA6C,GAAuB,MAAAA,KAAAD,KAAeA,EAAA4C,OAAA,SAAA5C,GAAsBC,EAAArC,KAAAoC,IAAUA,EAAA4B,KAAA,WAAmB,OAAA5B,GAAA,EAAYA,EAAAC,EAAAhG,OAAW+F,IAAAC,EAAAD,GAAA1H,KAAAoD,OAAoBsE,EAAGA,EAAAjI,QAAAkI,GAAY,SAAAD,GAAa,YAAaA,GAAAjI,QAAA,SAAAiI,EAAAC,GAAwB,GAAAE,KAAS,QAAAD,KAAAF,GAAAC,EAAAD,EAAAE,MAAAC,EAAAD,GAAAF,EAAAE,GAAoC,OAAAC,KAAU,SAAAH,EAAAC,EAAAE,GAAiB,YAAa,SAAAD,GAAAF,GAAc,wBAAAA,GAA2B,QAAAjG,GAAAiG,EAAAC,GAAgB,GAAAE,GAAAH,EAAAwB,KAAA,MAAAtB,EAAA,IAAAD,EAAA,IAAAS,GAAmC,OAAAP,GAAA/F,SAAA,WAA6B,MAAA8F,IAASC,EAAG,GAAAK,GAAA,SAAAR,GAAkB,MAAAA,MAAApH,WAAAoH,EAAA,WAAAA,GAAsCS,EAAAD,EAAAL,EAAA,IAAAO,EAAA,CAAeV,GAAAjI,QAAA,SAAAiI,GAAsB,MAAAS,GAAAT,EAAA,SAAAA,EAAAC,GAAyB,MAAAC,GAAAF,GAAAjG,EAAAiG,EAAAC,GAAAD,SX8X5tJ,CACA,CACA,CAEF,SAASlI,EAAQC,EAASE,GAE/B,YAEA,IAAIS,GAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,GAEnFkF,EAAkB,SAAUC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,sCAEnH6E,EAAO,QAASC,GAAIrG,EAAQsG,EAAUC,GAAY,GAAIC,GAAO/I,OAAOgJ,yBAAyBzG,EAAQsG,EAAW,IAAa7D,SAAT+D,EAAoB,CAAE,GAAI7J,GAASc,OAAOiJ,eAAe1G,EAAS,OAAe,QAAXrD,EAA0B8F,OAA2B4D,EAAI1J,EAAQ2J,EAAUC,GAAoB,GAAI,SAAWC,GAAQ,MAAOA,GAAK3E,KAAgB,IAAI8E,GAASH,EAAKH,GAAK,OAAe5D,UAAXkE,EAA+BlE,OAAoBkE,EAAO9K,KAAK0K,IAEtaK,EAAY,SAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIvF,WAAU,iEAAoEuF,GAAeD,GAASnJ,UAAYD,OAAOb,OAAOkK,GAAcA,EAAWpJ,WAAaqJ,aAAelF,MAAOgF,EAAUlF,YAAY,EAAOG,UAAU,EAAMF,cAAc,KAAekF,IAAYD,EAASG,UAAYF,IAO9ZG,EAAczL,EY9YI,IAAhB0L,EAAUjL,EAAAgL,GZkZZE,EAAU3L,EYjZQ,IAAhB4L,EAAMnL,EAAAkL,GZqZRE,EAAc7L,EYpZI,IAAhB8L,EAASrL,EAAAoL,GZwZXjJ,EAAS5C,EYvZS,GZ2ZlB+L,GY3ZOtL,EAAAmC,GZ2ZM5C,EYzZK,KAAhBgM,EAASvL,EAAAsL,GZ6ZXE,EAAUjM,EY5ZQ,IAAhBuD,EAAM9C,EAAAwL,GAUQC,EAAY,SAAAC,GAEpB,QAFQD,GAAYE,GZia5B,GY/ZWC,GAAED,EAAFC,GAAIhG,EAAK+F,EAAL/F,MAAOtB,EAAUqH,EAAVrH,UZmatBa,GAAgBnC,KYraAyI,GAGjBtB,EAAA3I,OAAAiJ,eAHiBgB,EAAYhK,WAAA,cAAAuB,MAAApD,KAAAoD,MAQ7BA,KAAKoG,SAAS+B,GAMdnI,KAAKoG,SAAS6B,GAMdjI,KAAKmG,UAAUoC,GAAa3F,QAAOtB,eAKnCtB,KAAKmG,UAAUrG,GAAU8I,OZya1B,MAFAjB,GYhckBc,EAAYC,GAAZD,GAAqBJ,EZqczCjM,GAAOC,QYrcaoM,GZycf,SAASrM,EAAQC,EAASE,GAE/B,YAEA,IAAIS,GAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,GAEnF4L,EAAWrK,OAAOqG,QAAU,SAAU5F,GAAU,IAAK,GAAIZ,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIyK,GAASxK,UAAUD,EAAI,KAAK,GAAIO,KAAOkK,GAActK,OAAOC,UAAUI,eAAejC,KAAKkM,EAAQlK,KAAQK,EAAOL,GAAOkK,EAAOlK,IAAY,MAAOK,IAOnP8J,EAAexM,EateI,IAAjByM,EAAWhM,EAAA+L,Gb0eb5J,EAAS5C,EazeU,GAAjB6C,EAAKpC,EAAAmC,Gb6eP8J,EAAU1M,Ea5eS,GAAjB2M,EAAMlM,EAAAiM,GbgfRE,EAAU5M,Ea/eS,IAAjB6M,EAAMpM,EAAAmM,EbmfZ/M,GAAOC,QajfO+C,EAAMI,abkflBC,YAAa,MahfdmB,WACEC,IAAMzB,EAAM0B,UAAUC,OAAOC,YAG/BqI,SAAQ,SAACC,EAAOjL,GACd,MAAQe,GAAAgB,cAAC4I,EAAWH,GAACjK,IAAM0K,EAAM5M,GAAK4M,MAAQA,GAAatJ,KAAKC,SAGlEH,OAAM,WbmfH,GalfKe,GAAQb,KAAKC,MAAbY,GAEN,OACEzB,GAAAgB,cbkfC,OalfIT,UAAU,WACbP,EAAAgB,cAAC8I,GAAOrI,IAAMA,IACZA,EAAIU,KAAK,SAAU6H,GAAQG,IAAIvJ,KAAKqJ,eb2fxC,SAASjN,EAAQC,EAASE,GAE/B,YAEA,IAAIS,GAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,GAEnFoD,EAAW9D,Ec3hBO,GAAhB+D,EAAOtD,EAAAqD,Gd+hBTlB,EAAS5C,Ec9hBS,GAAhB6C,EAAKpC,EAAAmC,GdkiBPqK,EAAWjN,EcjiBO,IAAhBkN,EAAOzM,EAAAwM,GdqiBT7I,EAAcpE,EcpiBI,GAAhB2B,EAAUlB,EAAA2D,GdwiBZ+I,EAAUnN,EcviBQ,GAAhBoN,EAAM3M,EAAA0M,Ed2iBZtN,GAAOC,QcziBO+C,EAAMI,ad0iBlBC,YAAa,QcxiBdmB,WACEC,IAAQzB,EAAM0B,UAAUC,OAAOC,WAC/BsI,MAAQlK,EAAM0B,UAAUC,OAAOC,YAGjC4I,aAAY,SAACnM,GACX,MAAOS,GAAW,YAAW,aAAgBT,IAG/CqC,OAAM,Wd2iBH,GAAIC,Gc1iBuCC,KAAKC,MAA3CY,EAAGd,EAAHc,IAAKyI,EAAKvJ,EAALuJ,MAAOpJ,EAAQH,EAARG,SAAU2J,EAAK9J,EAAL8J,MAAOC,EAAI/J,EAAJ+J,KdijB9BC,EchjB6BlJ,EAAIU,KAAK,aAAcoI,EAAQL,EAAM7L,MAAnDuM,GAAZD,EAAFrN,GAAuBqN,EAAnBE,UAEV,OACE7K,GAAAgB,cdmjBC,OcnjBIT,UAAYK,KAAK4J,aAAaN,EAAM7L,OACvC2B,EAAAgB,cAAC4J,GAAUE,IAAI,QAAQnM,QAAUuL,EAAMvL,QAAUoM,SAAWnK,KAAKoK,WAC7DlK,GAEJd,EAAAgB,cAACqJ,GAAQ5I,IAAMA,EAAMyI,MAAQA,EAAQO,MAAQA,EAAQC,KAAOA,MAKlEM,UAAS,SAACrM,GdsjBP,GAAIgC,GcrjBgBC,KAAKC,MAApBY,EAAGd,EAAHc,IAAKyI,EAAKvJ,EAALuJ,KAEXzI,GAAIqB,KAAK5B,EAAQxC,OAAQwL,EAAOvL,Od8jB9B,SAAS3B,EAAQC,EAASE,GAE/B,YAEA,IAAIS,GAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,GAEnFoN,EAAS9N,EetmBS,IAAhB4G,EAAKnG,EAAAqN,Gf0mBPpB,EAAU1M,EezmBQ,GAAhB2M,EAAMlM,EAAAiM,Gf6mBR9J,EAAS5C,Ee5mBS,GAAhB6C,EAAKpC,EAAAmC,GfgnBPmL,EAAc/N,Ee/mBI,IAAhBgO,EAAUvN,EAAAsN,GAEbtB,EAAc5J,EAAMI,afknBrBC,YAAa,cehnBdmB,WACEC,IAAQzB,EAAM0B,UAAUC,OAAOC,WAC/BsI,MAAQlK,EAAM0B,UAAUC,OAAOC,YAGjCqI,SAAQ,SAACC,EAAOjL,GACd,MAAQe,GAAAgB,cAAC4I,GAAYpK,IAAM0K,EAAM5M,GAAKmE,IAAMb,KAAKC,MAAMY,IAAMyI,MAAQA,KAGvExJ,OAAM,WfmnBH,GAAIC,GelnBgBC,KAAKC,MAApBY,EAAGd,EAAHc,IAAKyI,EAAKvJ,EAALuJ,KAEX,OACElK,GAAAgB,cfonBC,MACA,KepnBChB,EAAAgB,cAAC+C,GAAMtC,IAAMA,EAAMyI,MAAQA,GACzBlK,EAAAgB,cAAC8I,GAAOrI,IAAMA,EAAMnD,OAAS4L,IAC3BzI,EAAIU,KAAK,SAAUgJ,EAAYjB,GAAOC,IAAIvJ,KAAKqJ,WAEnDjK,EAAAgB,cAAC8I,GAAOrI,IAAMA,EAAMjD,SAAW0L,EAAQ5L,OAAS4L,EAAM5L,Yf6nB7DtB,GAAOC,QetnBO2M,Gf0nBT,SAAS5M,EAAQC,EAASE,GAE/B,YAEA,IAAIS,GAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,GAEnFkC,EAAS5C,EgBhqBS,GAAhB6C,EAAKpC,EAAAmC,GhBoqBPwB,EAAcpE,EgBnqBI,GAAhB2B,EAAUlB,EAAA2D,EhBuqBhBvE,GAAOC,QgBrqBO+C,EAAMI,ahBsqBlBC,YAAa,OgBpqBdC,gBAAe,WACb,OAASwB,MAAM,IAGjBpB,OAAM,WACJ,GAAIH,GAAYzB,EAAW,YACzBsM,gBAAkBxK,KAAKC,MAAMiB,MAG/B,OACE9B,GAAAgB,chBsqBC,OgBtqBIqK,KAAK,aAAa9K,UAAYA,GACjCP,EAAAgB,cAAA,OAAKT,UAAU,oBAAoB+K,cAAY,SAC7C1K,KAAKC,MAAMC,chB+qBf,SAAS9D,EAAQC,EAASE,GAE/B,YAEA,IAAIS,GAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,GAEnF8B,EAA2B,SAAU9B,EAAK+B,GAAQ,GAAIC,KAAa,KAAK,GAAIZ,KAAKpB,GAAW+B,EAAKE,QAAQb,IAAM,GAAkBG,OAAOC,UAAUI,eAAejC,KAAKK,EAAKoB,KAAcY,EAAOZ,GAAKpB,EAAIoB,GAAM,OAAOY,IAEtN0L,EAAUpO,EiBxsBI,GAAZgD,EAAMvC,EAAA2N,GjB4sBRxL,EAAS5C,EiB3sBK,GAAZ6C,EAAKpC,EAAAmC,EjB+sBX/C,GAAOC,QiB7sBO+C,EAAMI,ajB8sBlBC,YAAa,WiB5sBdmB,WACEgK,MAAUxL,EAAM0B,UAAU+J,OAAO7J,WACjCe,QAAU3C,EAAM0B,UAAUgK,KAAK9J,YAGjCtB,gBAAe,WACb,OACEC,UAAY,gBACZC,MAAY,EACZnC,KAAY,WAIhBqC,OAAM,WjB+sBH,GAAIC,GiB9sB0BC,KAAKC,MAA9BL,EAAIG,EAAJH,KAAMgL,EAAK7K,EAAL6K,MAAUG,EAAIhM,EAAAgB,GAAA,gBAE1B,OAAOH,GAAO,KAAQR,EAAAgB,cAACb,EAAYwL,EAASH,OjB6tB1C,SAASxO,EAAQC,EAASE,GAE/B,YAEA,IAAIS,GAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,GAEnFoD,EAAW9D,EkBxvBI,GAAb+D,EAAOtD,EAAAqD,GlB4vBT2K,EAAOzO,EkB3vBQ,GAAb0O,EAAGjO,EAAAgO,GlB+vBL7L,EAAS5C,EkB9vBM,GAAb6C,EAAKpC,EAAAmC,ElBkwBX/C,GAAOC,QkBhwBO+C,EAAMI,alBiwBlBC,YAAa,YkB/vBdmB,WACEC,IAAazB,EAAM0B,UAAUC,OAAOC,WACpCM,WAAalC,EAAM0B,UAAUoK,MAAMlK,YAGrCmK,UAAS,SAAAxC,GlBkwBN,GAAIyC,GAAQpL,KkBlwBHtD,EAAEiM,EAAFjM,GAAIkO,EAAKjC,EAALiC,KACd,OACExL,GAAAgB,cAAC6K,GAAIrM,IAAMlC,EAAKiD,UAAU,iBAAiBoC,QAAU,WlBwwBhD,MkBxwBsDqJ,GAAKC,OAAO3O,KACnEkO,IAKR9K,OAAM,WlBywBH,GAAIC,GkBxwB2BC,KAAKC,MAA1BqB,GAAFvB,EAAHc,IAAed,EAAVuB,YAAY1B,EAAIG,EAAJH,IAEvB,OAAOA,GAAO,KACZR,EAAAgB,clB2wBC,OkB3wBIT,UAAU,iBAAiB8K,KAAK,cACjCnJ,EAAWiI,IAAIvJ,KAAKmL,aAK5BE,OAAM,SAAC3O,GlB4wBJ,GAAIqD,GkB3wB2BC,KAAKC,MAA/BY,EAAGd,EAAHc,IAAKjD,EAAQmC,EAARnC,SAAUF,EAAMqC,EAANrC,MACrBmD,GAAIqB,KAAK5B,EAAQ3C,OAAQjB,EAAIkB,EAAUF,OlBqxBrC,SAAStB,EAAQC,EAASE,GAE/B,YAEA,IAAIS,GAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,GAEnF+N,EAAOzO,EmB1zBW,GAAhB0O,EAAGjO,EAAAgO,GnB8zBL7L,EAAS5C,EmB7zBS,GAAhB6C,EAAKpC,EAAAmC,GnBi0BPwB,EAAcpE,EmBh0BI,GAAhB2B,EAAUlB,EAAA2D,EnBo0BhBvE,GAAOC,QmBl0BO+C,EAAMI,anBm0BlBC,YAAa,emBj0BdmB,WACEmB,QAAU3C,EAAM0B,UAAUgK,KAAK9J,YAGjCtB,gBAAe,WACb,OACEkL,MAAY,2BACZhL,MAAY,EACZqC,WAAY,EACZqJ,OAAY,MAIhBxL,OAAM,WnBo0BH,GAAIC,GmBn0B6CC,KAAKC,MAAjD2K,EAAK7K,EAAL6K,MAAOhL,EAAIG,EAAJH,KAAMmC,EAAOhC,EAAPgC,QAASE,EAASlC,EAATkC,UAAWqJ,EAAMvL,EAANuL,OAEnC3L,EAAYzB,EAAW,eACzBqN,wBAA0BtJ,GAG5B,OACE7C,GAAAgB,cAAC6K,GAAIf,IAAI,SAASvK,UAAYA,EAAYoC,QAAUA,EAAUnC,KAAOA,GACnER,EAAAgB,cnB00BC,QmB10BKT,UAAU,cAAeiL,GAC/BxL,EAAAgB,cnB80BC,QmB90BKsK,cAAY,QAASY,QnBy1B7B,SAASlP,EAAQC,EAASE,GAE/B,YAEA,IAAIS,GAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,GAEnFuO,EAAUjP,EoB53BQ,IAAhBkP,EAAMzO,EAAAwO,GpBg4BRE,EAAQnP,EoB/3BU,IAAhBoP,EAAI3O,EAAA0O,GpBm4BNE,EAAQrP,EoBl4BU,IAAhBsP,EAAI7O,EAAA4O,GpBs4BNzM,EAAS5C,EoBr4BS,GAAhB6C,EAAKpC,EAAAmC,GpBy4BPwB,EAAcpE,EoBx4BI,GpB44BlBuP,GoB54BY9O,EAAA2D,GpB44BEpE,EoB34BI,KAAhBwP,EAAU/O,EAAA8O,GpB+4BZE,EAAiBzP,EoB74BS,EpB+4B9BH,GAAOC,QoB74BO+C,EAAMI,apB84BlBC,YAAa,UoB54BdmB,WACEC,IAAQzB,EAAM0B,UAAUC,OAAOC,WAC/BsI,MAAQlK,EAAM0B,UAAUC,OAAOC,YAGjCC,gBAAe,WACb,OAASC,MAAO,IAGlBC,0BAAyB,WACvBnB,KAAKoB,UAAWF,MAAM,KAGxBpB,OAAM,WpB+4BH,GAAIC,GoB94BgBC,KAAKC,MAApBY,EAAGd,EAAHc,IAAKyI,EAAKvJ,EAALuJ,MAEP2C,EAAWpL,EAAIU,KAAK,SAAUwK,EAAYzC,GAC1C4C,EAAWD,EAAS,KAAO3C,EAC3B6C,EAAWF,EAASA,EAAS1N,OAAS,KAAO+K,CAEjD,OACElK,GAAAgB,cpBg5BC,OoBh5BIT,UAAU,eACbP,EAAAgB,cAACqL,GAAO1J,QAAU/B,KAAKoM,iBACvBhN,EAAAgB,cAACyL,GAAK3K,KAAOlB,KAAK6B,MAAMX,MACtB9B,EAAAgB,cAACuL,GAAKzB,IAAI,SAAWU,MAAM,UAAY7I,QAAUlB,EAAIgF,QAAOmG,EA5BpDhO,MA4B4DsL,EAAM5M,GAAI,IAAMkD,KAAOsM,IAC3F9M,EAAAgB,cAACuL,GAAKzB,IAAI,WAAWU,MAAM,YAAY7I,QAAUlB,EAAIgF,QAAOmG,EA7BpDhO,MA6B4DsL,EAAM5M,GAAI,GAAMkD,KAAOuM,IAC3F/M,EAAAgB,cAACuL,GAAKzB,IAAI,UAAWU,MAAM,SAAY7I,QAAUlB,EAAIgF,QAAOmG,EA9B7DnO,QA8BuEyL,EAAM5M,SAMpF0P,eAAc,SAAC5H,GACbA,EAAE6H,iBACFrM,KAAKoB,UAAWF,MAAO,QpBy5BrB,SAAS9E,EAAQC,EAASE,GAE/B,YAEA,IAAIS,GAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,GAEnF8B,EAA2B,SAAU9B,EAAK+B,GAAQ,GAAIC,KAAa,KAAK,GAAIZ,KAAKpB,GAAW+B,EAAKE,QAAQb,IAAM,GAAkBG,OAAOC,UAAUI,eAAejC,KAAKK,EAAKoB,KAAcY,EAAOZ,GAAKpB,EAAIoB,GAAM,OAAOY,IAEtNE,EAAS5C,EqB98BO,GAAd6C,EAAKpC,EAAAmC,GrBk9BPmN,EAAY/P,EqBj9BI,IAAdgQ,EAAQvP,EAAAsP,ErBq9BdlQ,GAAOC,QqBn9BO+C,EAAMI,arBo9BlBC,YAAa,gBqBl9BdC,gBAAe,WACb,OACEkL,MAAQ,+BACRnN,KAAQ,WAIZqC,OAAM,WrBq9BH,GAAIC,GqBp9BoBC,KAAKC,MAAd8K,GAALhL,EAAL6K,MAAc7L,EAAAgB,GAAA,UAEpB,OACEX,GAAAgB,crBu9BC,SqBv9BY2K,EACX3L,EAAAgB,cAAA,QAAMT,UAAU,qBACV+K,cAAY,OACZ8B,yBAA2BC,OAAQF,UrBg+B3C,SAASnQ,EAAQC,EAASE,GAO/B,YAEAH,GAAOC,SsBr/BNqK,SAAQ,SAAC7F,EAAG8H,EAAyB7B,GtBw/BlC,GsBx/BalE,GAAK+F,EAAL/F,MAAOtB,EAAUqH,EAAVrH,UACrBT,GAAIkF,SAAU2G,OAAQ9J,EAAOtB,eAC7BwF,OtBigCE,SAAS1K,EAAQC,EAASE,GAE/B,YAEA,IAAIS,GAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,GAEnF4L,EAAWrK,OAAOqG,QAAU,SAAU5F,GAAU,IAAK,GAAIZ,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIyK,GAASxK,UAAUD,EAAI,KAAK,GAAIO,KAAOkK,GAActK,OAAOC,UAAUI,eAAejC,KAAKkM,EAAQlK,KAAQK,EAAOL,GAAOkK,EAAOlK,IAAY,MAAOK,IAOnP0N,EAAOpQ,EuBlhCM,IAAXqQ,EAAG5P,EAAA2P,GvBshCLxN,EAAS5C,EuBrhCI,GAAX6C,EAAKpC,EAAAmC,EvByhCX/C,GAAOC,SuBrhCNyD,OAAM,SAACe,EAAK+H,GACVxJ,EAAMU,OAAOV,EAAAgB,cAACwM,EAAG/D,GAAChI,IAAMA,GAAWA,EAAI0F,aAAgBqC,IAGzDlC,SAAQ,SAAC7F,EAAG8H,EAAU7B,GvBwhCnB,GAAIsE,GAAQpL,KuBxhCC4I,EAAED,EAAFC,EACd5I,MAAKF,OAAOe,EAAK+H,GAEjB/H,EAAIqG,OAAO,SAAA7I,GvB4hCR,MuB5hCa+M,GAAKtL,OAAOe,EAAI+H,KAEhC9B,OvBoiCE,SAAS1K,EAAQC,EAASE,GAE/B,YAEA,IAAIS,GAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,GAEnF4L,EAAWrK,OAAOqG,QAAU,SAAU5F,GAAU,IAAK,GAAIZ,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIyK,GAASxK,UAAUD,EAAI,KAAK,GAAIO,KAAOkK,GAActK,OAAOC,UAAUI,eAAejC,KAAKkM,EAAQlK,KAAQK,EAAOL,GAAOkK,EAAOlK,IAAY,MAAOK,IAUnPE,EAAS5C,EwB/jCI,GAAX6C,EAAKpC,EAAAmC,ExBmkCX/C,GAAOC,SwB3jCN4E,gBAAe,WACb,UAQFgF,YAAW,WxBkkCR,GwBlkCS4G,GAAMrJ,SAAAlF,UAAA,MAAGA,UAAA,EACnB,OAAOuO,GAAOtD,IAAI,SAAAuD,GAChB,GAAI7C,GAAY6C,EAAQ7C,SAMxB,OAJyB,gBAAdA,KACTA,EAAY7K,EAAMI,YAAYyK,IAGhCpB,GAASpH,UAAcqL,GAAS7C,iBAQpC5D,UAAS,WACP,MAAO7C,SAQT9E,SAAQ,WACN,MAAO,gBxB0kCL,SAAStC,EAAQC,EAASE,GAE/B,YAEA,IAAIoM,GAEA3L,EAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,GAEnF8P,EAAkB,SAAU9P,EAAK2B,EAAKgE,GAAS,MAAOpE,QAAOsE,eAAe7F,EAAK2B,GAAOgE,MAAOA,EAAOF,WAAmB,MAAP9D,GAAgC,mBAAVgI,SAAyBhI,EAAIkJ,cAAgBlB,OAAQjE,cAAc,EAAME,UAAU,KAE3NgG,EAAWrK,OAAOqG,QAAU,SAAU5F,GAAU,IAAK,GAAIZ,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIyK,GAASxK,UAAUD,EAAI,KAAK,GAAIO,KAAOkK,GAActK,OAAOC,UAAUI,eAAejC,KAAKkM,EAAQlK,KAAQK,EAAOL,GAAOkK,EAAOlK,IAAY,MAAOK,IAWnPoB,EAAW9D,EyBzoCK,GAAd+D,EAAOtD,EAAAqD,GzB6oCTgK,EAAS9N,EyB5oCO,GAAd4G,EAAKnG,EAAAqN,GzBgpCPX,EAAUnN,EyB/oCM,GAAdoN,EAAM3M,EAAA0M,GzBmpCRsD,EAAYzQ,EyBlpCI,IAAd0Q,EAAQjQ,EAAAgQ,GzBspCVE,EAAS3Q,EyBrpCO,IAAdyB,EAAKhB,EAAAkQ,EzBypCX9Q,GAAOC,SAAWsM,GyBhpCjB1H,gBAAe,WACb,UAQFvC,SAAQ,WACN,MAAO,UAQT2H,UAAW9J,EAAQ,IAOnB0J,YAAa1J,EAAQ,KAAqBwQ,EAAApE,EAMzCrI,EAAQ9C,OAAO,SAACqE,EAAOuB,GACtB,MAAOvB,GAAMwC,OAAO,GAAIlB,GAAMC,MAC/B2J,EAAApE,EAQArI,EAAQ3C,OAAO,SAACkE,EAAKsL,GzB0oCrB,GyB1oCyB1P,GAAI0P,EAAJ1P,KAAMC,EAAMyP,EAANzP,OzB4oC3B0P,EAAiBD,EyB5oCkBvP,WAAQ4F,SAAA4J,EAAC,EAACA,EAC5CC,EAAS,GAAIlK,IAAQzF,SAAQD,QAMjC,OAJIG,aAAoBuF,KACtBvF,EAAWiE,EAAM3C,QAAQtB,GAAY,GAGhCqP,EAASpL,EAAOwL,EAAQzP,KAChCmP,EAAApE,EAQArI,EAAQzC,QAAQ,SAACgE,EAAOnF,GACvB,MAAOmF,GAAMH,OAAO,SAAS4L,GAC3B,IAAK,GAAI7I,GAAI6I,EAAM7I,EAAGA,EAAIA,EAAE/G,OAC1B,GAAI+G,EAAE/H,IAAMA,EAAI,OAAO,CAEzB,QAAO,MAEVqQ,EAAApE,EAQArI,EAAQxC,OAAO,SAAC+D,EAAOuB,GACtB,GAAIkG,GAAQK,EAAO9H,EAAOuB,EAAO1G,GAIjC,OAFA4M,GAAMvL,QAAO8K,KAAQS,EAAMvL,QAAYqF,EAAOrF,SAEvC8D,IACRkL,EAAApE,EAMArI,EAAQtC,MAAM,SAAC6D,EAAKsL,GzBynCpB,GyBznCwBzQ,GAAEyQ,EAAFzQ,GAAIuB,EAAKkP,EAALlP,KAC3B,OAAOD,GAAM6D,EAAO8H,EAAO9H,EAAOnF,GAAKuB,KACxC0K,IzB8pCG,SAASvM,EAAQC,EAASE,GAE/B,Y0B5wCc,SAASgR,GAAclK,GAEpCA,EAAQA,KAER,IAAImK,GAAOnK,EAAM3B,OAAO,SAAArD,G1BixCrB,O0BjxC2BA,EAAEX,SAE5B+P,EAAO,SAAAC,G1BmxCR,QAASD,GAAQE,GACf,MAAOD,GAAS/O,MAAMqB,KAAM1B,WAO9B,MAJAmP,GAAQ/O,SAAW,WACjB,MAAO+O,GAAQ/O,YAGV+O,G0B3xCI,SAAAnE,GACZ,GAAIpJ,GAAWmD,EAAM3B,OAAO,SAAArD,G1B6xCzB,M0B7xC8BA,GAAEX,SAAW4L,GAE9C,QACEvL,QAAUuL,EAAMvL,QAChBN,KAAU6L,EAAM7L,KAChBiP,OAAUxM,EAASqJ,IAAIkE,KAI3B,OAAOD,GAAKjE,IAAIkE,G1B8vCjBrR,EAAOC,Q0B9wCgBkR,G1BmzClB,SAASnR,EAAQC,EAASE,GAO/B,Y2BrzCc,SAASgO,GAAYxG,EAAMuF,GACxC,MAAOvF,GAAKrC,OAAO,SAAArD,G3B0zChB,M2B1zCqBA,GAAEX,SAAW4L,I3BszCtClN,EAAOC,Q2BvzCgBkO,G3Bi0ClB,SAASnO,EAAQC,EAASE,GAQ/B,YAEAH,GAAOC,Q4B10CO,SAAUuR,GACvB,MAAOA,GAAMlM,OAAO,SAAArD,G5B20CjB,O4B30CuBA,EAAEX,W5Bi1CxB,SAAStB,EAAQC,EAASE,GAE/B,Y6Bx1Cc,SAASsR,GAAcnB,EAAQhP,GAI5C,MAFAgP,GAASA,MAEFA,EAAO/H,OAAO,SAAUmJ,EAAM1K,GACnC,GAAIkG,GAAW,GAAInG,GAAK0F,KAAMzF,GAAQ1F,YAClCwC,EAAW2N,EAAazK,EAAOsJ,OAAQpD,EAE3C,OAAOwE,GAAKzJ,OAAOiF,EAAOpJ,Q7Bk1C7B,GAAIlD,GAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,GAEnF4L,EAAWrK,OAAOqG,QAAU,SAAU5F,GAAU,IAAK,GAAIZ,GAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,GAAIyK,GAASxK,UAAUD,EAAI,KAAK,GAAIO,KAAOkK,GAActK,OAAOC,UAAUI,eAAejC,KAAKkM,EAAQlK,KAAQK,EAAOL,GAAOkK,EAAOlK,IAAY,MAAOK,GAEvP7C,GAAOC,Q6B91CgBwR,C7Bg2CvB,IAAIxD,GAAS9N,E6Bl2CI,GAAX4G,EAAKnG,EAAAqN,I7Bo3CN,SAASjO,EAAQC,EAASE,GAE/B,YAEA,IAAIS,GAAkB,SAAUC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,EAAI,WAAaA,GAQnF+P,EAAYzQ,E8B13CI,IAAd0Q,EAAQjQ,EAAAgQ,E9B83Cd5Q,GAAOC,Q8B53CO,SAAC0H,EAAMC,G9B63CnB,G8B73CyB/F,GAAKuF,SAAAlF,UAAA,GAAC,EAACA,UAAA,GAC7ByP,EAAUhK,EAAK7E,QAAQ8E,GAAQ/F,EAC/B+P,EAAUjK,EAAKrC,OAAO,SAAArD,G9B+3CvB,M8B/3C4BA,KAAM2F,GAErC,OAAOiJ,GAASe,EAAShK,EAAM+J,K9Bq4C3B,SAAS3R,EAAQC,EAASE,GAO/B,Y+Bn5Cc,SAASwP,GAAYhI,EAAMuF,GACxC,MACSvF,GAAKrC,OADV4H,EAAM5L,OACW,SAAAW,G/Bw5ChB,M+Bx5CqBA,GAAEX,SAAW4L,EAAM5L,QAExB,SAAAW,G/B05ChB,O+B15CsBA,EAAEX,S/Bi5C9BtB,EAAOC,Q+Br5CgB0P,G/Bq6ClB,SAAS3P,EAAQC,EAASE,GAI/B,YgC56CD,IAAI0R,GAAa,EAEb/K,EAAM,WACR,WAAY+K,GAAc,GAG5B7R,GAAOC,QAAU6G,GhCi7CT,CACA,CACA,CAEF,SAAS9G,EAAQC,EAASE,KAM1B,SAASH,EAAQC,EAASE,GiCn8ChCH,EAAAC,QAAA,wJjCy8CM,SAASD,EAAQC,EAASE,GkCz8ChCH,EAAAC,QAAA,SAAAiI,GAA2B,QAAAE,GAAAC,GAAc,GAAAK,EAAAL,GAAA,MAAAK,GAAAL,GAAApI,OAA4B,IAAAgC,GAAAyG,EAAAL,IAAYpI,WAAUK,GAAA+H,EAAA9H,QAAA,EAAiB,OAAA2H,GAAAG,GAAA7H,KAAAyB,EAAAhC,QAAAgC,IAAAhC,QAAAmI,GAAAnG,EAAA1B,QAAA,EAAA0B,EAAAhC,QAAgE,GAAAyI,KAAS,OAAAN,GAAA3H,EAAAyH,EAAAE,EAAA1H,EAAAgI,EAAAN,EAAAzH,EAAA,GAAAyH,EAAA,KAA+B,SAAAF,EAAAE,EAAAM,GAAkB,YAAa,IAAAL,GAAAjG,OAAAqG,QAAA,SAAAP,GAAiC,OAAAE,GAAA,EAAYA,EAAAlG,UAAAC,OAAmBiG,IAAA,CAAK,GAAAM,GAAAxG,UAAAkG,EAAmB,QAAAC,KAAAK,GAAAtG,OAAAC,UAAAI,eAAAjC,KAAAkI,EAAAL,KAAAH,EAAAG,GAAAK,EAAAL,IAAsE,MAAAH,IAASjG,EAAAyG,EAAA,GAAAP,EAAA,EAAAS,EAAAF,EAAA,GAAAG,EAAAH,EAAA,GAAAC,EAAAD,EAAA,GAAAhI,EAAAgI,EAAA,GAAAM,EAAAH,EAAAnE,UAAAqE,EAAA,EAAArB,KAAAoK,GAAAnR,EAAA+H,EAAA,GAAAI,EAAAJ,EAAA,GAAAO,EAAAJ,EAAAzF,aAAiGC,YAAA,MAAA0O,sBAAAjJ,EAAAtE,WAAqDwN,WAAAhJ,EAAAiJ,KAAAC,SAAAlJ,EAAAmJ,OAAAC,QAAApJ,EAAAmJ,OAAAE,OAAArJ,EAAAmJ,OAAAG,SAAAtJ,EAAAiJ,MAAqF3O,gBAAA,WAA4B,OAAO0O,YAAA,EAAAE,SAAA,IAAAE,QAAA,IAAAC,OAAA,IAAAC,UAAA,IAA+DzN,gBAAA,WAA4B,OAAO0N,MAAA7R,EAAAkD,KAAA4O,MAAAC,YAAA7O,KAAA6O,gBAAmDA,YAAA,WAAwB,MAAAxQ,IAAUyQ,aAAA9O,KAAA+O,SAAAC,WAAAhP,KAAAiP,WAAAC,cAAAlP,KAAAiP,WAAAE,aAAAnP,KAAAiP,aAAmHG,YAAApP,KAAA+O,SAAAM,UAAArP,KAAAiP,WAAAK,aAAAtP,KAAAiP,aAAkFL,KAAA,WAAiB,GAAAtK,GAAAtE,KAAA6B,MAAA0N,IAAA/K,EAAAxE,KAAA6B,MAAA2N,MAAA1K,EAAA9E,KAAA6B,MAAA4N,QAAAhL,EAAAzE,KAAA6B,MAAA6N,OAAArR,EAAA2B,KAAA6B,MAAA8N,MAAApL,EAAAvE,KAAA6B,MAAA8M,KAAuHrK,GAAAsL,OAAAtL,EAAAuL,MAAA/K,KAAAR,EAAAwL,UAAA,IAAAzR,EAAAoG,GAAAH,EAAAyL,UAAAvL,EAAAxE,KAAAC,MAAAmO,aAAA9J,EAAA0L,YAAAzL,EAAA0L,gBAAAjQ,KAAAC,MAAAuO,SAAAlK,EAAA4L,SAAA,IAAA7R,EAAAoG,IAAAF,EAAA4L,KAAAnQ,KAAAoQ,SAAApQ,MAAAsE,EAAA+L,WAAiMD,SAAA,SAAA9L,GAAsB,GAAAE,GAAAxE,KAAA6B,MAAA0N,IAAAzK,EAAA9E,KAAA6B,MAAA6N,OAAAjL,EAAAzE,KAAA6B,MAAA8N,MAAAtR,EAAAiG,EAAAgM,EAAA/L,EAAAD,EAAAiM,EAAAvL,EAAAV,EAAAmK,MAAmF,IAAAjK,EAAAwL,YAAAjT,EAAAyT,eAAAlM,EAAAtE,KAAAC,MAAAuO,SAAAhK,EAAAiM,YAAAzQ,KAAAC,MAAAyO,SAAA,CAA2F,GAAAzJ,GAAAnB,KAAAD,IAAAiB,EAAAL,EAAoBpG,IAAAtB,EAAA2T,cAAApM,EAAAW,EAAAR,GAAAF,GAAAxH,EAAA4T,cAAArM,EAAAW,EAAAH,GAAoDN,EAAAoM,IAAAvS,EAAAkG,EAAAS,EAAAjI,EAAA8T,aAAAvM,GAAA,EAAAa,GAAAX,EAAAsM,YAAAtM,EAAAuM,QAA0DC,qBAAA,WAAiChR,KAAA6B,MAAA8M,MAAAsC,QAAwBC,SAAA,SAAA5M,EAAAE,EAAAM,GAA0B,GAAAL,GAAAzE,KAAA3B,EAAA2B,KAAAmR,aAAA5M,EAAAlG,EAAA+S,wBAAAnM,EAAAV,EAAA8M,IAAAtM,EAAAR,EAAA+M,OAAAxU,EAAAyH,EAAAgN,KAAAnM,EAAAb,EAAAiN,MAAArM,EAAAsM,OAAAC,iBAAArT,GAAA6G,EAAAC,EAAAqK,MAAAnK,EAAArF,KAAA6B,MAAA0N,KAAAlR,EAAAsT,WAAA,MAAAC,EAAA5R,KAAA6B,MAAA4N,SAAAzK,EAAAK,GAAAxI,EAAAkI,EAAAE,EAAAtD,EAAAyD,EAAAtI,EAAAwT,EAAAvT,EAAA8U,aAAAhV,EAAA8E,EAAA3B,KAAAC,MAAAwO,OAA4PzO,MAAAoB,UAAeoO,MAAAtK,EAAAqK,IAAAlK,EAAAoK,QAAAmC,EAAAlC,OAAA7S,EAAA8S,MAAAhO,GAAyC,WAAY8C,EAAA5C,MAAA8M,MAAAmD,KAAmBxD,SAAA7J,EAAAxE,MAAAqO,SAAAyD,UAAAzN,EAAA0N,QAAA,EAAAvD,OAAA6B,IAAA9L,EAAA1H,EAAAyT,EAAAzL,EAAAG,OAAyEnF,OAAA,WAAmB,GAAAwE,GAAAtE,KAAA6B,MAAA4N,QAAAjL,EAAAxE,KAAA6B,MAAA6N,OAAA5K,EAAA9E,KAAA6B,MAAA8N,MAAAtR,EAAA2B,KAAA6B,MAAAgN,WAAyF,OAAA5J,GAAA7E,cAAA,SAAAqE,GAAmC9E,UAAA,MAAAsS,MAAAxN,KAA0BM,EAAA/E,KAAAC,MAAAgS,OAAAvC,OAAAlL,EAAAF,EAAAqL,MAAA7K,EAAAR,EAAA4N,WAAAlS,KAAAiP,YAAqE5Q,KAAK0Q,SAAA,SAAAzK,GAAsB,GAAAE,GAAAF,EAAA6N,OAAArN,EAAAR,EAAA8N,QAAA3N,EAAAH,EAAA+N,QAAAhU,EAAAiG,EAAAgO,QAAAtN,EAAAV,EAAAiO,eAAAtN,EAAAuN,KAAAC,KAAmF,IAAAzN,EAAA,OAAAD,GAAA,EAAiBA,EAAAC,EAAAzG,OAAWwG,IAAA,CAAK,GAAAjI,GAAAkI,EAAAD,GAAAsN,QAAAjN,EAAAJ,EAAAD,GAAAuN,OAAkCtS,MAAAkR,SAAAjM,EAAAnI,EAAAsI,OAAqBZ,KAAAD,GAAAO,GAAA9E,KAAAkR,SAAAjM,EAAAR,EAAApG,IAAoC4Q,WAAA,WAAuBjP,KAAA6B,MAAA8M,MAAA+D,QAAAF,KAAAC,SAAwCnO,GAAAjI,QAAAgJ,GAAY,SAAAf,EAAAE,EAAAM,GAAiB,YAAa,SAAAL,GAAAH,GAAc,MAAAc,GAAAd,EAAAgK,SAAAkE,KAAAC,MAAAnO,EAAAyN,WAA4C,QAAA1T,GAAAiG,GAAc,MAAAA,GAAA0N,QAAA,EAAAQ,KAAAC,MAAAnO,EAAA0N,QAAA,EAA0C,QAAAzN,GAAAD,GAAc,GAAAE,GAAAF,EAAAgK,SAAAxJ,EAAAR,EAAAmK,OAAAlK,EAAA,IAAAS,EAAAP,EAAAH,GAAA,EAAAQ,EAAAN,GAAAS,EAAA,IAAAD,EAAA3G,EAAAiG,GAAA,EAAAQ,EAAAN,GAAAY,EAAA,IAAAN,EAAAC,EAAAyN,KAAAC,MAAAjO,EAA4F,OAAA1H,GAAA,EAAAyH,EAAAU,EAAAG,GAAkB,GAAAJ,GAAAF,EAAA,GAAAG,EAAAnB,KAAA6O,KAAA,GAAA5N,EAAAjB,KAAA8O,IAAA9V,EAAAgH,KAAAD,IAAAuB,EAAAtB,KAAAF,GAA2DU,GAAAjI,SAAWwV,aAAA,SAAAvN,EAAAE,EAAAM,GAA6B,MAAAM,GAAA,GAAAtI,EAAAwH,EAAAE,GAAAM,IAAsB0L,eAAA,SAAAlM,EAAAE,GAA8B,MAAAQ,GAAA3G,EAAAiG,GAAAE,KAAAF,EAAAgK,WAA+BuE,oBAAA,SAAAvO,EAAAE,GAAmC,MAAAY,GAAApF,KAAAwQ,eAAAlM,EAAAE,GAAAQ,EAAAP,EAAAH,GAAA,OAAAA,EAAAgK,YAA6DoC,cAAA,SAAApM,EAAAE,EAAAM,GAA+B,MAAAM,GAAA,EAAAb,EAAAD,GAAAE,EAAA,EAAAS,IAAAH,EAAA,EAAAR,EAAAgM,IAAiCK,cAAA,SAAArM,EAAAE,EAAAM,GAA+B,MAAAM,GAAA,EAAAb,EAAAD,GAAAE,EAAA,EAAAS,IAAAH,EAAA,EAAAR,EAAAiM,IAAiCM,aAAA,SAAAvM,GAA0B,MAAAC,GAAAD,KAAAmK,UAAuB,SAAAnK,GAAa,YAAaA,GAAAjI,SAAWyW,aAAA,UAAApD,OAAA,OAAA6B,KAAA,EAAA3T,SAAA,WAAAyT,IAAA,EAAA1B,MAAA,SAAoF,SAAArL,GAAa,YAAaA,GAAAjI,QAAA,SAAAiI,EAAAE,EAAAM,EAAAL,GAA4B,MAAAK,KAAAR,IAAAG,EAAA,GAAAH,QAAA,GAAAE,IAAkC,SAAAF,GAAa,YAAa,IAAAE,IAAA,CAAS,oBAAAiN,UAAAjN,EAAA,gBAAAiN,gBAAAsB,eAAAC,mBAAAD,gBAAAzO,EAAAjI,QAAAmI,GAA6H,SAAAF,GAAa,YAAaA,GAAAjI,QAAA,SAAAiI,GAAsB,GAAAE,GAAAiN,OAAAwB,kBAAA,EAAAnO,EAAAR,EAAA4O,8BAAA5O,EAAA6O,2BAAA7O,EAAA8O,0BAAA9O,EAAA+O,yBAAA/O,EAAAgP,wBAAA,CAAmL,OAAA9O,GAAAM,IAAY,SAAAR,GAAa,YAAa,SAAAE,GAAAF,EAAAE,GAAgB,OAAAM,KAAAR,GAAA,GAAAtE,KAAAC,MAAA6E,KAAAR,EAAAQ,GAAA,QAAgD,QAAAL,KAAAD,GAAA,GAAAxE,KAAA6B,MAAA4C,KAAAD,EAAAC,GAAA,QAAgD,UAASH,EAAAjI,QAAAmI,GAAY,SAAAF,EAAAE,EAAAM,GAAiB,YAAa,IAAAL,GAAAK,EAAA,GAAAzG,EAAA,SAAAiG,GAAyB,GAAAE,GAAAF,EAAA0N,QAAAlN,EAAAR,EAAAgK,QAA6B,QAAA9J,GAAAgO,KAAAC,MAAAjO,EAAAM,EAA0BR,GAAAjI,QAAA,SAAAiI,GAAsB,GAAAE,MAAAM,GAAA,EAAAP,EAAA,OAAAS,GAA0BmL,KAAA,SAAA7L,EAAAQ,GAAmB,OAAAL,GAAA,EAAApG,EAAAmG,EAAAjG,OAAuBF,EAAAoG,EAAIA,IAAAH,EAAA1H,KAAAkI,EAAAN,EAAAC,KAAmB8O,KAAA,WAAiBzO,OAAA,EAAAE,EAAAlH,WAAqBmT,KAAA,WAAiBnM,GAAA,EAAA0O,qBAAAjP,IAA6B0L,gBAAA,SAAA3L,GAA6B,OAAAQ,GAAA,EAAAzG,EAAA,EAAAkG,EAAAC,EAAAjG,OAA2BgG,EAAAlG,EAAIA,IAAAyG,GAAAL,EAAAoO,oBAAArO,EAAAnG,GAAAiG,EAAqC,OAAAQ,IAAShH,OAAA,WAAmB0G,IAAA9C,OAAArD,GAAAmG,EAAAjG,QAAAgG,EAAAkP,sBAAAzO,EAAAlH,QAAAwG,KAAAU,EAAAiM,QAAwEa,IAAA,SAAAxN,GAAiBE,EAAAtC,KAAAoC,GAAAU,EAAAuO,QAAmBb,QAAA,SAAApO,GAAqB,OAAAQ,GAAAN,EAAAjG,OAAA,EAAqBuG,GAAA,EAAKA,IAAA,IAAAN,EAAAM,GAAAkN,QAAA,MAAAxN,GAAAM,GAAAkN,QAAA1N,GAA6C,OAAAU,KAAU,SAAAV,GAAaA,EAAAjI,QAAAE,EAAA","file":"colonel-kurtz.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\t/**\n\t * Colonel Kurts\n\t * A custom block editor\n\t */\n\n\t__webpack_require__(39);\n\n\tvar _Colonel = __webpack_require__(15);\n\n\tvar Colonel = _interopRequire(_Colonel);\n\n\tmodule.exports = Colonel;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = require(\"react\");\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _tag = __webpack_require__(11);\n\n\tmodule.exports = _tag.tag({\n\n\t  append: function append(type, parent) {\n\t    return { type: type, parent: parent };\n\t  },\n\n\t  create: function create(type, position, parent) {\n\t    return { type: type, position: position, parent: parent };\n\t  },\n\n\t  destroy: function destroy(id) {\n\t    return id;\n\t  },\n\n\t  update: function update(id, content) {\n\t    return { id: id, content: content };\n\t  },\n\n\t  shift: function shift(id, delta) {\n\t    return { id: id, delta: delta };\n\t  }\n\t});\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tfunction classNames() {\n\t\tvar classes = '';\n\t\tvar arg;\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\targ = arguments[i];\n\t\t\tif (!arg) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ('string' === typeof arg || 'number' === typeof arg) {\n\t\t\t\tclasses += ' ' + arg;\n\t\t\t} else if (Object.prototype.toString.call(arg) === '[object Array]') {\n\t\t\t\tclasses += ' ' + classNames.apply(null, arg);\n\t\t\t} else if ('object' === typeof arg) {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (!arg.hasOwnProperty(key) || !arg[key]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tclasses += ' ' + key;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn classes.substr(1);\n\t}\n\n\t// safely export classNames in case the script is included directly on a page\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t}\n\n\n/***/ },\n/* 4 */,\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\tvar _objectWithoutProperties = function (obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; };\n\n\tvar _React = __webpack_require__(1);\n\n\tvar React = _interopRequire(_React);\n\n\tvar _Ink = __webpack_require__(41);\n\n\tvar Ink = _interopRequire(_Ink);\n\n\tvar Button = React.createClass({\n\t  displayName: 'Button',\n\n\t  getDefaultProps: function getDefaultProps() {\n\t    return {\n\t      className: 'col-btn',\n\t      hide: false,\n\t      tagName: 'button',\n\t      type: 'button'\n\t    };\n\t  },\n\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var children = _props.children;\n\t    var hide = _props.hide;\n\t    var tagName = _props.tagName;\n\n\t    var attrs = _objectWithoutProperties(_props, ['children', 'hide', 'tagName']);\n\n\t    return hide ? null : React.createElement(tagName, attrs, [React.createElement(Ink, { key: '__ink__' }), children]);\n\t  }\n\t});\n\n\tmodule.exports = Button;\n\n/***/ },\n/* 6 */,\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\tvar _Actions = __webpack_require__(2);\n\n\tvar Actions = _interopRequire(_Actions);\n\n\tvar _React = __webpack_require__(1);\n\n\tvar React = _interopRequire(_React);\n\n\tvar _SwitchToggle = __webpack_require__(22);\n\n\tvar SwitchToggle = _interopRequire(_SwitchToggle);\n\n\tvar _SwitchNav = __webpack_require__(21);\n\n\tvar SwitchNav = _interopRequire(_SwitchNav);\n\n\tvar _classNames = __webpack_require__(3);\n\n\tvar classNames = _interopRequire(_classNames);\n\n\tmodule.exports = React.createClass({\n\t  displayName: 'Switch',\n\n\t  propTypes: {\n\t    app: React.PropTypes.object.isRequired\n\t  },\n\n\t  getInitialState: function getInitialState() {\n\t    return { open: false };\n\t  },\n\n\t  componentWillReceiveProps: function componentWillReceiveProps() {\n\t    this.setState({ open: false });\n\t  },\n\n\t  getTypes: function getTypes() {\n\t    var _props = this.props;\n\t    var app = _props.app;\n\t    var parent = _props.parent;\n\n\t    var blockTypes = app.pull('blockTypes');\n\n\t    if (parent) {\n\t      var _ret = (function () {\n\t        var types = blockTypes.filter(function (i) {\n\t          return i.id === parent.type;\n\t        })[0].types;\n\t        return {\n\t          v: blockTypes.filter(function (i) {\n\t            return types.indexOf(i.id) > -1;\n\t          })\n\t        };\n\t      })();\n\n\t      if (typeof _ret === 'object') {\n\t        return _ret.v;\n\t      }\n\t    } else {\n\t      return blockTypes;\n\t    }\n\t  },\n\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var app = _props.app;\n\t    var forceOpen = _props.forceOpen;\n\t    var parent = _props.parent;\n\t    var position = _props.position;\n\n\t    var types = this.getTypes();\n\t    var open = forceOpen || this.state.open;\n\n\t    return types.length ? React.createElement(\n\t      'div',\n\t      { className: classNames('col-switch', { 'col-switch-open': open }) },\n\t      React.createElement(SwitchToggle, { onClick: this._onToggle, secondary: parent, hide: open }),\n\t      React.createElement(SwitchNav, { app: app, blockTypes: types, parent: parent, hide: !open, position: position })\n\t    ) : null;\n\t  },\n\n\t  _onToggle: function _onToggle() {\n\t    var _props = this.props;\n\t    var app = _props.app;\n\t    var position = _props.position;\n\t    var parent = _props.parent;\n\n\t    var blockTypes = app.pull('blockTypes');\n\n\t    if (blockTypes.length === 1) {\n\t      app.push(Actions.create, blockTypes[0].id, position, parent);\n\t    }\n\n\t    this.setState({ open: true });\n\t  }\n\n\t});\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (descriptor.value) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _uid = __webpack_require__(35);\n\n\tvar uid = _interopRequire(_uid);\n\n\tvar Block = (function () {\n\t  function Block(params) {\n\t    _classCallCheck(this, Block);\n\n\t    this.id = uid();\n\t    this.content = params.content;\n\t    this.parent = params.parent;\n\t    this.type = params.type;\n\t  }\n\n\t  _createClass(Block, [{\n\t    key: 'valueOf',\n\t    value: function valueOf() {\n\t      return this.id;\n\t    }\n\t  }]);\n\n\t  return Block;\n\t})();\n\n\tmodule.exports = Block;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tmodule.exports = function (items, val) {\n\t  var param = arguments[2] === undefined ? 'id' : arguments[2];\n\n\t  var matches = items.filter(function (i) {\n\t    return i[param] == val;\n\t  });\n\n\t  if (matches.length) {\n\t    return matches[0];\n\t  }\n\n\t  throw new Error('Unable to find record with ' + param + ' of ' + val);\n\t};\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * InsertAfter\n\t * Given a list and an item, non-destructively return a new list\n\t * including the item after a given position\n\t */\n\n\t\"use strict\";\n\n\tvar inRange = function inRange(value, min, max) {\n\t  return Math.max(min, Math.min(max, value));\n\t};\n\n\tmodule.exports = function (list, item) {\n\t  var position = arguments[2] === undefined ? list.length : arguments[2];\n\t  return (function () {\n\t    var corrected = inRange(position, 0, list.length);\n\n\t    var head = list.slice(0, corrected);\n\t    var tail = list.slice(corrected);\n\n\t    return head.concat(item, tail);\n\t  })();\n\t};\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports=function(t){function r(e){if(n[e])return n[e].exports;var i=n[e]={exports:{},id:e,loaded:!1};return t[e].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}var n={};return r.m=t,r.c=n,r.p=\"\",r(0)}([function(t,r,n){\"use strict\";r.__esModule=!0;var e=n(11);r.tag=e,r[\"default\"]=n(4)},function(t){\"use strict\";function r(t,r){if(!t){var n=new Error(r);throw n.framesToPop=1,n}}t.exports=r},function(t){\"use strict\";function r(t,r){var n=void 0===arguments[2]?{}:arguments[2],e=Object.keys(t);return e.reduce(function(n,e){return n[e]=r(t[e],e),n},n)}t.exports=r},function(t,r,n){\"use strict\";var e=function(t){return t&&t.__esModule?t[\"default\"]:t},i=e(n(1));t.exports={validate:function(t){i(\"function\"==typeof t,\"Action \"+t+\" is not callable, actions should be functions\")}}},function(t,r,n){\"use strict\";var e=function(t){return t&&t.__esModule?t[\"default\"]:t},i=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},o=function(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")},u=e(n(3)),s=e(n(5)),a=e(n(6)),c=e(n(1)),f=e(n(7)),p=e(n(8)),l=e(n(9)),h=e(n(2)),d=e(n(10)),v=function(){function t(){o(this,t),l(this),this._state={},this._stores={},this._plugins=[]}return t.prototype.push=function(t){for(var r=this,n=arguments.length,e=Array(n>1?n-1:0),i=1;n>i;i++)e[i-1]=arguments[i];u.validate(t);var o=t.apply(void 0,e);return o instanceof Promise?o.then(function(n){return r._dispatch(t,n)}):this._dispatch(t,o)},t.prototype.pull=function(t,r){for(var n=arguments.length,e=Array(n>2?n-2:0),i=2;n>i;i++)e[i-2]=arguments[i];var o=this._state[t];return\"function\"==typeof r?r.call.apply(r,[this,o].concat(e)):o},t.prototype.prepare=function(t){for(var r,n=arguments.length,e=Array(n>1?n-1:0),i=1;n>i;i++)e[i-1]=arguments[i];return u.validate(t),(r=this.push).bind.apply(r,[this,t].concat(e))},t.prototype.replace=function(t){this._commit(this.deserialize(t))},t.prototype._commit=function(t){this._state=t,this.emit()},t.prototype._dispatch=function(t,r){var n=this,e=d(this._stores,function(r){return t in r});return Object.keys(e).length>0&&!function(){var i=f(n._state),o=h(e,function(n){return n[t](i[n],r)},i);n._commit(o)}(),r},t.prototype.addPlugin=function(t,r){s.validate(t),this._plugins.push([t,r])},t.prototype.addStore=function(t){var r=i({},a,t);c(!this._stores[t],'Tried to add \"'+t+'\" but it is not unique'),this._stores[r]=r},t.prototype.serialize=function(){var t=this;return h(this._stores,function(r){return r.serialize(t.pull(r))})},t.prototype.deserialize=function(){var t=void 0===arguments[0]?{}:arguments[0];return h(this._stores,function(r){return r.deserialize(t[r])})},t.prototype.toJSON=function(){return this.serialize()},t.prototype.toObject=function(){return d(this._state,function(){return!0})},t.prototype.start=function(){for(var t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];this._state=h(this._stores,function(t){return t.getInitialState()}),p(this._plugins,this,function(){r.forEach(function(t){return t()})})},t}();t.exports=v},function(t,r,n){\"use strict\";var e=function(t){return t&&t.__esModule?t[\"default\"]:t},i=e(n(1));t.exports={validate:function(t){i(\"register\"in t,\"Plugins must have a register method.\")}}},function(t){\"use strict\";t.exports={getInitialState:function(){return void 0},serialize:function(t){return t},deserialize:function(){var t=void 0===arguments[0]?this.getInitialState():arguments[0];return t},toString:function(){throw new Error(\"Stores must implement a toString() method\")}}},function(t){\"use strict\";t.exports=function(t){return Object.create(t)}},function(t){\"use strict\";function r(t,i,o){var u=e(t),s=u[0],a=u.slice(1);if(!s)return o();var c=n(s,2),f=c[0],p=c[1];f.register(i,p,function(t){if(t)throw t;r(a,i,o)})}var n=function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){for(var n,e=[],i=t[Symbol.iterator]();!(n=i.next()).done&&(e.push(n.value),!r||e.length!==r););return e}throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},e=function(t){return Array.isArray(t)?t:Array.from(t)};t.exports=r},function(t){\"use strict\";function r(){var t=void 0===arguments[0]?{}:arguments[0],r=[];return t.ignore=function(t){r=r.filter(function(r){return r!==t})},t.listen=function(t){r.push(t)},t.emit=function(){for(var t=0;t<r.length;t++)r[t].call(this)},t}t.exports=r},function(t){\"use strict\";t.exports=function(t,r){var n={};for(var e in t)r(t[e])&&(n[e]=t[e]);return n}},function(t,r,n){\"use strict\";function e(t){return\"function\"==typeof t}function i(t,r){var n=t.bind(null),e=\"_\"+r+\"_\"+s++;return n.toString=function(){return e},n}var o=function(t){return t&&t.__esModule?t[\"default\"]:t},u=o(n(2)),s=0;t.exports=function(t){return u(t,function(t,r){return e(t)?i(t,r):t})}}]);\n\t//# sourceMappingURL=Microcosm.js.map\n\n/***/ },\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\tvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } };\n\n\tvar _get = function get(object, property, receiver) { var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n\tvar _inherits = function (subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; };\n\n\t/**\n\t * Colonel Kurts\n\t * A custom block editor\n\t */\n\n\tvar _BlockTypes = __webpack_require__(27);\n\n\tvar BlockTypes = _interopRequire(_BlockTypes);\n\n\tvar _Blocks = __webpack_require__(28);\n\n\tvar Blocks = _interopRequire(_Blocks);\n\n\tvar _Microcosm2 = __webpack_require__(11);\n\n\tvar Microcosm = _interopRequire(_Microcosm2);\n\n\tvar _React = __webpack_require__(1);\n\n\tvar React = _interopRequire(_React);\n\n\tvar _bootstrap = __webpack_require__(25);\n\n\tvar bootstrap = _interopRequire(_bootstrap);\n\n\tvar _render = __webpack_require__(26);\n\n\tvar render = _interopRequire(_render);\n\n\t/**\n\t * Colonel Kurtz is a layer on top of the Microcosm framework\n\t * Microcosm is a simple Flux implementation designed to solve issues\n\t * with state specifically for Colonel Kurtz\n\t *\n\t * See:\n\t * https://github.com/vigetlabs/microcosm\n\t */\n\n\tvar ColonelKurtz = (function (_Microcosm) {\n\t  function ColonelKurtz(_ref) {\n\t    var el = _ref.el;\n\t    var value = _ref.value;\n\t    var blockTypes = _ref.blockTypes;\n\n\t    _classCallCheck(this, ColonelKurtz);\n\n\t    _get(Object.getPrototypeOf(ColonelKurtz.prototype), 'constructor', this).call(this);\n\n\t    /**\n\t     * A block is an individual chunk of content. It can have children\n\t     */\n\t    this.addStore(Blocks);\n\n\t    /**\n\t     * A block type defines the editing experience for a specific type\n\t     * content\n\t     */\n\t    this.addStore(BlockTypes);\n\n\t    /**\n\t     * The bootstrap plugin takes seed data and prepares the\n\t     * application's state beyond initializing\n\t     */\n\t    this.addPlugin(bootstrap, { value: value, blockTypes: blockTypes });\n\n\t    /**\n\t     * The render plugin handles updating the browser ui\n\t     */\n\t    this.addPlugin(render, { el: el });\n\t  }\n\n\t  _inherits(ColonelKurtz, _Microcosm);\n\n\t  return ColonelKurtz;\n\t})(Microcosm);\n\n\tmodule.exports = ColonelKurtz;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\t/**\n\t * This is the root component that contains sections for\n\t * toggling between viewing modes and viewing managed content\n\t */\n\n\tvar _EditorBlock = __webpack_require__(18);\n\n\tvar EditorBlock = _interopRequire(_EditorBlock);\n\n\tvar _React = __webpack_require__(1);\n\n\tvar React = _interopRequire(_React);\n\n\tvar _Switch = __webpack_require__(7);\n\n\tvar Switch = _interopRequire(_Switch);\n\n\tvar _isRoot = __webpack_require__(31);\n\n\tvar isRoot = _interopRequire(_isRoot);\n\n\tmodule.exports = React.createClass({\n\t  displayName: 'App',\n\n\t  propTypes: {\n\t    app: React.PropTypes.object.isRequired\n\t  },\n\n\t  getBlock: function getBlock(block, i) {\n\t    return React.createElement(EditorBlock, _extends({ key: block.id, block: block }, this.props));\n\t  },\n\n\t  render: function render() {\n\t    var app = this.props.app;\n\n\t    return React.createElement(\n\t      'div',\n\t      { className: 'colonel' },\n\t      React.createElement(Switch, { app: app }),\n\t      app.pull('blocks', isRoot).map(this.getBlock)\n\t    );\n\t  }\n\n\t});\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\tvar _Actions = __webpack_require__(2);\n\n\tvar Actions = _interopRequire(_Actions);\n\n\tvar _React = __webpack_require__(1);\n\n\tvar React = _interopRequire(_React);\n\n\tvar _Toolbar = __webpack_require__(23);\n\n\tvar Toolbar = _interopRequire(_Toolbar);\n\n\tvar _classNames = __webpack_require__(3);\n\n\tvar classNames = _interopRequire(_classNames);\n\n\tvar _findBy = __webpack_require__(9);\n\n\tvar findBy = _interopRequire(_findBy);\n\n\tmodule.exports = React.createClass({\n\t  displayName: 'Block',\n\n\t  propTypes: {\n\t    app: React.PropTypes.object.isRequired,\n\t    block: React.PropTypes.object.isRequired\n\t  },\n\n\t  getClassName: function getClassName(type) {\n\t    return classNames('col-block', 'col-block-' + type);\n\t  },\n\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var app = _props.app;\n\t    var block = _props.block;\n\t    var children = _props.children;\n\t    var first = _props.first;\n\t    var last = _props.last;\n\n\t    var _app$pull = app.pull('blockTypes', findBy, block.type);\n\n\t    var id = _app$pull.id;\n\t    var Component = _app$pull.component;\n\n\t    return React.createElement(\n\t      'div',\n\t      { className: this.getClassName(block.type) },\n\t      React.createElement(\n\t        Component,\n\t        { ref: 'block', content: block.content, onChange: this._onChange },\n\t        children\n\t      ),\n\t      React.createElement(Toolbar, { app: app, block: block, first: first, last: last })\n\t    );\n\t  },\n\n\t  _onChange: function _onChange(content) {\n\t    var _props = this.props;\n\t    var app = _props.app;\n\t    var block = _props.block;\n\n\t    app.push(Actions.update, block, content);\n\t  }\n\n\t});\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\tvar _Block = __webpack_require__(17);\n\n\tvar Block = _interopRequire(_Block);\n\n\tvar _Switch = __webpack_require__(7);\n\n\tvar Switch = _interopRequire(_Switch);\n\n\tvar _React = __webpack_require__(1);\n\n\tvar React = _interopRequire(_React);\n\n\tvar _childrenOf = __webpack_require__(30);\n\n\tvar childrenOf = _interopRequire(_childrenOf);\n\n\tvar EditorBlock = React.createClass({\n\t  displayName: 'EditorBlock',\n\n\t  propTypes: {\n\t    app: React.PropTypes.object.isRequired,\n\t    block: React.PropTypes.object.isRequired\n\t  },\n\n\t  getBlock: function getBlock(block, i) {\n\t    return React.createElement(EditorBlock, { key: block.id, app: this.props.app, block: block });\n\t  },\n\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var app = _props.app;\n\t    var block = _props.block;\n\n\t    return React.createElement(\n\t      'div',\n\t      null,\n\t      React.createElement(\n\t        Block,\n\t        { app: app, block: block },\n\t        React.createElement(Switch, { app: app, parent: block }),\n\t        app.pull('blocks', childrenOf, block).map(this.getBlock)\n\t      ),\n\t      React.createElement(Switch, { app: app, position: block, parent: block.parent })\n\t    );\n\t  }\n\n\t});\n\n\tmodule.exports = EditorBlock;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\tvar _React = __webpack_require__(1);\n\n\tvar React = _interopRequire(_React);\n\n\tvar _classNames = __webpack_require__(3);\n\n\tvar classNames = _interopRequire(_classNames);\n\n\tmodule.exports = React.createClass({\n\t  displayName: 'Menu',\n\n\t  getDefaultProps: function getDefaultProps() {\n\t    return { open: false };\n\t  },\n\n\t  render: function render() {\n\t    var className = classNames('col-menu', {\n\t      'col-menu-open': this.props.open\n\t    });\n\n\t    return React.createElement(\n\t      'nav',\n\t      { role: 'navigation', className: className },\n\t      React.createElement('div', { className: 'col-menu-backdrop', 'aria-hidden': 'true' }),\n\t      this.props.children\n\t    );\n\t  }\n\n\t});\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\tvar _objectWithoutProperties = function (obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; };\n\n\tvar _Button = __webpack_require__(5);\n\n\tvar Button = _interopRequire(_Button);\n\n\tvar _React = __webpack_require__(1);\n\n\tvar React = _interopRequire(_React);\n\n\tmodule.exports = React.createClass({\n\t  displayName: 'MenuItem',\n\n\t  propTypes: {\n\t    label: React.PropTypes.string.isRequired,\n\t    onClick: React.PropTypes.func.isRequired\n\t  },\n\n\t  getDefaultProps: function getDefaultProps() {\n\t    return {\n\t      className: 'col-menu-item',\n\t      hide: false,\n\t      type: 'button'\n\t    };\n\t  },\n\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var hide = _props.hide;\n\t    var label = _props.label;\n\n\t    var safe = _objectWithoutProperties(_props, ['hide', 'label']);\n\n\t    return hide ? null : React.createElement(\n\t      Button,\n\t      safe,\n\t      label\n\t    );\n\t  }\n\n\t});\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\tvar _Actions = __webpack_require__(2);\n\n\tvar Actions = _interopRequire(_Actions);\n\n\tvar _Btn = __webpack_require__(5);\n\n\tvar Btn = _interopRequire(_Btn);\n\n\tvar _React = __webpack_require__(1);\n\n\tvar React = _interopRequire(_React);\n\n\tmodule.exports = React.createClass({\n\t  displayName: 'SwitchNav',\n\n\t  propTypes: {\n\t    app: React.PropTypes.object.isRequired,\n\t    blockTypes: React.PropTypes.array.isRequired\n\t  },\n\n\t  getButton: function getButton(_ref) {\n\t    var _this = this;\n\n\t    var id = _ref.id;\n\t    var label = _ref.label;\n\n\t    return React.createElement(\n\t      Btn,\n\t      { key: id, className: 'col-switch-btn', onClick: function () {\n\t          return _this._onAdd(id);\n\t        } },\n\t      label\n\t    );\n\t  },\n\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var app = _props.app;\n\t    var blockTypes = _props.blockTypes;\n\t    var hide = _props.hide;\n\n\t    return hide ? null : React.createElement(\n\t      'nav',\n\t      { className: 'col-switch-nav', role: 'navigation' },\n\t      blockTypes.map(this.getButton)\n\t    );\n\t  },\n\n\t  _onAdd: function _onAdd(id) {\n\t    var _props = this.props;\n\t    var app = _props.app;\n\t    var position = _props.position;\n\t    var parent = _props.parent;\n\n\t    app.push(Actions.create, id, position, parent);\n\t  }\n\t});\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\tvar _Btn = __webpack_require__(5);\n\n\tvar Btn = _interopRequire(_Btn);\n\n\tvar _React = __webpack_require__(1);\n\n\tvar React = _interopRequire(_React);\n\n\tvar _classNames = __webpack_require__(3);\n\n\tvar classNames = _interopRequire(_classNames);\n\n\tmodule.exports = React.createClass({\n\t  displayName: 'SwitchToggle',\n\n\t  propTypes: {\n\t    onClick: React.PropTypes.func.isRequired\n\t  },\n\n\t  getDefaultProps: function getDefaultProps() {\n\t    return {\n\t      label: 'Open block creation menu',\n\t      hide: false,\n\t      secondary: false,\n\t      symbol: '+'\n\t    };\n\t  },\n\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var label = _props.label;\n\t    var hide = _props.hide;\n\t    var onClick = _props.onClick;\n\t    var secondary = _props.secondary;\n\t    var symbol = _props.symbol;\n\n\t    var className = classNames('col-btn-fab', {\n\t      'col-btn-fab-secondary': secondary\n\t    });\n\n\t    return React.createElement(\n\t      Btn,\n\t      { ref: 'toggle', className: className, onClick: onClick, hide: hide },\n\t      React.createElement(\n\t        'span',\n\t        { className: 'col-hidden' },\n\t        label\n\t      ),\n\t      React.createElement(\n\t        'span',\n\t        { 'aria-hidden': 'true' },\n\t        symbol\n\t      )\n\t    );\n\t  }\n\n\t});\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\tvar _Handle = __webpack_require__(24);\n\n\tvar Handle = _interopRequire(_Handle);\n\n\tvar _Item = __webpack_require__(20);\n\n\tvar Item = _interopRequire(_Item);\n\n\tvar _Menu = __webpack_require__(19);\n\n\tvar Menu = _interopRequire(_Menu);\n\n\tvar _React = __webpack_require__(1);\n\n\tvar React = _interopRequire(_React);\n\n\tvar _classNames = __webpack_require__(3);\n\n\tvar classNames = _interopRequire(_classNames);\n\n\tvar _siblingsOf = __webpack_require__(34);\n\n\tvar siblingsOf = _interopRequire(_siblingsOf);\n\n\tvar _destroy$shift = __webpack_require__(2);\n\n\tmodule.exports = React.createClass({\n\t  displayName: 'Toolbar',\n\n\t  propTypes: {\n\t    app: React.PropTypes.object.isRequired,\n\t    block: React.PropTypes.object.isRequired\n\t  },\n\n\t  getInitialState: function getInitialState() {\n\t    return { open: false };\n\t  },\n\n\t  componentWillReceiveProps: function componentWillReceiveProps() {\n\t    this.setState({ open: false });\n\t  },\n\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var app = _props.app;\n\t    var block = _props.block;\n\n\t    var siblings = app.pull('blocks', siblingsOf, block);\n\t    var isFirst = siblings[0] === block;\n\t    var isLast = siblings[siblings.length - 1] === block;\n\n\t    return React.createElement(\n\t      'div',\n\t      { className: 'col-toolbar' },\n\t      React.createElement(Handle, { onClick: this._onHandleClick }),\n\t      React.createElement(\n\t        Menu,\n\t        { open: this.state.open },\n\t        React.createElement(Item, { ref: 'moveUp', label: 'Move Up', onClick: app.prepare(_destroy$shift.shift, block.id, -1), hide: isFirst }),\n\t        React.createElement(Item, { ref: 'moveDown', label: 'Move Down', onClick: app.prepare(_destroy$shift.shift, block.id, 1), hide: isLast }),\n\t        React.createElement(Item, { ref: 'destroy', label: 'Remove', onClick: app.prepare(_destroy$shift.destroy, block.id) })\n\t      )\n\t    );\n\t  },\n\n\t  _onHandleClick: function _onHandleClick(e) {\n\t    e.preventDefault();\n\t    this.setState({ open: true });\n\t  }\n\n\t});\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\tvar _objectWithoutProperties = function (obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; };\n\n\tvar _React = __webpack_require__(1);\n\n\tvar React = _interopRequire(_React);\n\n\tvar _menuIcon = __webpack_require__(40);\n\n\tvar menuIcon = _interopRequire(_menuIcon);\n\n\tmodule.exports = React.createClass({\n\t  displayName: 'ToolbarHandle',\n\n\t  getDefaultProps: function getDefaultProps() {\n\t    return {\n\t      label: 'Open the menu for this block',\n\t      type: 'button'\n\t    };\n\t  },\n\n\t  render: function render() {\n\t    var _props = this.props;\n\t    var label = _props.label;\n\n\t    var safe = _objectWithoutProperties(_props, ['label']);\n\n\t    return React.createElement(\n\t      'button',\n\t      safe,\n\t      React.createElement('span', { className: 'col-toolbar-handle',\n\t        'aria-hidden': 'true',\n\t        dangerouslySetInnerHTML: { __html: menuIcon } })\n\t    );\n\t  }\n\n\t});\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Bootstrap\n\t * This plugin is responsible for injecting data into the system\n\t */\n\n\t\"use strict\";\n\n\tmodule.exports = {\n\n\t  register: function register(app, _ref, next) {\n\t    var value = _ref.value;\n\t    var blockTypes = _ref.blockTypes;\n\n\t    app.replace({ blocks: value, blockTypes: blockTypes });\n\t    next();\n\t  }\n\n\t};\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\t/**\n\t * Render\n\t * Handles updating the browser UI\n\t */\n\n\tvar _App = __webpack_require__(16);\n\n\tvar App = _interopRequire(_App);\n\n\tvar _React = __webpack_require__(1);\n\n\tvar React = _interopRequire(_React);\n\n\tmodule.exports = {\n\n\t  render: function render(app, el) {\n\t    React.render(React.createElement(App, _extends({ app: app }, app.toObject())), el);\n\t  },\n\n\t  register: function register(app, _ref, next) {\n\t    var _this = this;\n\n\t    var el = _ref.el;\n\n\t    this.render(app, el);\n\n\t    app.listen(function (i) {\n\t      return _this.render(app, el);\n\t    });\n\n\t    next();\n\t  }\n\n\t};\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\t/**\n\t * Block Type Store\n\t *\n\t * A Block Type describes the editing experience for a Block. Whenever\n\t * an action associated with block type the system, this module tells\n\t * Colonel Kurtz how that action manipulates block type data.\n\t */\n\n\tvar _React = __webpack_require__(1);\n\n\tvar React = _interopRequire(_React);\n\n\tmodule.exports = {\n\n\t  /**\n\t   * getInitialState\n\t   * Block types are stored in an array\n\t   */\n\t  getInitialState: function getInitialState() {\n\t    return [];\n\t  },\n\n\t  /**\n\t   * deserialize\n\t   * Any time block types are injected into the system, always make sure\n\t   * they follow some guidelines.\n\t   */\n\t  deserialize: function deserialize() {\n\t    var config = arguments[0] === undefined ? [] : arguments[0];\n\n\t    return config.map(function (options) {\n\t      var component = options.component;\n\n\t      if (typeof component === 'object') {\n\t        component = React.createClass(component);\n\t      }\n\n\t      return _extends({ types: [] }, options, { component: component });\n\t    });\n\t  },\n\n\t  /**\n\t   * serialize\n\t   * Block types are never serialized, so return nothing\n\t   */\n\t  serialize: function serialize() {\n\t    return undefined;\n\t  },\n\n\t  /**\n\t   * toString\n\t   * Tells Colonel Kurtz that block type information can be found at\n\t   * the `blockTypes` key\n\t   */\n\t  toString: function toString() {\n\t    return 'blockTypes';\n\t  }\n\n\t};\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _ref;\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\tvar _defineProperty = function (obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: key == null || typeof Symbol == 'undefined' || key.constructor !== Symbol, configurable: true, writable: true }); };\n\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\t/**\n\t * Block Store\n\t *\n\t * The Block Store is responsible for defining how blocks are stored\n\t * within Colonel Kurtz. Whenever an action associated with block\n\t * records is pushed into the system, this module tells Colonel Kurtz\n\t * how that action manipulates block data.\n\t */\n\n\tvar _Actions = __webpack_require__(2);\n\n\tvar Actions = _interopRequire(_Actions);\n\n\tvar _Block = __webpack_require__(8);\n\n\tvar Block = _interopRequire(_Block);\n\n\tvar _findBy = __webpack_require__(9);\n\n\tvar findBy = _interopRequire(_findBy);\n\n\tvar _insertAt = __webpack_require__(10);\n\n\tvar insertAt = _interopRequire(_insertAt);\n\n\tvar _shift = __webpack_require__(33);\n\n\tvar shift = _interopRequire(_shift);\n\n\tmodule.exports = (_ref = {\n\n\t  /**\n\t   * getInitialState\n\t   * Runs whenever the application starts. Provides the expected array\n\t   * relied upon by other operations\n\t   */\n\t  getInitialState: function getInitialState() {\n\t    return [];\n\t  },\n\n\t  /**\n\t   * toString\n\t   * Tells Colonel Kurtz that this store manages the `blocks` key. Any\n\t   * modifications related to blocks can be found there\n\t   */\n\t  toString: function toString() {\n\t    return 'blocks';\n\t  },\n\n\t  /**\n\t   * For simplicity, blocks are stored in an array, `blocksToJson`\n\t   * takes a list of blocks and transforms them into the nested structure\n\t   * shown in the front end\n\t   */\n\t  serialize: __webpack_require__(29),\n\n\t  /**\n\t   * As mentioned previously, blocks are serialized to a nested\n\t   * structure. jsonToBlocks takes this nested structure and flattens\n\t   * into a list for this store.\n\t   */\n\t  deserialize: __webpack_require__(32) }, _defineProperty(_ref, Actions.append, function (state, params) {\n\t  return state.concat(new Block(params));\n\t}), _defineProperty(_ref, Actions.create, function (state, _ref2) {\n\t  var type = _ref2.type;\n\t  var parent = _ref2.parent;\n\t  var _ref2$position = _ref2.position;\n\t  var position = _ref2$position === undefined ? 0 : _ref2$position;\n\n\t  var record = new Block({ parent: parent, type: type });\n\n\t  if (position instanceof Block) {\n\t    position = state.indexOf(position) + 1;\n\t  }\n\n\t  return insertAt(state, record, position);\n\t}), _defineProperty(_ref, Actions.destroy, function (state, id) {\n\t  return state.filter(function (node) {\n\t    for (var n = node; n; n = n.parent) {\n\t      if (n.id == id) return false;\n\t    }\n\t    return true;\n\t  });\n\t}), _defineProperty(_ref, Actions.update, function (state, params) {\n\t  var block = findBy(state, params.id);\n\n\t  block.content = _extends({}, block.content, params.content);\n\n\t  return state;\n\t}), _defineProperty(_ref, Actions.shift, function (state, _ref2) {\n\t  var id = _ref2.id;\n\t  var delta = _ref2.delta;\n\n\t  return shift(state, findBy(state, id), delta);\n\t}), _ref);\n\n\t/**\n\t * Actions.append\n\t * Simply add a new block at the end of the list\n\t */\n\n\t/**\n\t * Actions.create\n\t * Produces a new block based upon given parameters.\n\t * If the provided position is a Block, place the new block right\n\t * after it.\n\t */\n\n\t/**\n\t * Actions.destroy\n\t * Given an id, remove that block and eliminate all other blocks\n\t * nested inside of it. This is important so removing that `section`\n\t * type blocks also eliminates children\n\t */\n\n\t/**\n\t * Actions.update\n\t * Given a parameters, find the block associated with those\n\t * parameters (by id) and update the content inside. All other\n\t * attributes will not be changed.\n\t */\n\n\t/**\n\t * Actions.shift\n\t * Adjust the position of a given block\n\t */\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\n\tmodule.exports = blocksToJson;\n\n\tfunction blocksToJson(items) {\n\t  // If items are null or undefined, assume an empty list\n\t  items = items || [];\n\n\t  var root = items.filter(function (i) {\n\t    return !i.parent;\n\t  });\n\n\t  var jsonify = (function (_jsonify) {\n\t    function jsonify(_x) {\n\t      return _jsonify.apply(this, arguments);\n\t    }\n\n\t    jsonify.toString = function () {\n\t      return jsonify.toString();\n\t    };\n\n\t    return jsonify;\n\t  })(function (block) {\n\t    var children = items.filter(function (i) {\n\t      return i.parent === block;\n\t    });\n\n\t    return {\n\t      content: block.content,\n\t      type: block.type,\n\t      blocks: children.map(jsonify)\n\t    };\n\t  });\n\n\t  return root.map(jsonify);\n\t}\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * childrenOf\n\t * Get the children of a provided block\n\t */\n\n\t\"use strict\";\n\n\tmodule.exports = childrenOf;\n\n\tfunction childrenOf(list, block) {\n\t  return list.filter(function (i) {\n\t    return i.parent === block;\n\t  });\n\t}\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * isRoot\n\t * For displaying root level blocks, we only care about blocks that don't have\n\t * parents.\n\t */\n\n\t\"use strict\";\n\n\tmodule.exports = function (lists) {\n\t  return lists.filter(function (i) {\n\t    return !i.parent;\n\t  });\n\t};\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\tmodule.exports = jsonToBlocks;\n\n\tvar _Block = __webpack_require__(8);\n\n\tvar Block = _interopRequire(_Block);\n\n\tfunction jsonToBlocks(blocks, parent) {\n\t  // If blocks are null or undefined, assume an empty list\n\t  blocks = blocks || [];\n\n\t  return blocks.reduce(function (memo, params) {\n\t    var block = new Block(_extends({}, params, { parent: parent }));\n\t    var children = jsonToBlocks(params.blocks, block);\n\n\t    return memo.concat(block, children);\n\t  }, []);\n\t}\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _interopRequire = function (obj) { return obj && obj.__esModule ? obj['default'] : obj; };\n\n\t/**\n\t * Move\n\t * Given a list and an item, non-destructively return a new list\n\t * where a given item has been moved by a given delta\n\t */\n\n\tvar _insertAt = __webpack_require__(10);\n\n\tvar insertAt = _interopRequire(_insertAt);\n\n\tmodule.exports = function (list, item) {\n\t  var delta = arguments[2] === undefined ? 0 : arguments[2];\n\n\t  var index = list.indexOf(item) + delta;\n\t  var without = list.filter(function (i) {\n\t    return i !== item;\n\t  });\n\n\t  return insertAt(without, item, index);\n\t};\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * siblingsOf\n\t * Get the siblings of a provided block\n\t */\n\n\t\"use strict\";\n\n\tmodule.exports = siblingsOf;\n\n\tfunction siblingsOf(list, block) {\n\t  if (block.parent) {\n\t    return list.filter(function (i) {\n\t      return i.parent === block.parent;\n\t    });\n\t  } else {\n\t    return list.filter(function (i) {\n\t      return !i.parent;\n\t    });\n\t  }\n\t}\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* @flow */\n\n\t\"use strict\";\n\n\tvar uidCounter = 0;\n\n\tvar uid = function uid() {\n\t  return \"c\" + (uidCounter += 1);\n\t};\n\n\tmodule.exports = uid;\n\n/***/ },\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\\\"/></svg>\\n\"\n\n/***/ },\n/* 41 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports=function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p=\"\",e(0)}([function(t,e,o){\"use strict\";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},i=o(4),r=0,s=o(5),a=o(8),u=o(2),c=o(7),h=a.PropTypes,l=2*Math.PI,p=o(1),f=o(6),d=a.createClass({displayName:\"Ink\",shouldComponentUpdate:f,propTypes:{background:h.bool,duration:h.number,opacity:h.number,radius:h.number,recenter:h.bool},getDefaultProps:function(){return{background:!0,duration:1e3,opacity:.25,radius:150,recenter:!0}},getInitialState:function(){return{store:c(this.tick),touchEvents:this.touchEvents()}},touchEvents:function(){return i?{onTouchStart:this._onPress,onTouchEnd:this._onRelease,onTouchCancel:this._onRelease,onTouchLeave:this._onRelease}:{onMouseDown:this._onPress,onMouseUp:this._onRelease,onMouseLeave:this._onRelease}},tick:function(){var t=this.state.ctx,e=this.state.color,o=this.state.density,n=this.state.height,i=this.state.width,r=this.state.store;t.save(),t.scale(o,o),t.clearRect(0,0,i,n),t.fillStyle=e,this.props.background&&(t.globalAlpha=r.getTotalOpacity(this.props.opacity),t.fillRect(0,0,i,n)),r.each(this.makeBlot,this),t.restore()},makeBlot:function(t){var e=this.state.ctx,o=this.state.height,n=this.state.width,i=t.x,r=t.y,s=t.radius;if(e.globalAlpha=p.getBlotOpacity(t,this.props.opacity),e.beginPath(),this.props.recenter){var a=Math.max(o,n);i+=p.getBlotShiftX(t,a,n),r+=p.getBlotShiftY(t,a,o)}e.arc(i,r,s*p.getBlotScale(t),0,l),e.closePath(),e.fill()},componentWillUnmount:function(){this.state.store.stop()},pushBlot:function(t,e,o){var n=this,i=this.getDOMNode(),r=i.getBoundingClientRect(),a=r.top,u=r.bottom,c=r.left,h=r.right,l=window.getComputedStyle(i),f=l.color,d=this.state.ctx||i.getContext(\"2d\"),g=this.state.density||s(d),m=u-a,v=h-c,x=p.getMaxRadius(m,v,this.props.radius);this.setState({color:f,ctx:d,density:g,height:m,width:v},function(){n.state.store.add({duration:n.props.duration,mouseDown:t,mouseUp:0,radius:x,x:e-c,y:o-a})})},render:function(){var t=this.state.density,e=this.state.height,o=this.state.width,i=this.state.touchEvents;return a.createElement(\"canvas\",n({className:\"ink\",style:n({},u,this.props.style),height:e*t,width:o*t,onDragOver:this._onRelease},i))},_onPress:function(t){var e=t.button,o=t.ctrlKey,n=t.clientX,i=t.clientY,s=t.changedTouches,a=Date.now();if(s)for(var u=0;u<s.length;u++){var c=s[u].clientX,h=s[u].clientY;this.pushBlot(a,c,h)}else e!==r||o||this.pushBlot(a,n,i)},_onRelease:function(){this.state.store.release(Date.now())}});t.exports=d},function(t,e,o){\"use strict\";function n(t){return h(t.duration,Date.now()-t.mouseDown)}function i(t){return t.mouseUp>0?Date.now()-t.mouseUp:0}function r(t){var e=t.duration,o=t.radius,r=.85*s(n(t),0,o,e),a=.15*s(i(t),0,o,e),h=.02*o*u(Date.now()/e);return c(0,r+a+h)}var s=o(3),a=Math.sqrt(2),u=Math.cos,c=Math.max,h=Math.min;t.exports={getMaxRadius:function(t,e,o){return h(.5*c(t,e),o)},getBlotOpacity:function(t,e){return s(i(t),e,-e,t.duration)},getBlotOuterOpacity:function(t,e){return h(this.getBlotOpacity(t,e),s(n(t),0,.3,3*t.duration))},getBlotShiftX:function(t,e,o){return h(1,r(t)/e*2/a)*(o/2-t.x)},getBlotShiftY:function(t,e,o){return h(1,r(t)/e*2/a)*(o/2-t.y)},getBlotScale:function(t){return r(t)/t.radius}}},function(t){\"use strict\";t.exports={borderRadius:\"inherit\",height:\"100%\",left:0,position:\"absolute\",top:0,width:\"100%\"}},function(t){\"use strict\";t.exports=function(t,e,o,n){return o*((t=t/n-1)*t*t*t*t+1)+e}},function(t){\"use strict\";var e=!1;\"undefined\"!=typeof window&&(e=\"ontouchstart\"in window||window.DocumentTouch&&document instanceof DocumentTouch),t.exports=e},function(t){\"use strict\";t.exports=function(t){var e=window.devicePixelRatio||1,o=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/o}},function(t){\"use strict\";function e(t,e){for(var o in t)if(this.props[o]!==t[o])return!0;for(var n in e)if(this.state[n]!==e[n])return!0;return!1}t.exports=e},function(t,e,o){\"use strict\";var n=o(1),i=function(t){var e=t.mouseUp,o=t.duration;return!e||Date.now()-e<o};t.exports=function(t){var e=[],o=!1,r=void 0,s={each:function(t,o){for(var n=0,i=e.length;i>n;n++)t.call(o,e[n])},play:function(){o||(o=!0,s.update())},stop:function(){o=!1,cancelAnimationFrame(r)},getTotalOpacity:function(t){for(var o=0,i=0,r=e.length;r>i;i++)o+=n.getBlotOuterOpacity(e[i],t);return o},update:function(){e=e.filter(i),e.length?(r=requestAnimationFrame(s.update),t()):s.stop()},add:function(t){e.push(t),s.play()},release:function(t){for(var o=e.length-1;o>=0;o--)if(!e[o].mouseUp)return e[o].mouseUp=t}};return s}},function(t){t.exports=__webpack_require__(1)}]);\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** colonel-kurtz.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap bf4d347e2cd73a76cc2b\n **/","/**\n * Colonel Kurts\n * A custom block editor\n */\n\nimport 'style/colonel'\n\nimport Colonel from 'Colonel'\n\nexport default Colonel\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = require(\"react\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react\"\n ** module id = 1\n ** module chunks = 0 1 2 3\n **/","import { tag } from 'microcosm'\n\nexport default tag({\n\n  append(type, parent) {\n    return { type, parent }\n  },\n\n  create(type, position, parent) {\n    return { type, position, parent }\n  },\n\n  destroy(id) {\n    return id\n  },\n\n  update(id, content) {\n    return { id, content }\n  },\n\n  shift(id, delta) {\n    return { id, delta }\n  }\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/actions/blocks.js\n **/","function classNames() {\n\tvar classes = '';\n\tvar arg;\n\n\tfor (var i = 0; i < arguments.length; i++) {\n\t\targ = arguments[i];\n\t\tif (!arg) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif ('string' === typeof arg || 'number' === typeof arg) {\n\t\t\tclasses += ' ' + arg;\n\t\t} else if (Object.prototype.toString.call(arg) === '[object Array]') {\n\t\t\tclasses += ' ' + classNames.apply(null, arg);\n\t\t} else if ('object' === typeof arg) {\n\t\t\tfor (var key in arg) {\n\t\t\t\tif (!arg.hasOwnProperty(key) || !arg[key]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tclasses += ' ' + key;\n\t\t\t}\n\t\t}\n\t}\n\treturn classes.substr(1);\n}\n\n// safely export classNames in case the script is included directly on a page\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = classNames;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/classnames/index.js\n ** module id = 3\n ** module chunks = 0\n **/","import React from 'react'\nimport Ink   from 'react-ink'\n\nlet Button = React.createClass({\n\n  getDefaultProps() {\n    return {\n      className : 'col-btn',\n      hide      : false,\n      tagName   : 'button',\n      type      : 'button'\n    }\n  },\n\n  render() {\n    let { children, hide, tagName, ...attrs } = this.props\n\n    return hide ? null : (\n      React.createElement(tagName, attrs, [\n        <Ink key=\"__ink__\"/>,\n        children\n      ])\n    )\n  }\n})\n\nexport default Button\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Button.jsx\n **/","import Actions      from 'actions/blocks'\nimport React        from 'react'\nimport SwitchToggle from './SwitchToggle'\nimport SwitchNav    from './SwitchNav'\nimport classNames   from 'classnames'\n\nexport default React.createClass({\n\n  propTypes: {\n    app : React.PropTypes.object.isRequired\n  },\n\n  getInitialState() {\n    return { open: false }\n  },\n\n  componentWillReceiveProps() {\n    this.setState({ open: false })\n  },\n\n  getTypes() {\n    let { app, parent } = this.props\n\n    let blockTypes = app.pull('blockTypes')\n\n    if (parent) {\n      let types = blockTypes.filter(i => i.id === parent.type)[0].types\n      return blockTypes.filter(i => types.indexOf(i.id) > -1)\n    } else {\n      return blockTypes\n    }\n  },\n\n  render() {\n    let { app, forceOpen, parent, position } = this.props\n\n    let types = this.getTypes()\n    let open  = forceOpen || this.state.open\n\n    return types.length ? (\n      <div className={ classNames('col-switch', { 'col-switch-open' : open }) }>\n        <SwitchToggle onClick={ this._onToggle } secondary={ parent } hide={ open } />\n        <SwitchNav app={ app } blockTypes={ types } parent={ parent } hide={ !open } position={ position }/>\n      </div>\n    ) : null\n  },\n\n  _onToggle() {\n    let { app, position, parent } = this.props\n\n    let blockTypes = app.pull('blockTypes')\n\n    if (blockTypes.length === 1) {\n      app.push(Actions.create, blockTypes[0].id, position, parent)\n    }\n\n    this.setState({ open: true })\n  }\n\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Switch.jsx\n **/","import uid from '../utils/uid'\n\nexport default class Block {\n  constructor(params) {\n    this.id      = uid()\n    this.content = params.content\n    this.parent  = params.parent\n    this.type    = params.type\n  }\n\n  valueOf() {\n    return this.id\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/Block.js\n **/","export default function(items, val, param='id') {\n  let matches = items.filter(i => i[param] == val)\n\n  if (matches.length) {\n    return matches[0]\n  }\n\n  throw new Error(`Unable to find record with ${ param } of ${ val }`)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/findBy.js\n **/","/**\n * InsertAfter\n * Given a list and an item, non-destructively return a new list\n * including the item after a given position\n */\n\nlet inRange = (value, min, max) => Math.max(min, Math.min(max, value))\n\nexport default (list, item, position=list.length) => {\n  let corrected = inRange(position, 0, list.length)\n\n  let head = list.slice(0, corrected)\n  let tail = list.slice(corrected)\n\n  return head.concat(item, tail)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/insertAt.js\n **/","module.exports=function(t){function r(e){if(n[e])return n[e].exports;var i=n[e]={exports:{},id:e,loaded:!1};return t[e].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}var n={};return r.m=t,r.c=n,r.p=\"\",r(0)}([function(t,r,n){\"use strict\";r.__esModule=!0;var e=n(11);r.tag=e,r[\"default\"]=n(4)},function(t){\"use strict\";function r(t,r){if(!t){var n=new Error(r);throw n.framesToPop=1,n}}t.exports=r},function(t){\"use strict\";function r(t,r){var n=void 0===arguments[2]?{}:arguments[2],e=Object.keys(t);return e.reduce(function(n,e){return n[e]=r(t[e],e),n},n)}t.exports=r},function(t,r,n){\"use strict\";var e=function(t){return t&&t.__esModule?t[\"default\"]:t},i=e(n(1));t.exports={validate:function(t){i(\"function\"==typeof t,\"Action \"+t+\" is not callable, actions should be functions\")}}},function(t,r,n){\"use strict\";var e=function(t){return t&&t.__esModule?t[\"default\"]:t},i=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},o=function(t,r){if(!(t instanceof r))throw new TypeError(\"Cannot call a class as a function\")},u=e(n(3)),s=e(n(5)),a=e(n(6)),c=e(n(1)),f=e(n(7)),p=e(n(8)),l=e(n(9)),h=e(n(2)),d=e(n(10)),v=function(){function t(){o(this,t),l(this),this._state={},this._stores={},this._plugins=[]}return t.prototype.push=function(t){for(var r=this,n=arguments.length,e=Array(n>1?n-1:0),i=1;n>i;i++)e[i-1]=arguments[i];u.validate(t);var o=t.apply(void 0,e);return o instanceof Promise?o.then(function(n){return r._dispatch(t,n)}):this._dispatch(t,o)},t.prototype.pull=function(t,r){for(var n=arguments.length,e=Array(n>2?n-2:0),i=2;n>i;i++)e[i-2]=arguments[i];var o=this._state[t];return\"function\"==typeof r?r.call.apply(r,[this,o].concat(e)):o},t.prototype.prepare=function(t){for(var r,n=arguments.length,e=Array(n>1?n-1:0),i=1;n>i;i++)e[i-1]=arguments[i];return u.validate(t),(r=this.push).bind.apply(r,[this,t].concat(e))},t.prototype.replace=function(t){this._commit(this.deserialize(t))},t.prototype._commit=function(t){this._state=t,this.emit()},t.prototype._dispatch=function(t,r){var n=this,e=d(this._stores,function(r){return t in r});return Object.keys(e).length>0&&!function(){var i=f(n._state),o=h(e,function(n){return n[t](i[n],r)},i);n._commit(o)}(),r},t.prototype.addPlugin=function(t,r){s.validate(t),this._plugins.push([t,r])},t.prototype.addStore=function(t){var r=i({},a,t);c(!this._stores[t],'Tried to add \"'+t+'\" but it is not unique'),this._stores[r]=r},t.prototype.serialize=function(){var t=this;return h(this._stores,function(r){return r.serialize(t.pull(r))})},t.prototype.deserialize=function(){var t=void 0===arguments[0]?{}:arguments[0];return h(this._stores,function(r){return r.deserialize(t[r])})},t.prototype.toJSON=function(){return this.serialize()},t.prototype.toObject=function(){return d(this._state,function(){return!0})},t.prototype.start=function(){for(var t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];this._state=h(this._stores,function(t){return t.getInitialState()}),p(this._plugins,this,function(){r.forEach(function(t){return t()})})},t}();t.exports=v},function(t,r,n){\"use strict\";var e=function(t){return t&&t.__esModule?t[\"default\"]:t},i=e(n(1));t.exports={validate:function(t){i(\"register\"in t,\"Plugins must have a register method.\")}}},function(t){\"use strict\";t.exports={getInitialState:function(){return void 0},serialize:function(t){return t},deserialize:function(){var t=void 0===arguments[0]?this.getInitialState():arguments[0];return t},toString:function(){throw new Error(\"Stores must implement a toString() method\")}}},function(t){\"use strict\";t.exports=function(t){return Object.create(t)}},function(t){\"use strict\";function r(t,i,o){var u=e(t),s=u[0],a=u.slice(1);if(!s)return o();var c=n(s,2),f=c[0],p=c[1];f.register(i,p,function(t){if(t)throw t;r(a,i,o)})}var n=function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){for(var n,e=[],i=t[Symbol.iterator]();!(n=i.next()).done&&(e.push(n.value),!r||e.length!==r););return e}throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},e=function(t){return Array.isArray(t)?t:Array.from(t)};t.exports=r},function(t){\"use strict\";function r(){var t=void 0===arguments[0]?{}:arguments[0],r=[];return t.ignore=function(t){r=r.filter(function(r){return r!==t})},t.listen=function(t){r.push(t)},t.emit=function(){for(var t=0;t<r.length;t++)r[t].call(this)},t}t.exports=r},function(t){\"use strict\";t.exports=function(t,r){var n={};for(var e in t)r(t[e])&&(n[e]=t[e]);return n}},function(t,r,n){\"use strict\";function e(t){return\"function\"==typeof t}function i(t,r){var n=t.bind(null),e=\"_\"+r+\"_\"+s++;return n.toString=function(){return e},n}var o=function(t){return t&&t.__esModule?t[\"default\"]:t},u=o(n(2)),s=0;t.exports=function(t){return u(t,function(t,r){return e(t)?i(t,r):t})}}]);\n//# sourceMappingURL=Microcosm.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/microcosm/dist/Microcosm.js\n ** module id = 11\n ** module chunks = 0\n **/","/**\n * Colonel Kurts\n * A custom block editor\n */\n\nimport BlockTypes from 'stores/BlockTypes'\nimport Blocks     from 'stores/Blocks'\nimport Microcosm  from 'microcosm'\nimport React      from 'react'\n\nimport bootstrap  from 'plugins/bootstrap'\nimport render     from 'plugins/render'\n\n/**\n * Colonel Kurtz is a layer on top of the Microcosm framework\n * Microcosm is a simple Flux implementation designed to solve issues\n * with state specifically for Colonel Kurtz\n *\n * See:\n * https://github.com/vigetlabs/microcosm\n */\nexport default class ColonelKurtz extends Microcosm {\n\n  constructor({ el, value, blockTypes }) {\n    super()\n\n    /**\n     * A block is an individual chunk of content. It can have children\n     */\n    this.addStore(Blocks)\n\n    /**\n     * A block type defines the editing experience for a specific type\n     * content\n     */\n    this.addStore(BlockTypes)\n\n    /**\n     * The bootstrap plugin takes seed data and prepares the\n     * application's state beyond initializing\n     */\n    this.addPlugin(bootstrap, { value, blockTypes })\n\n    /**\n     * The render plugin handles updating the browser ui\n     */\n    this.addPlugin(render, { el })\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Colonel.js\n **/","/**\n * This is the root component that contains sections for\n * toggling between viewing modes and viewing managed content\n */\n\nimport EditorBlock from 'components/EditorBlock'\nimport React       from 'react'\nimport Switch      from 'components/Switch'\nimport isRoot      from '../utils/isRoot'\n\nexport default React.createClass({\n\n  propTypes: {\n    app : React.PropTypes.object.isRequired\n  },\n\n  getBlock(block, i) {\n    return (<EditorBlock key={ block.id } block={ block } { ...this.props } />)\n  },\n\n  render() {\n    let { app } = this.props\n\n    return (\n      <div className=\"colonel\">\n        <Switch app={ app } />\n        { app.pull('blocks', isRoot).map(this.getBlock) }\n      </div>\n    )\n  }\n\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/App.jsx\n **/","import Actions    from 'actions/blocks'\nimport React      from 'react'\nimport Toolbar    from 'components/Toolbar'\nimport classNames from 'classnames'\nimport findBy     from 'utils/findBy'\n\nexport default React.createClass({\n\n  propTypes: {\n    app   : React.PropTypes.object.isRequired,\n    block : React.PropTypes.object.isRequired\n  },\n\n  getClassName(type) {\n    return classNames('col-block', `col-block-${ type }`)\n  },\n\n  render() {\n    let { app, block, children, first, last } = this.props\n    let { id, component:Component } = app.pull('blockTypes', findBy, block.type)\n\n    return (\n      <div className={ this.getClassName(block.type) }>\n        <Component ref=\"block\" content={ block.content } onChange={ this._onChange }>\n          { children }\n        </Component>\n        <Toolbar app={ app } block={ block } first={ first } last={ last } />\n      </div>\n    )\n  },\n\n  _onChange(content) {\n    let { app, block } = this.props\n\n    app.push(Actions.update, block, content)\n  }\n\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Block.jsx\n **/","import Block      from 'components/Block'\nimport Switch     from 'components/Switch'\nimport React      from 'react'\nimport childrenOf from '../utils/childrenOf'\n\nlet EditorBlock = React.createClass({\n\n  propTypes: {\n    app   : React.PropTypes.object.isRequired,\n    block : React.PropTypes.object.isRequired\n  },\n\n  getBlock(block, i) {\n    return (<EditorBlock key={ block.id } app={ this.props.app } block={ block } />)\n  },\n\n  render() {\n    let { app, block } = this.props\n\n    return (\n      <div>\n        <Block app={ app } block={ block }>\n          <Switch app={ app } parent={ block } />\n          { app.pull('blocks', childrenOf, block).map(this.getBlock) }\n        </Block>\n        <Switch app={ app } position={ block } parent={ block.parent } />\n      </div>\n    )\n  }\n\n})\n\nexport default EditorBlock\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/EditorBlock.jsx\n **/","import React      from 'react'\nimport classNames from 'classnames'\n\nexport default React.createClass({\n\n  getDefaultProps() {\n    return { open: false }\n  },\n\n  render() {\n    let className = classNames('col-menu', {\n      'col-menu-open' : this.props.open\n    })\n\n    return (\n      <nav role=\"navigation\" className={ className }>\n        <div className=\"col-menu-backdrop\" aria-hidden=\"true\" />\n        { this.props.children }\n      </nav>\n    )\n  }\n\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Menu.jsx\n **/","import Button from './Button'\nimport React  from 'react'\n\nexport default React.createClass({\n\n  propTypes: {\n    label   : React.PropTypes.string.isRequired,\n    onClick : React.PropTypes.func.isRequired\n  },\n\n  getDefaultProps() {\n    return {\n      className : 'col-menu-item',\n      hide      : false,\n      type      : 'button'\n    }\n  },\n\n  render() {\n    let { hide, label, ...safe } = this.props\n\n    return hide ? null : (<Button { ...safe }>{ label }</Button>)\n  }\n\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/MenuItem.jsx\n **/","import Actions from 'actions/blocks'\nimport Btn     from './Button'\nimport React   from 'react'\n\nexport default React.createClass({\n\n  propTypes: {\n    app        : React.PropTypes.object.isRequired,\n    blockTypes : React.PropTypes.array.isRequired\n  },\n\n  getButton({ id, label }) {\n    return (\n      <Btn key={ id } className=\"col-switch-btn\" onClick={ () => this._onAdd(id) }>\n        { label }\n      </Btn>\n    )\n  },\n\n  render() {\n    let { app, blockTypes, hide } = this.props\n\n    return hide ? null : (\n      <nav className=\"col-switch-nav\" role=\"navigation\">\n        { blockTypes.map(this.getButton)}\n      </nav>\n    )\n  },\n\n  _onAdd(id) {\n    let { app, position, parent } = this.props\n    app.push(Actions.create, id, position, parent)\n  }\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/SwitchNav.jsx\n **/","import Btn        from './Button'\nimport React      from 'react'\nimport classNames from 'classnames'\n\nexport default React.createClass({\n\n  propTypes: {\n    onClick : React.PropTypes.func.isRequired\n  },\n\n  getDefaultProps() {\n    return {\n      label     : 'Open block creation menu',\n      hide      : false,\n      secondary : false,\n      symbol    : '+'\n    }\n  },\n\n  render() {\n    let { label, hide, onClick, secondary, symbol } = this.props\n\n    let className = classNames('col-btn-fab', {\n      'col-btn-fab-secondary' : secondary\n    })\n\n    return (\n      <Btn ref=\"toggle\" className={ className } onClick={ onClick } hide={ hide }>\n        <span className=\"col-hidden\">{ label }</span>\n        <span aria-hidden=\"true\">{ symbol }</span>\n      </Btn>\n    )\n  }\n\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/SwitchToggle.jsx\n **/","import Handle     from './ToolbarHandle'\nimport Item       from './MenuItem'\nimport Menu       from './Menu'\nimport React      from 'react'\nimport classNames from 'classnames'\nimport siblingsOf from 'utils/siblingsOf'\n\nimport { destroy, shift } from 'actions/blocks'\n\nexport default React.createClass({\n\n  propTypes: {\n    app   : React.PropTypes.object.isRequired,\n    block : React.PropTypes.object.isRequired\n  },\n\n  getInitialState() {\n    return { open : false }\n  },\n\n  componentWillReceiveProps() {\n    this.setState({ open: false })\n  },\n\n  render() {\n    let { app, block } = this.props\n\n    let siblings = app.pull('blocks', siblingsOf, block)\n    let isFirst  = siblings[0] === block\n    let isLast   = siblings[siblings.length - 1] === block\n\n    return (\n      <div className=\"col-toolbar\">\n        <Handle onClick={ this._onHandleClick }/>\n        <Menu open={ this.state.open }>\n          <Item ref=\"moveUp\"   label=\"Move Up\"   onClick={ app.prepare(shift, block.id, -1) } hide={ isFirst } />\n          <Item ref=\"moveDown\" label=\"Move Down\" onClick={ app.prepare(shift, block.id, 1) }  hide={ isLast } />\n          <Item ref=\"destroy\"  label=\"Remove\"    onClick={ app.prepare(destroy, block.id) } />\n        </Menu>\n      </div>\n    )\n  },\n\n  _onHandleClick(e) {\n    e.preventDefault()\n    this.setState({ open : true })\n  }\n\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Toolbar.jsx\n **/","import React    from 'react'\nimport menuIcon from 'icons/menu'\n\nexport default React.createClass({\n\n  getDefaultProps() {\n    return {\n      label : 'Open the menu for this block',\n      type  : 'button'\n    }\n  },\n\n  render() {\n    let { label, ...safe } = this.props\n\n    return (\n      <button { ...safe}>\n        <span className=\"col-toolbar-handle\"\n              aria-hidden=\"true\"\n              dangerouslySetInnerHTML={{ __html: menuIcon }} />\n      </button>\n    )\n  }\n\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/ToolbarHandle.jsx\n **/","/**\n * Bootstrap\n * This plugin is responsible for injecting data into the system\n */\n\nexport default {\n\n  register(app, { value, blockTypes }, next) {\n    app.replace({ blocks: value, blockTypes })\n    next()\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/bootstrap.js\n **/","/**\n * Render\n * Handles updating the browser UI\n */\n\nimport App   from 'components/App'\nimport React from 'react'\n\nexport default {\n\n  render(app, el) {\n    React.render(<App app={ app } { ...app.toObject() }/>, el)\n  },\n\n  register(app, { el }, next) {\n    this.render(app, el)\n\n    app.listen(i => this.render(app,el))\n\n    next()\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/plugins/render.js\n **/","/**\n * Block Type Store\n *\n * A Block Type describes the editing experience for a Block. Whenever\n * an action associated with block type the system, this module tells\n * Colonel Kurtz how that action manipulates block type data.\n */\n\nimport React from 'react'\n\nexport default {\n\n  /**\n   * getInitialState\n   * Block types are stored in an array\n   */\n  getInitialState() {\n    return []\n  },\n\n  /**\n   * deserialize\n   * Any time block types are injected into the system, always make sure\n   * they follow some guidelines.\n   */\n  deserialize(config=[]) {\n    return config.map(options => {\n      let component = options.component\n\n      if (typeof component === 'object') {\n        component = React.createClass(component)\n      }\n\n      return { types: [], ...options, component }\n    })\n  },\n\n  /**\n   * serialize\n   * Block types are never serialized, so return nothing\n   */\n  serialize() {\n    return undefined\n  },\n\n  /**\n   * toString\n   * Tells Colonel Kurtz that block type information can be found at\n   * the `blockTypes` key\n   */\n  toString() {\n    return 'blockTypes'\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/stores/BlockTypes.js\n **/","/**\n * Block Store\n *\n * The Block Store is responsible for defining how blocks are stored\n * within Colonel Kurtz. Whenever an action associated with block\n * records is pushed into the system, this module tells Colonel Kurtz\n * how that action manipulates block data.\n */\n\nimport Actions  from 'actions/blocks'\nimport Block    from 'models/Block'\nimport findBy   from 'utils/findBy'\nimport insertAt from 'utils/insertAt'\nimport shift    from 'utils/shift'\n\nexport default {\n\n  /**\n   * getInitialState\n   * Runs whenever the application starts. Provides the expected array\n   * relied upon by other operations\n   */\n  getInitialState() {\n    return []\n  },\n\n  /**\n   * toString\n   * Tells Colonel Kurtz that this store manages the `blocks` key. Any\n   * modifications related to blocks can be found there\n   */\n  toString() {\n    return 'blocks'\n  },\n\n  /**\n   * For simplicity, blocks are stored in an array, `blocksToJson`\n   * takes a list of blocks and transforms them into the nested structure\n   * shown in the front end\n   */\n  serialize: require('utils/blocksToJson'),\n\n  /**\n   * As mentioned previously, blocks are serialized to a nested\n   * structure. jsonToBlocks takes this nested structure and flattens\n   * into a list for this store.\n   */\n  deserialize: require('utils/jsonToBlocks'),\n\n  /**\n   * Actions.append\n   * Simply add a new block at the end of the list\n   */\n  [Actions.append](state, params) {\n    return state.concat(new Block(params))\n  },\n\n  /**\n   * Actions.create\n   * Produces a new block based upon given parameters.\n   * If the provided position is a Block, place the new block right\n   * after it.\n   */\n  [Actions.create](state, { type, parent, position=0 }) {\n    let record = new Block({ parent, type })\n\n    if (position instanceof Block) {\n      position = state.indexOf(position) + 1\n    }\n\n    return insertAt(state, record, position)\n  },\n\n  /**\n   * Actions.destroy\n   * Given an id, remove that block and eliminate all other blocks\n   * nested inside of it. This is important so removing that `section`\n   * type blocks also eliminates children\n   */\n  [Actions.destroy](state, id) {\n    return state.filter(function(node) {\n      for (var n = node; n; n = n.parent) {\n        if (n.id == id) return false\n      }\n      return true\n    })\n  },\n\n  /**\n   * Actions.update\n   * Given a parameters, find the block associated with those\n   * parameters (by id) and update the content inside. All other\n   * attributes will not be changed.\n   */\n  [Actions.update](state, params) {\n    var block = findBy(state, params.id)\n\n    block.content = { ...block.content, ...params.content }\n\n    return state\n  },\n\n  /**\n   * Actions.shift\n   * Adjust the position of a given block\n   */\n  [Actions.shift](state, { id, delta }) {\n    return shift(state, findBy(state, id), delta)\n  }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/stores/Blocks.js\n **/","export default function blocksToJson (items) {\n  // If items are null or undefined, assume an empty list\n  items = items || []\n\n  let root = items.filter(i => !i.parent)\n\n  let jsonify = block => {\n    let children = items.filter(i => i.parent === block)\n\n    return {\n      content : block.content,\n      type    : block.type,\n      blocks  : children.map(jsonify)\n    }\n  }\n\n  return root.map(jsonify)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/blocksToJson.js\n **/","/**\n * childrenOf\n * Get the children of a provided block\n */\n\nexport default function childrenOf (list, block) {\n  return list.filter(i => i.parent === block)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/childrenOf.js\n **/","/**\n * isRoot\n * For displaying root level blocks, we only care about blocks that don't have\n * parents.\n */\n\nexport default function (lists) {\n  return lists.filter(i => !i.parent)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/isRoot.js\n **/","import Block from 'models/Block'\n\nexport default function jsonToBlocks (blocks, parent) {\n  // If blocks are null or undefined, assume an empty list\n  blocks = blocks || []\n\n  return blocks.reduce(function (memo, params) {\n    let block    = new Block({ ...params, parent })\n    let children = jsonToBlocks(params.blocks, block)\n\n    return memo.concat(block, children)\n  }, [])\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/jsonToBlocks.js\n **/","/**\n * Move\n * Given a list and an item, non-destructively return a new list\n * where a given item has been moved by a given delta\n */\n\nimport insertAt from './insertAt'\n\nexport default (list, item, delta=0) => {\n  let index   = list.indexOf(item) + delta\n  var without = list.filter(i => i !== item)\n\n  return insertAt(without, item, index)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/shift.js\n **/","/**\n * siblingsOf\n * Get the siblings of a provided block\n */\n\nexport default function siblingsOf (list, block) {\n  if (block.parent) {\n    return list.filter(i => i.parent === block.parent)\n  } else {\n    return list.filter(i => !i.parent)\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/siblingsOf.js\n **/","/* @flow */\n\nvar uidCounter = 0;\n\nvar uid = function(): number {\n  return `c${ uidCounter += 1 }`\n}\n\nmodule.exports = uid\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/uid.js\n **/","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\\\"/></svg>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/icons/menu.svg\n ** module id = 40\n ** module chunks = 0\n **/","module.exports=function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p=\"\",e(0)}([function(t,e,o){\"use strict\";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},i=o(4),r=0,s=o(5),a=o(8),u=o(2),c=o(7),h=a.PropTypes,l=2*Math.PI,p=o(1),f=o(6),d=a.createClass({displayName:\"Ink\",shouldComponentUpdate:f,propTypes:{background:h.bool,duration:h.number,opacity:h.number,radius:h.number,recenter:h.bool},getDefaultProps:function(){return{background:!0,duration:1e3,opacity:.25,radius:150,recenter:!0}},getInitialState:function(){return{store:c(this.tick),touchEvents:this.touchEvents()}},touchEvents:function(){return i?{onTouchStart:this._onPress,onTouchEnd:this._onRelease,onTouchCancel:this._onRelease,onTouchLeave:this._onRelease}:{onMouseDown:this._onPress,onMouseUp:this._onRelease,onMouseLeave:this._onRelease}},tick:function(){var t=this.state.ctx,e=this.state.color,o=this.state.density,n=this.state.height,i=this.state.width,r=this.state.store;t.save(),t.scale(o,o),t.clearRect(0,0,i,n),t.fillStyle=e,this.props.background&&(t.globalAlpha=r.getTotalOpacity(this.props.opacity),t.fillRect(0,0,i,n)),r.each(this.makeBlot,this),t.restore()},makeBlot:function(t){var e=this.state.ctx,o=this.state.height,n=this.state.width,i=t.x,r=t.y,s=t.radius;if(e.globalAlpha=p.getBlotOpacity(t,this.props.opacity),e.beginPath(),this.props.recenter){var a=Math.max(o,n);i+=p.getBlotShiftX(t,a,n),r+=p.getBlotShiftY(t,a,o)}e.arc(i,r,s*p.getBlotScale(t),0,l),e.closePath(),e.fill()},componentWillUnmount:function(){this.state.store.stop()},pushBlot:function(t,e,o){var n=this,i=this.getDOMNode(),r=i.getBoundingClientRect(),a=r.top,u=r.bottom,c=r.left,h=r.right,l=window.getComputedStyle(i),f=l.color,d=this.state.ctx||i.getContext(\"2d\"),g=this.state.density||s(d),m=u-a,v=h-c,x=p.getMaxRadius(m,v,this.props.radius);this.setState({color:f,ctx:d,density:g,height:m,width:v},function(){n.state.store.add({duration:n.props.duration,mouseDown:t,mouseUp:0,radius:x,x:e-c,y:o-a})})},render:function(){var t=this.state.density,e=this.state.height,o=this.state.width,i=this.state.touchEvents;return a.createElement(\"canvas\",n({className:\"ink\",style:n({},u,this.props.style),height:e*t,width:o*t,onDragOver:this._onRelease},i))},_onPress:function(t){var e=t.button,o=t.ctrlKey,n=t.clientX,i=t.clientY,s=t.changedTouches,a=Date.now();if(s)for(var u=0;u<s.length;u++){var c=s[u].clientX,h=s[u].clientY;this.pushBlot(a,c,h)}else e!==r||o||this.pushBlot(a,n,i)},_onRelease:function(){this.state.store.release(Date.now())}});t.exports=d},function(t,e,o){\"use strict\";function n(t){return h(t.duration,Date.now()-t.mouseDown)}function i(t){return t.mouseUp>0?Date.now()-t.mouseUp:0}function r(t){var e=t.duration,o=t.radius,r=.85*s(n(t),0,o,e),a=.15*s(i(t),0,o,e),h=.02*o*u(Date.now()/e);return c(0,r+a+h)}var s=o(3),a=Math.sqrt(2),u=Math.cos,c=Math.max,h=Math.min;t.exports={getMaxRadius:function(t,e,o){return h(.5*c(t,e),o)},getBlotOpacity:function(t,e){return s(i(t),e,-e,t.duration)},getBlotOuterOpacity:function(t,e){return h(this.getBlotOpacity(t,e),s(n(t),0,.3,3*t.duration))},getBlotShiftX:function(t,e,o){return h(1,r(t)/e*2/a)*(o/2-t.x)},getBlotShiftY:function(t,e,o){return h(1,r(t)/e*2/a)*(o/2-t.y)},getBlotScale:function(t){return r(t)/t.radius}}},function(t){\"use strict\";t.exports={borderRadius:\"inherit\",height:\"100%\",left:0,position:\"absolute\",top:0,width:\"100%\"}},function(t){\"use strict\";t.exports=function(t,e,o,n){return o*((t=t/n-1)*t*t*t*t+1)+e}},function(t){\"use strict\";var e=!1;\"undefined\"!=typeof window&&(e=\"ontouchstart\"in window||window.DocumentTouch&&document instanceof DocumentTouch),t.exports=e},function(t){\"use strict\";t.exports=function(t){var e=window.devicePixelRatio||1,o=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/o}},function(t){\"use strict\";function e(t,e){for(var o in t)if(this.props[o]!==t[o])return!0;for(var n in e)if(this.state[n]!==e[n])return!0;return!1}t.exports=e},function(t,e,o){\"use strict\";var n=o(1),i=function(t){var e=t.mouseUp,o=t.duration;return!e||Date.now()-e<o};t.exports=function(t){var e=[],o=!1,r=void 0,s={each:function(t,o){for(var n=0,i=e.length;i>n;n++)t.call(o,e[n])},play:function(){o||(o=!0,s.update())},stop:function(){o=!1,cancelAnimationFrame(r)},getTotalOpacity:function(t){for(var o=0,i=0,r=e.length;r>i;i++)o+=n.getBlotOuterOpacity(e[i],t);return o},update:function(){e=e.filter(i),e.length?(r=requestAnimationFrame(s.update),t()):s.stop()},add:function(t){e.push(t),s.play()},release:function(t){for(var o=e.length-1;o>=0;o--)if(!e[o].mouseUp)return e[o].mouseUp=t}};return s}},function(t){t.exports=require(\"react\")}]);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react-ink/dist/ink.js\n ** module id = 41\n ** module chunks = 0\n **/"],"sourceRoot":""}