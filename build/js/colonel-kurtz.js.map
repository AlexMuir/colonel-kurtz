{"version":3,"sources":["webpack:///webpack/bootstrap 6e88915388d6dbef9d4a","webpack:///./colonel-kurtz/index.js","webpack:///external \"react\"","webpack:///./colonel-kurtz/addons.js","webpack:///./colonel-kurtz/components/app.js","webpack:///./colonel-kurtz/actions/block_actions.js","webpack:///./colonel-kurtz/actions/block_list_actions.js","webpack:///./colonel-kurtz/actions/editor_actions.js","webpack:///./colonel-kurtz/stores/block_list_store.js","webpack:///./colonel-kurtz/utils/uid.js","webpack:///./colonel-kurtz/utils/seed.js","webpack:///./colonel-kurtz/utils/createBlock.js","webpack:///./colonel-kurtz/utils/addBlockType.js","webpack:///./colonel-kurtz/bus/index.js","webpack:///./~/object-assign/index.js","webpack:///./~/array.prototype.find/index.js","webpack:///./~/immutable/dist/immutable.js","webpack:///./colonel-kurtz/stores/editor_store.js","webpack:///./colonel-kurtz/components/content_section.js","webpack:///./colonel-kurtz/components/mode_selection.js","webpack:///./colonel-kurtz/stores/block_store.js","webpack:///./colonel-kurtz/actions/block_type_actions.js","webpack:///./colonel-kurtz/mixins/monitor.js","webpack:///./colonel-kurtz/mixins/block_type.js","webpack:///./colonel-kurtz/constants/block_list_constants.js","webpack:///./colonel-kurtz/constants/block_constants.js","webpack:///./colonel-kurtz/dispatcher/index.js","webpack:///./colonel-kurtz/models/block_list.js","webpack:///./colonel-kurtz/style/colonel.scss","webpack:///./addons/medium/index.js","webpack:///./addons/image/index.js","webpack:///./addons/youtube/index.js","webpack:///./colonel-kurtz/constants/editor_constants.js","webpack:///./colonel-kurtz/stores/block_type_store.js","webpack:///./colonel-kurtz/constants/mode_constants.js","webpack:///./colonel-kurtz/components/editor.js","webpack:///./colonel-kurtz/components/previewer.js","webpack:///./colonel-kurtz/models/block.js","webpack:///./colonel-kurtz/constants/block_type_constants.js","webpack:///./colonel-kurtz/components/ui/button.js","webpack:///./~/react/lib/invariant.js","webpack:///./~/react/lib/keyMirror.js","webpack:///./addons/medium/editor.js","webpack:///./addons/medium/previewer.js","webpack:///./addons/medium/style.scss","webpack:///./addons/image/editor.js","webpack:///./addons/image/previewer.js","webpack:///./addons/image/style.scss","webpack:///./addons/youtube/editor.js","webpack:///./addons/youtube/previewer.js","webpack:///./addons/youtube/style.scss","webpack:///./colonel-kurtz/components/editor_block_list.js","webpack:///./colonel-kurtz/components/previewer_block_list.js","webpack:///./~/flux/index.js","webpack:///./addons/image/graphic.js","webpack:///./addons/youtube/player.js","webpack:///./addons/medium/vendor/medium-editor.js","webpack:///./addons/common/field.js","webpack:///external \"react/addons\"","webpack:///./colonel-kurtz/components/block_menu.js","webpack:///./colonel-kurtz/components/editor_block.js","webpack:///./colonel-kurtz/mixins/has_block_list.js","webpack:///./colonel-kurtz/components/previewer_block.js","webpack:///./~/flux/lib/Dispatcher.js","webpack:///./colonel-kurtz/components/add_block.js","webpack:///./colonel-kurtz/components/block.js","webpack:///./colonel-kurtz/mixins/has_block_nesting.js","webpack:///./colonel-kurtz/components/remove_block.js","webpack:///./~/flux/lib/invariant.js","webpack:///./colonel-kurtz/mixins/pure.js","webpack:///./colonel-kurtz/constants/strings.js","webpack:///./~/react-dragon/dist/react-dragon.js","webpack:///./~/react/lib/shallowEqual.js"],"names":[],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,wC;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AAOA,kEAAiE;AACjE;AACA;AACA;;AAEA,gCAA+B,8BAA8B;;AAE7D,yCAAwC,aAAa;AACrD,8BAA6B,oBAAoB;;AAEjD;AACA;AACA;;AAEA;AACA;;AAEA,2DAA0D;AAC1D;AACA;AACA;;AAEA,2DAA0D;AAC1D;AACA;;AAEA,0EAAyE;AACzE;AACA;;AAEA,qDAAoD;AACpD;;AAEA;AACA;;AAEA,qDAAoD;AACpD;AACA;;AAEA;;AAEA,gFAA+E;AAC/E,sCAAqC,mBAAmB;AACxD;;AAEA,2EAA0E;AAC1E;AACA;;AAEA,uEAAsE;AACtE;;AAEA;AACA;AACA,MAAK;AACL;;;;AAIA;AACA;AACA;;AAEA;;;;;;;;;;AChGA,mC;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8BAA6B;;AAE7B;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA,mCAAkC,qBAAqB;AACvD,6CAA4C,kDAAkD;AAC9F,8CAA6C,kDAAkD;AAC/F;AACA;AACA,IAAG;;AAEH;AACA,gDAA+C,YAAY;AAC3D;;AAEA,EAAC;;AAED;;;;;;;;;;AChDA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,0BAAyB,8CAA8C;AACvE,IAAG;;AAEH;AACA;;AAEA,wCAAuC,WAAW;AAClD,IAAG;;AAEH;AACA;;AAEA,0BAAyB,8CAA8C;AACvE;;AAEA;;AAEA;;;;;;;;;;AC5BA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,0BAAyB,2BAA2B;AACpD,IAAG;;AAEH;AACA;AACA,0BAAyB,+DAA+D;AACxF;;AAEA;;AAEA;;;;;;;;;;ACrBA;AACA;;AAEA;;AAEA;AACA;AACA,0BAAyB,2BAA2B;AACpD,IAAG;;AAEH;AACA;AACA,0BAAyB,kCAAkC;AAC3D;;AAEA;;AAEA;;;;;;;;;;ACjBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA,6CAA4C,4BAA4B;AACxE,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA,oCAAmC,qDAAqD;;AAExF;AACA,IAAG;;AAEH;AACA;;AAEA;AACA,sCAAqC,8CAA8C;AACnF;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;;;;;;;;;;ACvGA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,wCAAuC,wDAAwD;;AAE/F;AACA;AACA;;AAEA,IAAG;;AAEH;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,cAAa,SAAS,6BAA6B;AACnD;AACA;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,2CAA0C,YAAY,qBAAqB;AAC3E;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,6CAA4C,mBAAmB;AAC/D;;AAEA;;AAEA;;;;;;;;;;AC9CA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAgB,sBAAsB;AACtC;AACA;;AAEA,kBAAiB,iBAAiB;AAClC;AACA;AACA;;AAEA;AACA;;;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0DAAyD;AACzD;AACA;AACA;AACA;AACA;AACA,2BAA0B,YAAY;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;;AAEA;AACA;AACA;AACA,EAAC;;;;;;;;;;AChCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,UAAU;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,SAAS;AACrC;AACA,IAAG;AACH;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC;AACzC;AACA,KAAI,IAAI;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,kBAAiB,yBAAyB;AAC1C;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAwD;AACxD;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR,IAAG;AACH,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,kCAAiC,KAAK;AACtC,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC,GAAG;AACJ;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC,GAAG;AACJ;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC,GAAG;AACJ;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,wCAAuC;AACvC;AACA,KAAI,GAAG;AACP;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,qBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,qBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,wDAAuD,SAAS;AAChE;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C,IAAI;AAChD;AACA;AACA;AACA;AACA,kDAAiD,IAAI;AACrD;AACA;AACA;AACA;AACA;AACA,oDAAmD,IAAI;AACvD;AACA;AACA;AACA;AACA;AACA,gDAA+C,IAAI;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,kCAAiC,KAAK;AACtC,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,kBAAiB,yBAAyB;AAC1C;AACA;AACA,IAAG;AACH;AACA;AACA,kBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,kBAAiB,yBAAyB;AAC1C;AACA;AACA,IAAG;AACH;AACA;AACA,kBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B,UAAU;AACvC;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,mCAAkC,WAAW;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B,UAAU;AACvC;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,WAAW;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA,qCAAoC,gBAAgB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,gBAAgB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI,IAAI;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,qBAAqB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,UAAU;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,uBAAuB;AACzC;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA,MAAK;AACL,qBAAoB,mBAAmB;AACvC;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,aAAa;AAC/B;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,aAAa;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,uBAAsB,oBAAoB;AAC1C;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,uBAAsB,oBAAoB;AAC1C;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,kBAAiB,yBAAyB;AAC1C;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,kBAAiB,yBAAyB;AAC1C;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,GAAG;AACJ;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,kBAAkB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B,eAAe;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,uBAAuB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,yCAAwC,KAAK;AAC7C,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,GAAG;AACJ;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,GAAG;AACJ;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,kCAAiC,KAAK;AACtC,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,kBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,mBAAmB;AACzC;AACA;AACA,UAAS;AACT;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,mBAAkB,0BAA0B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP,MAAK;AACL,IAAG;AACH;AACA;AACA,mBAAkB,0BAA0B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP,MAAK;AACL,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,mBAAkB,0BAA0B;AAC5C;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA,4CAA2C;AAC3C,yCAAwC,KAAK;AAC7C,KAAI;AACJ;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA,kDAAiD,KAAK;AACtD,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,qBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,qBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,EAAC,IAAI;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;ACl0HA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,4CAA2C,wBAAwB;AACnE,IAAG;;AAEH;AACA,kCAAiC;;AAEjC;AACA;;AAEA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;;AAEA,oDAAmD;;AAEnD;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;;;;;;;;;;AC3DA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,yCAAwC;;AAExC;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA,mCAAkC,yBAAyB;AAC3D,2CAA0C,mEAAmE;AAC7G;AACA;AACA;;AAEA,EAAC;;AAED;;;;;;;;;;AC9BA;;AAEA;AACA;AACA;;AAEA,wCAAuC;;AAEvC;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,iCAAgC,yCAAyC;AACzE;;AAEA;AACA,kCAAiC,uDAAuD;AACxF,sDAAqD;AACrD;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,mCAAkC,0CAA0C;AAC5E,oCAAmC,4CAA4C;AAC/E;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;;AAEA,EAAC;;AAED;;;;;;;;;;AC9DA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA,2CAA0C,wBAAwB;AAClE,IAAG;;AAEH,sCAAqC;AACrC,4BAA2B,kEAAkE;;AAE7F;;AAEA;;AAEA;AACA,IAAG;;AAEH;AACA,4CAA2C,oBAAoB;AAC/D;AACA,IAAG;;AAEH;AACA;;AAEA;AACA,uCAAsC;AACtC;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;;;;;;;;;;ACnEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,0BAAyB,2BAA2B;AACpD;;AAEA;;AAEA;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA,oBAAmB,0BAA0B,iCAAiC;AAC9E;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;;;;;;;;;AClDA;;AAEA;;AAEA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;;;;ACTA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;;;;ACbA;AACA;;;;;;;;AAQA,sEAAqE;AACrE;AACA;AACA;AACA;AACA;;AAEA,8CAA6C;AAC7C;AACA;;AAEA,yCAAwC;AACxC;AACA;;AAEA,6CAA4C;AAC5C;AACA;;AAEA,mEAAkE;AAClE,2EAA0E,uBAAuB;AACjG;;AAEA,oFAAmF;AACnF;AACA;;AAEA,wEAAuE;AACvE;AACA;;AAEA;AACA;;AAEA,kDAAiD;AACjD;AACA;;AAEA,yEAAwE,mBAAmB;AAC3F;;;;AAIA;;;;;;;;;;ACpDA,0C;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,aAAY;AACZ,IAAG;;AAEH;AACA,wDAAuD,yBAAyB;AAChF,IAAG;;AAEH;AACA,4DAA2D;AAC3D;;AAEA;;AAEA;;;;;;;;;;AC7BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,aAAY;AACZ,IAAG;;AAEH;AACA,wDAAuD,2BAA2B;AAClF,IAAG;;AAEH;AACA,4DAA2D;AAC3D;;AAEA;;AAEA;;;;;;;;;;AC5BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,aAAY;AACZ,IAAG;;AAEH;AACA,wDAAuD,2BAA2B;AAClF,IAAG;;AAEH;AACA,4DAA2D;AAC3D;;AAEA;;AAEA;;;;;;;;;;AC5BA;;AAEA;AACA;AACA;AACA,EAAC;;;;;;;;;;;ACLD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,oDAAmD,aAAa;AAChE,IAAG;;AAEH;AACA,2CAA0C,oBAAoB;AAC9D,IAAG;;AAEH;AACA,kCAAiC;;AAEjC;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;;;;;;;;;;AC5CA;;AAEA;;AAEA;AACA;AACA;AACA,EAAC;;;;;;;;;;ACPD;;AAEA;AACA;;AAEA,iCAAgC;;AAEhC;AACA;;AAEA;AACA,6CAA4C,wDAAwD;AACpG;AACA;;AAEA,EAAC;;AAED;;;;;;;;;;ACjBA;;AAEA;AACA;;AAEA,oCAAmC;;AAEnC;AACA;AACA,gDAA+C,mDAAmD;AAClG;AACA;;AAEA,EAAC;;AAED;;;;;;;;;;ACfA;AACA;AACA;;;;;;;;AAQA,yFAAwF;AACxF;AACA;AACA;AACA;AACA;;AAEA,8CAA6C;AAC7C;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;;;;AC/BA;;AAEA;;AAEA;AACA;AACA,EAAC;;AAED;;;;;;;;;;ACRA;;AAEA,iCAAgC;;AAEhC;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,+GAA8G,cAAc,6CAA6C,qBAAqB,uBAAuB,yBAAyB,+DAA+D,0BAA0B,aAAa,QAAQ,qBAAqB;;AAEjX;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,2CAA0C,yBAAyB,EAAE;AACrE;AACA;;AAEA,2BAA0B;AAC1B;AACA;AACA;;AAEA;;;;;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,8BAA6B,sBAAsB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd,eAAc;AACd;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;AClDA;AACA;AACA;;AAEA,iCAAgC;;AAEhC;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,mCAAkC,+BAA+B;AACjE,qCAAoC,qIAAqI,0BAA0B;AACnM;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA,EAAC;;AAED;;;;;;;;;;ACzDA;;AAEA,oCAAmC;;AAEnC;AACA;AACA,mCAAkC,+BAA+B;AACjE,qCAAoC,2DAA2D,0BAA0B;AACzH;AACA;AACA;;AAEA,EAAC;;AAED;;;;;;;;;;ACdA,0C;;;;;;;;;;ACAA;AACA;AACA;AACA;;AAEA,iCAAgC;;AAEhC;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA,mCAAkC,qBAAqB;AACvD,uDAAsD;;AAEtD,0CAAyC,8BAA8B;AACvE,uCAAsC,gGAAgG;AACtI,uCAAsC,wGAAwG;AAC9I,uCAAsC,wHAAwH;AAC9J;AACA;AACA;AACA,IAAG;;AAEH;AACA,0BAAyB,6BAA6B;AACtD,IAAG;;AAEH;AACA,0BAAyB,iCAAiC;AAC1D,IAAG;;AAEH;AACA,0BAAyB,qCAAqC;AAC9D;;AAEA,EAAC;;AAED;;;;;;;;;;AC5CA;AACA;;AAEA,oCAAmC;;AAEnC;AACA,0DAAyD;AACzD;;AAEA,EAAC;;AAED;;;;;;;;;;ACXA,0C;;;;;;;;;;ACAA;AACA;AACA;AACA;;AAEA,iCAAgC;;AAEhC;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA,mCAAkC,yBAAyB;AAC3D,sCAAqC,oBAAoB;;AAEzD,0CAAyC,kCAAkC;AAC3E,uCAAsC,gGAAgG;AACtI;AACA;AACA;AACA,IAAG;;AAEH;AACA,0BAAyB,kCAAkC;AAC3D;;AAEA,EAAC;;AAED;;;;;;;;;;AChCA;AACA;;AAEA,oCAAmC;;AAEnC;AACA;AACA,mCAAkC,yBAAyB;AAC3D,sCAAqC,qBAAqB;AAC1D;AACA;AACA;;AAEA,EAAC;;AAED;;;;;;;;;;ACfA,0C;;;;;;;;;;;ACAA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,0CAAyC;;AAEzC;;AAEA;AACA;;AAEA;AACA,uCAAsC,6GAA6G;AACnJ;AACA,IAAG;;AAEH;AACA;AACA,mCAAkC,cAAc;AAChD,2CAA0C,oDAAoD;AAC9F;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA,uCAAsC,uEAAuE;AAC7G;AACA;AACA;AACA;AACA;;AAEA,EAAC;;AAED;;;;;;;;;;AC1CA;;AAEA;AACA;AACA;;AAEA,6CAA4C;;AAE5C;;AAEA;AACA;AACA,mDAAkD,uCAAuC;AACzF,MAAK;AACL,IAAG;;AAEH;AACA;AACA,mCAAkC,wBAAwB;AAC1D;AACA;AACA;AACA;;AAEA,EAAC;;AAED;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACTA;AACA;;AAEA,kCAAiC;;AAEjC;AACA;;AAEA;AACA,0CAAyC,6BAA6B;AACtE;AACA,IAAG;;AAEH;AACA;;AAEA;AACA,sCAAqC,4BAA4B;AACjE,qCAAoC,gDAAgD;AACpF;AACA;AACA;AACA;;AAEA,EAAC;;AAED;;;;;;;;;;AC1BA;;AAEA;;AAEA,iCAAgC;;AAEhC;AACA;;AAEA;AACA,mCAAkC,gCAAgC;AAClE,wCAAuC,mGAAmG;AAC1I;AACA;AACA,IAAG;;AAEH,EAAC;;AAED;;;;;;;;;;AClBA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,SAAS;AACtD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA8C,SAAS;AACvD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAiD,SAAS;AAC1D;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,iJAAgJ,GAAG,OAAO,GAAG;;AAE7J;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,wBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,wBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC;AACxC;AACA,gDAA+C;AAC/C;AACA,yCAAwC;AACxC,0CAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wBAAuB,iBAAiB;AACxC;AACA;AACA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uCAAsC;;AAEtC;AACA;AACA,uCAAsC;;AAEtC;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAS;;AAET;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB;AACjB;;AAEA;;AAEA,wBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,wBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAa;;AAEb;AACA,UAAS;;AAET;AACA;AACA;AACA,cAAa;AACb,UAAS;;AAET;AACA;AACA;AACA,cAAa;AACb,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;;AAEA;;AAEA;AACA,UAAS;;AAET;AACA;AACA;AACA,wBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;;AAET;AACA;AACA,UAAS;;AAET;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;;;AAGT;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;;AAEA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB;;AAEjB;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa;;AAEb;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;;AAEjB;;AAEA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;;;AAGjB;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,wBAAuB,0BAA0B;AACjD;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA,4BAA2B,eAAe;AAC1C;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,4BAA2B,oBAAoB;AAC/C;AACA;AACA,cAAa;AACb;AACA,4BAA2B,eAAe;AAC1C,gCAA+B,oBAAoB;AACnD;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,4BAA2B,0BAA0B;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAuB,0BAA0B;AACjD;AACA;AACA;;AAEA;AACA,UAAS;;AAET;AACA,iGAAgG;AAChG;AACA,oDAAmD,sBAAsB,sBAAsB,wBAAwB;AACvH,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oCAAmC,uBAAuB;AAC1D;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,wBAAuB,0BAA0B;AACjD;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,+DAA8D,kCAAkC;;AAEhG;AACA;;AAEA;AACA;;AAEA;AACA,sCAAqC,gBAAgB;;AAErD;AACA,sCAAqC,gBAAgB,QAAQ,QAAQ,mBAAmB,QAAQ,QAAQ,SAAS;;AAEjH;AACA;;AAEA,wBAAuB,yBAAyB;AAChD;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4BAA2B,mBAAmB;;AAE9C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA,cAAa;;AAEb;;AAEA;;AAEA,UAAS;;AAET;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA,wBAAuB,mBAAmB;;AAE1C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,+GAA8G;AAC9G,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA,cAAa;;AAEb;AACA;;AAEA,cAAa;;AAEb;AACA;;AAEA;;AAEA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;AACA;;AAEA,wBAAuB,kBAAkB;;AAEzC;AACA;;AAEA;;AAEA;AACA;;AAEA,kBAAiB;;AAEjB;;AAEA;AACA;;AAEA;;AAEA;AACA,wBAAuB,kBAAkB;;AAEzC;;AAEA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;;AAEA;;AAEA;;AAEA;;AAEA,EAAC;;;;;;;;;;AC9jDD;AACA;;AAEA,gCAA+B;;AAE/B;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,mHAAkH,cAAc,6CAA6C,qBAAqB,uBAAuB,yBAAyB,+DAA+D,0BAA0B,aAAa,QAAQ,sBAAsB;;AAEtX;AACA,mCAAkC,2BAA2B;AAC7D,uCAAsC,4DAA4D;AAClG;AACA;AACA,sDAAqD,wCAAwC,aAAa,6BAA6B;AACvI;AACA;AACA;;AAEA,EAAC;;AAED;;;;;;;;;;AC1BA,0C;;;;;;;;;ACAA;;AAEA;AACA;AACA;AACA;;AAEA,oCAAmC;;AAEnC;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA,2CAA0C,iFAAiF;AAC3H,IAAG;;AAEH;AACA;AACA,mCAAkC,0CAA0C;AAC5E;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH,EAAC;;AAED;;;;;;;;;;ACnDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sCAAqC;;AAErC;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA,oCAAmC,2DAA2D;;AAE9F,qCAAoC,iDAAiD;;AAErF,qCAAoC,yBAAyB;AAC7D,6CAA4C,mDAAmD;AAC/F;;AAEA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA,EAAC;;AAED;;;;;;;;;;AC1CA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;;;;AC/BA;;AAEA;AACA;AACA;AACA;;AAEA,yCAAwC;;AAExC;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,qCAAoC,oDAAoD;AACxF;AACA;AACA;AACA;;AAEA,EAAC;;AAED;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA,uBAAsB;AACtB;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;;;;ACzPA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mCAAkC;;AAElC;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA,oCAAmC,wEAAwE;AAC3G,qCAAoC,0CAA0C;AAC9E;AACA;AACA,IAAG;;AAEH;AACA;;AAEA,0BAAyB,oEAAoE;;AAE7F;AACA;;AAEA,EAAC;;AAED;;;;;;;;;;ACxCA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,gCAA+B;;AAE/B;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA,mFAAkF,cAAc,6CAA6C,qBAAqB,uBAAuB,yBAAyB,+DAA+D,0BAA0B,aAAa,QAAQ,QAAQ;AACxU;;AAEA;AACA,sDAAqD,sEAAsE;AAC3H;AACA,IAAG;;AAEH;AACA;AACA;;AAEA,EAAC;;AAED;;;;;;;;;;ACnCA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA,kDAAiD,gEAAgE;AACjH;AACA;;AAEA;;AAEA;;;;;;;;;;ACjCA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sCAAqC;;AAErC;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,oCAAmC,0FAA0F;AAC7H;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;AACA,6BAA4B,uDAAuD;AACnF;AACA;;AAEA,EAAC;;AAED;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,2CAA0C,yBAAyB,EAAE;AACrE;AACA;;AAEA,2BAA0B;AAC1B;AACA;AACA;;AAEA;;;;;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAgC,qBAAqB;AACrD;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;ACrDA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,qCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qCAAoC;;AAEpC;AACA;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA,KAAI;;;AAGJ;AACA;AACA;AACA;AACA;AACA,OAAM;;AAEN;AACA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B,sCAAqC,6BAA6B;AAClE;AACA;AACA,KAAI;;AAEJ;AACA;;AAEA;AACA;AACA;;AAEA,qBAAoB,iBAAiB;AACrC,KAAI;;AAEJ;AACA;AACA,qBAAoB,oCAAoC;AACxD,KAAI;;AAEJ;AACA;AACA,qBAAoB,kBAAkB;AACtC,KAAI;;AAEJ;AACA;AACA,qBAAoB,mBAAmB;AACvC,KAAI;;AAEJ;AACA;;AAEA;AACA;;AAEA;AACA,qBAAoB,oCAAoC;AACxD;;AAEA,GAAE;;AAEF;;;AAGA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;;AAEA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN,KAAI;AACJ;AACA;AACA;;AAEA;;;AAGA;AACA;AACA,EAAC;;AAED,yC;;;;;;;;;AClNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6e88915388d6dbef9d4a\n **/","/**\n * Colonel Kurts\n * A custom block editor\n * @flow\n */\n\n// Polyfill Object.assign for splat arguments\nif (!Object.assign) {\n  Object.assign = require('object-assign');\n}\n\n// Polyfill Array.prototype.find for easy record retrieval\nrequire('array.prototype.find')\n\nvar App              = require('./components/app')\nvar BlockActions     = require('./actions/block_actions')\nvar BlockListActions = require('./actions/block_list_actions')\nvar BlockListStore   = require('./stores/block_list_store')\nvar EditorActions    = require('./actions/editor_actions')\nvar Immutable        = require('immutable')\nvar React            = require('react')\nvar uid              = require('./utils/uid')\nvar Bus              = require('./bus')\nvar seed             = require('./utils/seed')\n\nrequire('style/colonel')\n\n\n                                      \n              \n             \n\n  function ColonelKurtz(config)                                 {\"use strict\";\n    this.id = uid()\n    this.el = config.el\n    this.$ColonelKurtz_callbacks = Immutable.Set()\n\n    Bus.subscribe(function()  {return this.simulateChange();}.bind(this))\n\n    EditorActions.create(Object.assign({ id: this.id}, config ))\n    BlockListActions.create({ editorId: this.id })\n\n    if (config.seed) {\n      seed(BlockListStore.last().id, config.seed)\n    }\n\n    setTimeout(this.simulateChange.bind(this), 10)\n  }\n\n  ColonelKurtz.prototype.render=function()               {\"use strict\";\n    React.render(this.$ColonelKurtz_rootComponent(), this.$ColonelKurtz_getDomElement())\n    return this\n  };\n\n  ColonelKurtz.prototype.simulateChange=function()       {\"use strict\";\n    this.$ColonelKurtz_runCallbacks()\n  };\n\n  ColonelKurtz.prototype.addCallback=function(callback)                 {\"use strict\";\n    this.$ColonelKurtz_callbacks = this.$ColonelKurtz_callbacks.add(callback)\n  };\n\n  ColonelKurtz.prototype.toJSON=function()         {\"use strict\";\n    var root = BlockListStore.findByEditorId(this.id)\n\n    return root ? root.toJSON() : {}\n  };\n\n  ColonelKurtz.prototype.toHtml=function()         {\"use strict\";\n    return React.renderToStaticMarkup(this.$ColonelKurtz_rootComponent())\n  };\n\n  // Private\n\n  ColonelKurtz.prototype.$ColonelKurtz_rootComponent=function()               {\"use strict\";\n    return React.createElement(App, {editorId:  this.id})\n  };\n\n  ColonelKurtz.prototype.$ColonelKurtz_getDomElement=function()          {\"use strict\";\n    return this.el\n  };\n\n  ColonelKurtz.prototype.$ColonelKurtz_runCallbacks=function()       {\"use strict\";\n    var json = this.toJSON()\n\n    this.$ColonelKurtz_callbacks.forEach(function(callback){\n      callback(json)\n    })\n  };\n\n\n\nColonelKurtz.addons       = require('./addons')\nColonelKurtz.createBlock  = require('./utils/createBlock')\nColonelKurtz.addBlockType = require('./utils/addBlockType')\n\nmodule.exports = ColonelKurtz\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/index.js\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = require(\"react\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = {\n  Medium  : require('../addons/medium'),\n  Image   : require('../addons/image'),\n  YouTube : require('../addons/youtube')\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/addons.js\n ** module id = 2\n ** module chunks = 0\n **/","/**\n * This is the root component that contains sections for\n * toggling between viewing modes and viewing managed content\n *\n * @flow\n */\n\nvar BlockListStore = require('../stores/block_list_store')\nvar EditorActions  = require('../actions/editor_actions')\nvar EditorStore    = require('../stores/editor_store')\nvar ContentSection = require('./content_section')\nvar ModeSelection  = require('./mode_selection')\nvar Monitor        = require('../mixins/monitor')\nvar React          = require('react')\nvar Types          = React.PropTypes\n\nvar App = React.createClass({displayName: 'App',\n\n  mixins: [ Monitor ],\n\n  propTypes: {\n    editorId: Types.number.isRequired\n  },\n\n  getState:function()         {\n    return {\n      blockList : BlockListStore.findByEditorId(this.props.editorId),\n      editor    : EditorStore.find(this.props.editorId)\n    }\n  },\n\n  render:function()      {\n    var $__0=     this.state,blockList=$__0.blockList,editor=$__0.editor\n\n    return (\n      React.createElement(\"div\", {className: \"colonel\"}, \n        React.createElement(ModeSelection, {mode:  editor.mode, onChange:  this._onModeChange}), \n        React.createElement(ContentSection, {editor: editor, initialBlockListId:  blockList.id})\n      )\n    )\n  },\n\n  _onModeChange:function(mode)       {\n    EditorActions.update(this.props.editorId, { mode:mode })\n  }\n\n})\n\nmodule.exports = App\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/components/app.js\n ** module id = 3\n ** module chunks = 0\n **/","/* @flow */\n\nvar BlockConstants = require('../constants/block_constants')\nvar Dispatcher = require('../dispatcher')\n\nvar BlockActions = {\n\n  create:function(params                                                                                 ) {\n    var type     = BlockConstants.BLOCK_CREATE\n    var position = params.position\n\n    Dispatcher.dispatch({ type:type, params:params, position:position })\n  },\n\n  destroy:function(params                                                ) {\n    var type = BlockConstants.BLOCK_DESTROY\n\n    Dispatcher.dispatch(Object.assign({ type:type}, params ))\n  },\n\n  update:function(blockId        , content        ) {\n    var type = BlockConstants.BLOCK_UPDATE\n\n    Dispatcher.dispatch({ type:type, blockId:blockId, content:content })\n  }\n\n}\n\nmodule.exports = BlockActions\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/actions/block_actions.js\n ** module id = 4\n ** module chunks = 0\n **/","/* @flow */\n\nvar BlockListConstants = require('../constants/block_list_constants')\n\nvar Dispatcher = require('../dispatcher')\n\nvar BlockListActions = {\n\n  create:function(params                                       )       {\n    var type = BlockListConstants.BLOCK_LIST_CREATE\n\n    Dispatcher.dispatch({ type:type, params:params })\n  },\n\n  move:function(blockListId        , fromId        , toId        ) {\n    var type = BlockListConstants.BLOCK_LIST_MOVE;\n    Dispatcher.dispatch({ type:type, blockListId:blockListId, fromId:fromId, toId:toId })\n  }\n\n}\n\nmodule.exports = BlockListActions\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/actions/block_list_actions.js\n ** module id = 5\n ** module chunks = 0\n **/","var Constants  = require('../constants/editor_constants')\nvar Dispatcher = require('../dispatcher')\n\nvar EditorActions = {\n\n  create:function(params) {\n    var type = Constants.EDITOR_CREATE\n    Dispatcher.dispatch({ type:type, params:params })\n  },\n\n  update:function(id, params) {\n    var type = Constants.EDITOR_UPDATE\n    Dispatcher.dispatch({ type:type, id:id, params:params })\n  }\n\n}\n\nmodule.exports = EditorActions\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/actions/editor_actions.js\n ** module id = 6\n ** module chunks = 0\n **/","/* @flow */\n\nvar BlockConstants = require('../constants/block_constants')\nvar BlockList      = require('../models/block_list')\nvar BlockStore     = require('../stores/block_store')\nvar Bus            = require('../bus')\nvar Constants      = require('../constants/block_list_constants')\nvar Dispatcher     = require('../dispatcher')\nvar Immutable      = require('immutable')\n\nvar _blockLists = Immutable.List()\n\nvar BlockListStore = {\n\n  all:function()                   {\n    return _blockLists\n  },\n\n  last:function() {\n    return _blockLists.last()\n  },\n\n  findByKey:function(key       , value    )      {\n    return this.all().find(function(item)  {return item[key] === value;}) || null\n  },\n\n  findByEditorId:function(id        )             {\n    return BlockListStore.findByKey('editorId', id)\n  },\n\n  findByBlockId:function(id        )             {\n    return BlockListStore.findByKey('blockId', id)\n  },\n\n  find:function(id        )             {\n    return BlockListStore.findByKey('id', id)\n  },\n\n  _create:function(params        )       {\n    var blockList = new BlockList({ editorId: params.editorId, blockId: params.blockId })\n\n    _blockLists = _blockLists.push(blockList)\n  },\n\n  _createFromParent:function(block      , position       )       {\n    var parent = this.find(block.parentBlockListId)\n\n    if (parent) {\n      var blockList = new BlockList({ editorId: parent.editorId, blockId: block.id})\n      _blockLists = _blockLists.push(blockList)\n    }\n  },\n\n  _addBlockToList:function(block       , position        )       {\n    var blockList = this.find(block.parentBlockListId)\n\n    if (blockList) {\n      blockList.insertBlock(block.id, position)\n      Bus.publish()\n    }\n  },\n\n  _removeBlockFromList:function(blockId        , blockListId        ) {\n    var blockList = this.find(blockListId)\n\n    if (blockList) {\n      blockList.removeBlock(blockId)\n      Bus.publish()\n    }\n  },\n\n  _move:function(blockListId, fromId        , toId        ) {\n    var blockList = this.find(blockListId)\n\n    if (blockList) {\n      blockList.move(fromId, toId)\n      Bus.publish()\n    }\n  },\n\n  dispatchToken: Dispatcher.register(function(action) {\n    switch (action.type) {\n      case BlockConstants.BLOCK_CREATE:\n        Dispatcher.waitFor([ BlockStore.dispatchToken ])\n        BlockListStore._addBlockToList(action.block, action.position)\n        BlockListStore._createFromParent(action.block, action.position)\n        break\n      case BlockConstants.BLOCK_DESTROY:\n        Dispatcher.waitFor([ BlockStore.dispatchToken ])\n        BlockListStore._removeBlockFromList(action.blockId, action.parentBlockListId)\n        break\n      case Constants.BLOCK_LIST_CREATE:\n        BlockListStore._create(action.params)\n        break\n      case Constants.BLOCK_LIST_MOVE:\n        BlockListStore._move(action.blockListId, action.fromId, action.toId)\n        break\n      default:\n        // do nothing\n    }\n  })\n}\n\nmodule.exports = BlockListStore\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/stores/block_list_store.js\n ** module id = 7\n ** module chunks = 0\n **/","/* @flow */\n\nvar uidCounter = 0;\n\nvar uid = function()         {\n  return uidCounter += 1\n}\n\nmodule.exports = uid\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/utils/uid.js\n ** module id = 8\n ** module chunks = 0\n **/","/**\n * Given a root block list, this function will populate\n * an editor with content\n *\n * @flow\n */\n\nvar BlockActions   = require('../actions/block_actions')\nvar BlockListStore = require('../stores/block_list_store')\n\nmodule.exports = function seed (parentBlockListId        , blocks       )       {\n\n  blocks.forEach(function(block, position) {\n\n    BlockActions.create(Object.assign({ position:position, parentBlockListId:parentBlockListId}, block ))\n\n    if (Array.isArray(block.blocks)) {\n      seed(BlockListStore.last().id, block.blocks)\n    }\n\n  })\n\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/utils/seed.js\n ** module id = 9\n ** module chunks = 0\n **/","/**\n * This utility takes an object and mixes in the required boilerplate\n * needed to integrate it into ColonelKurtz.\n *\n * @flow\n */\n\nvar React     = require('react')\nvar BlockType = require('../mixins/block_type')\nvar assign    = require('object-assign')\n\nmodule.exports = function (spec        )      {\n  var mixins = spec.mixins || []\n\n  if (mixins.indexOf(BlockType) < 0) {\n    mixins = mixins.concat(BlockType)\n  }\n\n  return React.createClass(\n    assign({}, spec, { React:React, mixins:mixins })\n  )\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/utils/createBlock.js\n ** module id = 10\n ** module chunks = 0\n **/","/**\n * This utility adds a new block type to ColonelKurtz. If not given a\n * valid React element, it produces one using ./createBlock\n *\n * @flow\n */\n\nvar BlockTypeActions = require('../actions/block_type_actions')\nvar createBlock      = require('./createBlock')\nvar React            = require('react')\n\nmodule.exports = function (options        )       {\n  var component = options.component\n\n  if (React.isValidElement(component) === false) {\n    component = createBlock(component)\n  }\n\n  BlockTypeActions.create(Object.assign({}, options, {component:component }))\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/utils/addBlockType.js\n ** module id = 11\n ** module chunks = 0\n **/","/**\n * The Bus emits a heartbeat whenever any store state has changed.\n * When Stores change, they can use this entity to broadcast\n * that state has changed.\n */\n\nvar Immutable  = require('immutable');\nvar invariant  = require('react/lib/invariant');\n\nvar _callbacks = Immutable.Set();\n\nvar Bus = {\n\n  /**\n   * Given a CALLBACK function, remove it from the Set of callbacks.\n   * Throws an error if the callback is not included in the Set.\n   */\n  unsubscribe:function(callback) {\n    if (__DEV__) {\n      invariant(_callbacks.has(callback), 'Bus.stopListeningTo() was asked to remove callback that it was not subscribed to.');\n    }\n\n    _callbacks = _callbacks.remove(callback);\n  },\n\n  /**\n   * Given a CALLBACK function, add it to the Set of all callbacks.\n   */\n  subscribe:function(callback) {\n    if (__DEV__) {\n      var type = typeof callback\n      invariant(type === 'function', 'Bus.listenTo() expects a function, instead it received a ' + type)\n    }\n\n    _callbacks = _callbacks.add(callback);\n  },\n\n  /**\n   * Trigger every callback in the Set\n   */\n  publish:function() {\n    _callbacks.forEach(function(callback)  {return callback();});\n  }\n\n}\n\nmodule.exports = Bus;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/bus/index.js\n ** module id = 12\n ** module chunks = 0\n **/","'use strict';\n\nfunction ToObject(val) {\n\tif (val == null) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar keys;\n\tvar to = ToObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = arguments[s];\n\t\tkeys = Object.keys(Object(from));\n\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tto[keys[i]] = from[keys[i]];\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/object-assign/index.js\n ** module id = 13\n ** module chunks = 0\n **/","// Array.prototype.find - MIT License (c) 2013 Paul Miller <http://paulmillr.com>\n// For all details and docs: https://github.com/paulmillr/array.prototype.find\n// Fixes and tests supplied by Duncan Hall <http://duncanhall.net> \n(function(globals){\n  if (Array.prototype.find) return;\n\n  var find = function(predicate) {\n    var list = Object(this);\n    var length = list.length < 0 ? 0 : list.length >>> 0; // ES.ToUint32;\n    if (length === 0) return undefined;\n    if (typeof predicate !== 'function' || Object.prototype.toString.call(predicate) !== '[object Function]') {\n      throw new TypeError('Array#find: predicate must be a function');\n    }\n    var thisArg = arguments[1];\n    for (var i = 0, value; i < length; i++) {\n      value = list[i];\n      if (predicate.call(thisArg, value, i, list)) return value;\n    }\n    return undefined;\n  };\n\n  if (Object.defineProperty) {\n    try {\n      Object.defineProperty(Array.prototype, 'find', {\n        value: find, configurable: true, enumerable: false, writable: true\n      });\n    } catch(e) {}\n  }\n\n  if (!Array.prototype.find) {\n    Array.prototype.find = find;\n  }\n})(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/array.prototype.find/index.js\n ** module id = 14\n ** module chunks = 0\n **/","/**\n *  Copyright (c) 2014, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\nfunction universalModule() {\n  var $Object = Object;\n\nfunction createClass(ctor, methods, staticMethods, superClass) {\n  var proto;\n  if (superClass) {\n    var superProto = superClass.prototype;\n    proto = $Object.create(superProto);\n  } else {\n    proto = ctor.prototype;\n  }\n  $Object.keys(methods).forEach(function (key) {\n    proto[key] = methods[key];\n  });\n  $Object.keys(staticMethods).forEach(function (key) {\n    ctor[key] = staticMethods[key];\n  });\n  proto.constructor = ctor;\n  ctor.prototype = proto;\n  return ctor;\n}\n\nfunction superCall(self, proto, name, args) {\n  return $Object.getPrototypeOf(proto)[name].apply(self, args);\n}\n\nfunction defaultSuperCall(self, proto, args) {\n  superCall(self, proto, 'constructor', args);\n}\n\nvar $traceurRuntime = {};\n$traceurRuntime.createClass = createClass;\n$traceurRuntime.superCall = superCall;\n$traceurRuntime.defaultSuperCall = defaultSuperCall;\n\"use strict\";\nfunction is(valueA, valueB) {\n  if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n    return true;\n  }\n  if (!valueA || !valueB) {\n    return false;\n  }\n  if (typeof valueA.valueOf === 'function' && typeof valueB.valueOf === 'function') {\n    valueA = valueA.valueOf();\n    valueB = valueB.valueOf();\n  }\n  return typeof valueA.equals === 'function' && typeof valueB.equals === 'function' ? valueA.equals(valueB) : valueA === valueB || (valueA !== valueA && valueB !== valueB);\n}\nfunction invariant(condition, error) {\n  if (!condition)\n    throw new Error(error);\n}\nvar DELETE = 'delete';\nvar SHIFT = 5;\nvar SIZE = 1 << SHIFT;\nvar MASK = SIZE - 1;\nvar NOT_SET = {};\nvar CHANGE_LENGTH = {value: false};\nvar DID_ALTER = {value: false};\nfunction MakeRef(ref) {\n  ref.value = false;\n  return ref;\n}\nfunction SetRef(ref) {\n  ref && (ref.value = true);\n}\nfunction OwnerID() {}\nfunction arrCopy(arr, offset) {\n  offset = offset || 0;\n  var len = Math.max(0, arr.length - offset);\n  var newArr = new Array(len);\n  for (var ii = 0; ii < len; ii++) {\n    newArr[ii] = arr[ii + offset];\n  }\n  return newArr;\n}\nfunction assertNotInfinite(size) {\n  invariant(size !== Infinity, 'Cannot perform this action with an infinite size.');\n}\nfunction ensureSize(iter) {\n  if (iter.size === undefined) {\n    iter.size = iter.__iterate(returnTrue);\n  }\n  return iter.size;\n}\nfunction wrapIndex(iter, index) {\n  return index >= 0 ? (+index) : ensureSize(iter) + (+index);\n}\nfunction returnTrue() {\n  return true;\n}\nfunction wholeSlice(begin, end, size) {\n  return (begin === 0 || (size !== undefined && begin <= -size)) && (end === undefined || (size !== undefined && end >= size));\n}\nfunction resolveBegin(begin, size) {\n  return resolveIndex(begin, size, 0);\n}\nfunction resolveEnd(end, size) {\n  return resolveIndex(end, size, size);\n}\nfunction resolveIndex(index, size, defaultIndex) {\n  return index === undefined ? defaultIndex : index < 0 ? Math.max(0, size + index) : size === undefined ? index : Math.min(size, index);\n}\nvar imul = typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ? Math.imul : function imul(a, b) {\n  a = a | 0;\n  b = b | 0;\n  var c = a & 0xffff;\n  var d = b & 0xffff;\n  return (c * d) + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0) | 0;\n};\nfunction smi(i32) {\n  return ((i32 >>> 1) & 0x40000000) | (i32 & 0xBFFFFFFF);\n}\nfunction hash(o) {\n  if (o === false || o === null || o === undefined) {\n    return 0;\n  }\n  if (typeof o.valueOf === 'function') {\n    o = o.valueOf();\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n  }\n  if (o === true) {\n    return 1;\n  }\n  var type = typeof o;\n  if (type === 'number') {\n    var h = o | 0;\n    while (o > 0xFFFFFFFF) {\n      o /= 0xFFFFFFFF;\n      h ^= o;\n    }\n    return smi(h);\n  }\n  if (type === 'string') {\n    return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);\n  }\n  if (typeof o.hashCode === 'function') {\n    return o.hashCode();\n  }\n  return hashJSObj(o);\n}\nfunction cachedHashString(string) {\n  var hash = stringHashCache[string];\n  if (hash === undefined) {\n    hash = hashString(string);\n    if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n      STRING_HASH_CACHE_SIZE = 0;\n      stringHashCache = {};\n    }\n    STRING_HASH_CACHE_SIZE++;\n    stringHashCache[string] = hash;\n  }\n  return hash;\n}\nfunction hashString(string) {\n  var hash = 0;\n  for (var ii = 0; ii < string.length; ii++) {\n    hash = 31 * hash + string.charCodeAt(ii) | 0;\n  }\n  return smi(hash);\n}\nfunction hashJSObj(obj) {\n  var hash = weakMap && weakMap.get(obj);\n  if (hash)\n    return hash;\n  hash = obj[UID_HASH_KEY];\n  if (hash)\n    return hash;\n  if (!canDefineProperty) {\n    hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n    if (hash)\n      return hash;\n    hash = getIENodeHash(obj);\n    if (hash)\n      return hash;\n  }\n  if (Object.isExtensible && !Object.isExtensible(obj)) {\n    throw new Error('Non-extensible objects are not allowed as keys.');\n  }\n  hash = ++objHashUID;\n  if (objHashUID & 0x40000000) {\n    objHashUID = 0;\n  }\n  if (weakMap) {\n    weakMap.set(obj, hash);\n  } else if (canDefineProperty) {\n    Object.defineProperty(obj, UID_HASH_KEY, {\n      'enumerable': false,\n      'configurable': false,\n      'writable': false,\n      'value': hash\n    });\n  } else if (obj.propertyIsEnumerable && obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {\n    obj.propertyIsEnumerable = function() {\n      return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);\n    };\n    obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n  } else if (obj.nodeType) {\n    obj[UID_HASH_KEY] = hash;\n  } else {\n    throw new Error('Unable to set a non-enumerable property on object.');\n  }\n  return hash;\n}\nvar canDefineProperty = (function() {\n  try {\n    Object.defineProperty({}, 'x', {});\n    return true;\n  } catch (e) {\n    return false;\n  }\n}());\nfunction getIENodeHash(node) {\n  if (node && node.nodeType > 0) {\n    switch (node.nodeType) {\n      case 1:\n        return node.uniqueID;\n      case 9:\n        return node.documentElement && node.documentElement.uniqueID;\n    }\n  }\n}\nvar weakMap = typeof WeakMap === 'function' && new WeakMap();\nvar objHashUID = 0;\nvar UID_HASH_KEY = '__immutablehash__';\nif (typeof Symbol === 'function') {\n  UID_HASH_KEY = Symbol(UID_HASH_KEY);\n}\nvar STRING_HASH_CACHE_MIN_STRLEN = 16;\nvar STRING_HASH_CACHE_MAX_SIZE = 255;\nvar STRING_HASH_CACHE_SIZE = 0;\nvar stringHashCache = {};\nvar ITERATE_KEYS = 0;\nvar ITERATE_VALUES = 1;\nvar ITERATE_ENTRIES = 2;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nvar REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\nvar Iterator = function Iterator(next) {\n  this.next = next;\n};\n($traceurRuntime.createClass)(Iterator, {toString: function() {\n    return '[Iterator]';\n  }}, {});\nIterator.KEYS = ITERATE_KEYS;\nIterator.VALUES = ITERATE_VALUES;\nIterator.ENTRIES = ITERATE_ENTRIES;\nvar IteratorPrototype = Iterator.prototype;\nIteratorPrototype.inspect = IteratorPrototype.toSource = function() {\n  return this.toString();\n};\nIteratorPrototype[ITERATOR_SYMBOL] = function() {\n  return this;\n};\nfunction iteratorValue(type, k, v, iteratorResult) {\n  var value = type === 0 ? k : type === 1 ? v : [k, v];\n  iteratorResult ? (iteratorResult.value = value) : (iteratorResult = {\n    value: value,\n    done: false\n  });\n  return iteratorResult;\n}\nfunction iteratorDone() {\n  return {\n    value: undefined,\n    done: true\n  };\n}\nfunction hasIterator(maybeIterable) {\n  return !!_iteratorFn(maybeIterable);\n}\nfunction isIterator(maybeIterator) {\n  return maybeIterator && typeof maybeIterator.next === 'function';\n}\nfunction getIterator(iterable) {\n  var iteratorFn = _iteratorFn(iterable);\n  return iteratorFn && iteratorFn.call(iterable);\n}\nfunction _iteratorFn(iterable) {\n  var iteratorFn = iterable && ((REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) || iterable[FAUX_ITERATOR_SYMBOL]);\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n}\nvar Iterable = function Iterable(value) {\n  return isIterable(value) ? value : Seq(value);\n};\nvar $Iterable = Iterable;\n($traceurRuntime.createClass)(Iterable, {\n  toArray: function() {\n    assertNotInfinite(this.size);\n    var array = new Array(this.size || 0);\n    this.valueSeq().__iterate((function(v, i) {\n      array[i] = v;\n    }));\n    return array;\n  },\n  toIndexedSeq: function() {\n    return new ToIndexedSequence(this);\n  },\n  toJS: function() {\n    return this.toSeq().map((function(value) {\n      return value && typeof value.toJS === 'function' ? value.toJS() : value;\n    })).__toJS();\n  },\n  toKeyedSeq: function() {\n    return new ToKeyedSequence(this, true);\n  },\n  toMap: function() {\n    return Map(this.toKeyedSeq());\n  },\n  toObject: function() {\n    assertNotInfinite(this.size);\n    var object = {};\n    this.__iterate((function(v, k) {\n      object[k] = v;\n    }));\n    return object;\n  },\n  toOrderedMap: function() {\n    return OrderedMap(this.toKeyedSeq());\n  },\n  toOrderedSet: function() {\n    return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n  },\n  toSet: function() {\n    return Set(isKeyed(this) ? this.valueSeq() : this);\n  },\n  toSetSeq: function() {\n    return new ToSetSequence(this);\n  },\n  toSeq: function() {\n    return isIndexed(this) ? this.toIndexedSeq() : isKeyed(this) ? this.toKeyedSeq() : this.toSetSeq();\n  },\n  toStack: function() {\n    return Stack(isKeyed(this) ? this.valueSeq() : this);\n  },\n  toList: function() {\n    return List(isKeyed(this) ? this.valueSeq() : this);\n  },\n  toString: function() {\n    return '[Iterable]';\n  },\n  __toString: function(head, tail) {\n    if (this.size === 0) {\n      return head + tail;\n    }\n    return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;\n  },\n  concat: function() {\n    for (var values = [],\n        $__2 = 0; $__2 < arguments.length; $__2++)\n      values[$__2] = arguments[$__2];\n    return reify(this, concatFactory(this, values));\n  },\n  contains: function(searchValue) {\n    return this.some((function(value) {\n      return is(value, searchValue);\n    }));\n  },\n  entries: function() {\n    return this.__iterator(ITERATE_ENTRIES);\n  },\n  every: function(predicate, context) {\n    assertNotInfinite(this.size);\n    var returnValue = true;\n    this.__iterate((function(v, k, c) {\n      if (!predicate.call(context, v, k, c)) {\n        returnValue = false;\n        return false;\n      }\n    }));\n    return returnValue;\n  },\n  filter: function(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, true));\n  },\n  find: function(predicate, context, notSetValue) {\n    var foundValue = notSetValue;\n    this.__iterate((function(v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        foundValue = v;\n        return false;\n      }\n    }));\n    return foundValue;\n  },\n  forEach: function(sideEffect, context) {\n    assertNotInfinite(this.size);\n    return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n  },\n  join: function(separator) {\n    assertNotInfinite(this.size);\n    separator = separator !== undefined ? '' + separator : ',';\n    var joined = '';\n    var isFirst = true;\n    this.__iterate((function(v) {\n      isFirst ? (isFirst = false) : (joined += separator);\n      joined += v !== null && v !== undefined ? v : '';\n    }));\n    return joined;\n  },\n  keys: function() {\n    return this.__iterator(ITERATE_KEYS);\n  },\n  map: function(mapper, context) {\n    return reify(this, mapFactory(this, mapper, context));\n  },\n  reduce: function(reducer, initialReduction, context) {\n    assertNotInfinite(this.size);\n    var reduction;\n    var useFirst;\n    if (arguments.length < 2) {\n      useFirst = true;\n    } else {\n      reduction = initialReduction;\n    }\n    this.__iterate((function(v, k, c) {\n      if (useFirst) {\n        useFirst = false;\n        reduction = v;\n      } else {\n        reduction = reducer.call(context, reduction, v, k, c);\n      }\n    }));\n    return reduction;\n  },\n  reduceRight: function(reducer, initialReduction, context) {\n    var reversed = this.toKeyedSeq().reverse();\n    return reversed.reduce.apply(reversed, arguments);\n  },\n  reverse: function() {\n    return reify(this, reverseFactory(this, true));\n  },\n  slice: function(begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    var resolvedBegin = resolveBegin(begin, this.size);\n    var resolvedEnd = resolveEnd(end, this.size);\n    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n      return this.toSeq().cacheResult().slice(begin, end);\n    }\n    var skipped = resolvedBegin === 0 ? this : this.skip(resolvedBegin);\n    return reify(this, resolvedEnd === undefined || resolvedEnd === this.size ? skipped : skipped.take(resolvedEnd - resolvedBegin));\n  },\n  some: function(predicate, context) {\n    return !this.every(not(predicate), context);\n  },\n  sort: function(comparator) {\n    return reify(this, sortFactory(this, comparator));\n  },\n  values: function() {\n    return this.__iterator(ITERATE_VALUES);\n  },\n  butLast: function() {\n    return this.slice(0, -1);\n  },\n  count: function(predicate, context) {\n    return ensureSize(predicate ? this.toSeq().filter(predicate, context) : this);\n  },\n  countBy: function(grouper, context) {\n    return countByFactory(this, grouper, context);\n  },\n  equals: function(other) {\n    return deepEqual(this, other);\n  },\n  entrySeq: function() {\n    var iterable = this;\n    if (iterable._cache) {\n      return new ArraySeq(iterable._cache);\n    }\n    var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();\n    entriesSequence.fromEntrySeq = (function() {\n      return iterable.toSeq();\n    });\n    return entriesSequence;\n  },\n  filterNot: function(predicate, context) {\n    return this.filter(not(predicate), context);\n  },\n  findLast: function(predicate, context, notSetValue) {\n    return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n  },\n  first: function() {\n    return this.find(returnTrue);\n  },\n  flatMap: function(mapper, context) {\n    return reify(this, flatMapFactory(this, mapper, context));\n  },\n  flatten: function(depth) {\n    return reify(this, flattenFactory(this, depth, true));\n  },\n  fromEntrySeq: function() {\n    return new FromEntriesSequence(this);\n  },\n  get: function(searchKey, notSetValue) {\n    return this.find((function(_, key) {\n      return is(key, searchKey);\n    }), undefined, notSetValue);\n  },\n  getIn: function(searchKeyPath, notSetValue) {\n    var nested = this;\n    if (searchKeyPath) {\n      var iter = getIterator(searchKeyPath) || getIterator($Iterable(searchKeyPath));\n      var step;\n      while (!(step = iter.next()).done) {\n        var key = step.value;\n        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n        if (nested === NOT_SET) {\n          return notSetValue;\n        }\n      }\n    }\n    return nested;\n  },\n  groupBy: function(grouper, context) {\n    return groupByFactory(this, grouper, context);\n  },\n  has: function(searchKey) {\n    return this.get(searchKey, NOT_SET) !== NOT_SET;\n  },\n  hasIn: function(searchKeyPath) {\n    return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n  },\n  isSubset: function(iter) {\n    iter = typeof iter.contains === 'function' ? iter : $Iterable(iter);\n    return this.every((function(value) {\n      return iter.contains(value);\n    }));\n  },\n  isSuperset: function(iter) {\n    return iter.isSubset(this);\n  },\n  keySeq: function() {\n    return this.toSeq().map(keyMapper).toIndexedSeq();\n  },\n  last: function() {\n    return this.toSeq().reverse().first();\n  },\n  max: function(comparator) {\n    return maxFactory(this, comparator);\n  },\n  maxBy: function(mapper, comparator) {\n    return maxFactory(this, comparator, mapper);\n  },\n  min: function(comparator) {\n    return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);\n  },\n  minBy: function(mapper, comparator) {\n    return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);\n  },\n  rest: function() {\n    return this.slice(1);\n  },\n  skip: function(amount) {\n    return reify(this, skipFactory(this, amount, true));\n  },\n  skipLast: function(amount) {\n    return reify(this, this.toSeq().reverse().skip(amount).reverse());\n  },\n  skipWhile: function(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, true));\n  },\n  skipUntil: function(predicate, context) {\n    return this.skipWhile(not(predicate), context);\n  },\n  sortBy: function(mapper, comparator) {\n    return reify(this, sortFactory(this, comparator, mapper));\n  },\n  take: function(amount) {\n    return reify(this, takeFactory(this, amount));\n  },\n  takeLast: function(amount) {\n    return reify(this, this.toSeq().reverse().take(amount).reverse());\n  },\n  takeWhile: function(predicate, context) {\n    return reify(this, takeWhileFactory(this, predicate, context));\n  },\n  takeUntil: function(predicate, context) {\n    return this.takeWhile(not(predicate), context);\n  },\n  valueSeq: function() {\n    return this.toIndexedSeq();\n  },\n  hashCode: function() {\n    return this.__hash || (this.__hash = hashIterable(this));\n  }\n}, {});\nvar IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\nvar IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\nvar IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\nvar IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\nvar IterablePrototype = Iterable.prototype;\nIterablePrototype[IS_ITERABLE_SENTINEL] = true;\nIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;\nIterablePrototype.toJSON = IterablePrototype.toJS;\nIterablePrototype.__toJS = IterablePrototype.toArray;\nIterablePrototype.__toStringMapper = quoteString;\nIterablePrototype.inspect = IterablePrototype.toSource = function() {\n  return this.toString();\n};\nIterablePrototype.chain = IterablePrototype.flatMap;\n(function() {\n  try {\n    Object.defineProperty(IterablePrototype, 'length', {get: function() {\n        if (!Iterable.noLengthWarning) {\n          var stack;\n          try {\n            throw new Error();\n          } catch (error) {\n            stack = error.stack;\n          }\n          if (stack.indexOf('_wrapObject') === -1) {\n            console && console.warn && console.warn('iterable.length has been deprecated, ' + 'use iterable.size or iterable.count(). ' + 'This warning will become a silent error in a future version. ' + stack);\n            return this.size;\n          }\n        }\n      }});\n  } catch (e) {}\n})();\nvar KeyedIterable = function KeyedIterable(value) {\n  return isKeyed(value) ? value : KeyedSeq(value);\n};\n($traceurRuntime.createClass)(KeyedIterable, {\n  flip: function() {\n    return reify(this, flipFactory(this));\n  },\n  findKey: function(predicate, context) {\n    var foundKey;\n    this.__iterate((function(v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        foundKey = k;\n        return false;\n      }\n    }));\n    return foundKey;\n  },\n  findLastKey: function(predicate, context) {\n    return this.toSeq().reverse().findKey(predicate, context);\n  },\n  keyOf: function(searchValue) {\n    return this.findKey((function(value) {\n      return is(value, searchValue);\n    }));\n  },\n  lastKeyOf: function(searchValue) {\n    return this.toSeq().reverse().keyOf(searchValue);\n  },\n  mapEntries: function(mapper, context) {\n    var $__0 = this;\n    var iterations = 0;\n    return reify(this, this.toSeq().map((function(v, k) {\n      return mapper.call(context, [k, v], iterations++, $__0);\n    })).fromEntrySeq());\n  },\n  mapKeys: function(mapper, context) {\n    var $__0 = this;\n    return reify(this, this.toSeq().flip().map((function(k, v) {\n      return mapper.call(context, k, v, $__0);\n    })).flip());\n  }\n}, {}, Iterable);\nvar KeyedIterablePrototype = KeyedIterable.prototype;\nKeyedIterablePrototype[IS_KEYED_SENTINEL] = true;\nKeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;\nKeyedIterablePrototype.__toJS = IterablePrototype.toObject;\nKeyedIterablePrototype.__toStringMapper = (function(v, k) {\n  return k + ': ' + quoteString(v);\n});\nvar IndexedIterable = function IndexedIterable(value) {\n  return isIndexed(value) ? value : IndexedSeq(value);\n};\n($traceurRuntime.createClass)(IndexedIterable, {\n  toKeyedSeq: function() {\n    return new ToKeyedSequence(this, false);\n  },\n  filter: function(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, false));\n  },\n  findIndex: function(predicate, context) {\n    var key = this.toKeyedSeq().findKey(predicate, context);\n    return key === undefined ? -1 : key;\n  },\n  indexOf: function(searchValue) {\n    var key = this.toKeyedSeq().keyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n  lastIndexOf: function(searchValue) {\n    var key = this.toKeyedSeq().lastKeyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n  reverse: function() {\n    return reify(this, reverseFactory(this, false));\n  },\n  splice: function(index, removeNum) {\n    var numArgs = arguments.length;\n    removeNum = Math.max(removeNum | 0, 0);\n    if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n      return this;\n    }\n    index = resolveBegin(index, this.size);\n    var spliced = this.slice(0, index);\n    return reify(this, numArgs === 1 ? spliced : spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum)));\n  },\n  findLastIndex: function(predicate, context) {\n    var key = this.toKeyedSeq().findLastKey(predicate, context);\n    return key === undefined ? -1 : key;\n  },\n  first: function() {\n    return this.get(0);\n  },\n  flatten: function(depth) {\n    return reify(this, flattenFactory(this, depth, false));\n  },\n  get: function(index, notSetValue) {\n    index = wrapIndex(this, index);\n    return (index < 0 || (this.size === Infinity || (this.size !== undefined && index > this.size))) ? notSetValue : this.find((function(_, key) {\n      return key === index;\n    }), undefined, notSetValue);\n  },\n  has: function(index) {\n    index = wrapIndex(this, index);\n    return index >= 0 && (this.size !== undefined ? this.size === Infinity || index < this.size : this.indexOf(index) !== -1);\n  },\n  interpose: function(separator) {\n    return reify(this, interposeFactory(this, separator));\n  },\n  last: function() {\n    return this.get(-1);\n  },\n  skip: function(amount) {\n    var iter = this;\n    var skipSeq = skipFactory(iter, amount, false);\n    if (isSeq(iter) && skipSeq !== iter) {\n      skipSeq.get = function(index, notSetValue) {\n        index = wrapIndex(this, index);\n        return index >= 0 ? iter.get(index + amount, notSetValue) : notSetValue;\n      };\n    }\n    return reify(this, skipSeq);\n  },\n  skipWhile: function(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, false));\n  },\n  take: function(amount) {\n    var iter = this;\n    var takeSeq = takeFactory(iter, amount);\n    if (isSeq(iter) && takeSeq !== iter) {\n      takeSeq.get = function(index, notSetValue) {\n        index = wrapIndex(this, index);\n        return index >= 0 && index < amount ? iter.get(index, notSetValue) : notSetValue;\n      };\n    }\n    return reify(this, takeSeq);\n  }\n}, {}, Iterable);\nIndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;\nIndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;\nvar SetIterable = function SetIterable(value) {\n  return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);\n};\n($traceurRuntime.createClass)(SetIterable, {\n  get: function(value, notSetValue) {\n    return this.has(value) ? value : notSetValue;\n  },\n  contains: function(value) {\n    return this.has(value);\n  },\n  keySeq: function() {\n    return this.valueSeq();\n  }\n}, {}, Iterable);\nSetIterable.prototype.has = IterablePrototype.contains;\nfunction isIterable(maybeIterable) {\n  return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);\n}\nfunction isKeyed(maybeKeyed) {\n  return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n}\nfunction isIndexed(maybeIndexed) {\n  return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n}\nfunction isAssociative(maybeAssociative) {\n  return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n}\nfunction isOrdered(maybeOrdered) {\n  return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n}\nIterable.isIterable = isIterable;\nIterable.isKeyed = isKeyed;\nIterable.isIndexed = isIndexed;\nIterable.isAssociative = isAssociative;\nIterable.isOrdered = isOrdered;\nIterable.Keyed = KeyedIterable;\nIterable.Indexed = IndexedIterable;\nIterable.Set = SetIterable;\nIterable.Iterator = Iterator;\nfunction keyMapper(v, k) {\n  return k;\n}\nfunction entryMapper(v, k) {\n  return [k, v];\n}\nfunction not(predicate) {\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\nfunction neg(predicate) {\n  return function() {\n    return -predicate.apply(this, arguments);\n  };\n}\nfunction quoteString(value) {\n  return typeof value === 'string' ? JSON.stringify(value) : value;\n}\nfunction defaultNegComparator(a, b) {\n  return a > b ? -1 : a < b ? 1 : 0;\n}\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (!isIterable(b) || a.size !== undefined && b.size !== undefined && a.size !== b.size || a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash || isKeyed(a) !== isKeyed(b) || isIndexed(a) !== isIndexed(b) || isOrdered(a) !== isOrdered(b)) {\n    return false;\n  }\n  if (a.size === 0 && b.size === 0) {\n    return true;\n  }\n  var notAssociative = !isAssociative(a);\n  if (isOrdered(a)) {\n    var entries = a.entries();\n    return b.every((function(v, k) {\n      var entry = entries.next().value;\n      return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n    })) && entries.next().done;\n  }\n  var flipped = false;\n  if (a.size === undefined) {\n    if (b.size === undefined) {\n      a.cacheResult();\n    } else {\n      flipped = true;\n      var _ = a;\n      a = b;\n      b = _;\n    }\n  }\n  var allEqual = true;\n  var bSize = b.__iterate((function(v, k) {\n    if (notAssociative ? !a.has(v) : flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {\n      allEqual = false;\n      return false;\n    }\n  }));\n  return allEqual && a.size === bSize;\n}\nfunction hashIterable(iterable) {\n  if (iterable.size === Infinity) {\n    return 0;\n  }\n  var ordered = isOrdered(iterable);\n  var keyed = isKeyed(iterable);\n  var h = ordered ? 1 : 0;\n  var size = iterable.__iterate(keyed ? ordered ? (function(v, k) {\n    h = 31 * h + hashMerge(hash(v), hash(k)) | 0;\n  }) : (function(v, k) {\n    h = h + hashMerge(hash(v), hash(k)) | 0;\n  }) : ordered ? (function(v) {\n    h = 31 * h + hash(v) | 0;\n  }) : (function(v) {\n    h = h + hash(v) | 0;\n  }));\n  return murmurHashOfSize(size, h);\n}\nfunction murmurHashOfSize(size, h) {\n  h = imul(h, 0xCC9E2D51);\n  h = imul(h << 15 | h >>> -15, 0x1B873593);\n  h = imul(h << 13 | h >>> -13, 5);\n  h = (h + 0xE6546B64 | 0) ^ size;\n  h = imul(h ^ h >>> 16, 0x85EBCA6B);\n  h = imul(h ^ h >>> 13, 0xC2B2AE35);\n  h = smi(h ^ h >>> 16);\n  return h;\n}\nfunction hashMerge(a, b) {\n  return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0;\n}\nfunction mixin(ctor, methods) {\n  var proto = ctor.prototype;\n  var keyCopier = (function(key) {\n    proto[key] = methods[key];\n  });\n  Object.keys(methods).forEach(keyCopier);\n  Object.getOwnPropertySymbols && Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n  return ctor;\n}\nvar Seq = function Seq(value) {\n  return value === null || value === undefined ? emptySequence() : isIterable(value) ? value.toSeq() : seqFromValue(value);\n};\nvar $Seq = Seq;\n($traceurRuntime.createClass)(Seq, {\n  toSeq: function() {\n    return this;\n  },\n  toString: function() {\n    return this.__toString('Seq {', '}');\n  },\n  cacheResult: function() {\n    if (!this._cache && this.__iterateUncached) {\n      this._cache = this.entrySeq().toArray();\n      this.size = this._cache.length;\n    }\n    return this;\n  },\n  __iterate: function(fn, reverse) {\n    return seqIterate(this, fn, reverse, true);\n  },\n  __iterator: function(type, reverse) {\n    return seqIterator(this, type, reverse, true);\n  }\n}, {of: function() {\n    return $Seq(arguments);\n  }}, Iterable);\nvar KeyedSeq = function KeyedSeq(value) {\n  return value === null || value === undefined ? emptySequence().toKeyedSeq() : isIterable(value) ? (isKeyed(value) ? value.toSeq() : value.fromEntrySeq()) : keyedSeqFromValue(value);\n};\nvar $KeyedSeq = KeyedSeq;\n($traceurRuntime.createClass)(KeyedSeq, {\n  toKeyedSeq: function() {\n    return this;\n  },\n  toSeq: function() {\n    return this;\n  }\n}, {of: function() {\n    return $KeyedSeq(arguments);\n  }}, Seq);\nmixin(KeyedSeq, KeyedIterable.prototype);\nvar IndexedSeq = function IndexedSeq(value) {\n  return value === null || value === undefined ? emptySequence() : !isIterable(value) ? indexedSeqFromValue(value) : isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();\n};\nvar $IndexedSeq = IndexedSeq;\n($traceurRuntime.createClass)(IndexedSeq, {\n  toIndexedSeq: function() {\n    return this;\n  },\n  toString: function() {\n    return this.__toString('Seq [', ']');\n  },\n  __iterate: function(fn, reverse) {\n    return seqIterate(this, fn, reverse, false);\n  },\n  __iterator: function(type, reverse) {\n    return seqIterator(this, type, reverse, false);\n  }\n}, {of: function() {\n    return $IndexedSeq(arguments);\n  }}, Seq);\nmixin(IndexedSeq, IndexedIterable.prototype);\nvar SetSeq = function SetSeq(value) {\n  return (value === null || value === undefined ? emptySequence() : !isIterable(value) ? indexedSeqFromValue(value) : isKeyed(value) ? value.entrySeq() : value).toSetSeq();\n};\nvar $SetSeq = SetSeq;\n($traceurRuntime.createClass)(SetSeq, {toSetSeq: function() {\n    return this;\n  }}, {of: function() {\n    return $SetSeq(arguments);\n  }}, Seq);\nmixin(SetSeq, SetIterable.prototype);\nSeq.isSeq = isSeq;\nSeq.Keyed = KeyedSeq;\nSeq.Set = SetSeq;\nSeq.Indexed = IndexedSeq;\nvar IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\nSeq.prototype[IS_SEQ_SENTINEL] = true;\nvar ArraySeq = function ArraySeq(array) {\n  this._array = array;\n  this.size = array.length;\n};\n($traceurRuntime.createClass)(ArraySeq, {\n  get: function(index, notSetValue) {\n    return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n  },\n  __iterate: function(fn, reverse) {\n    var array = this._array;\n    var maxIndex = array.length - 1;\n    for (var ii = 0; ii <= maxIndex; ii++) {\n      if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {\n        return ii + 1;\n      }\n    }\n    return ii;\n  },\n  __iterator: function(type, reverse) {\n    var array = this._array;\n    var maxIndex = array.length - 1;\n    var ii = 0;\n    return new Iterator((function() {\n      return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++]);\n    }));\n  }\n}, {}, IndexedSeq);\nvar ObjectSeq = function ObjectSeq(object) {\n  var keys = Object.keys(object);\n  this._object = object;\n  this._keys = keys;\n  this.size = keys.length;\n};\n($traceurRuntime.createClass)(ObjectSeq, {\n  get: function(key, notSetValue) {\n    if (notSetValue !== undefined && !this.has(key)) {\n      return notSetValue;\n    }\n    return this._object[key];\n  },\n  has: function(key) {\n    return this._object.hasOwnProperty(key);\n  },\n  __iterate: function(fn, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var maxIndex = keys.length - 1;\n    for (var ii = 0; ii <= maxIndex; ii++) {\n      var key = keys[reverse ? maxIndex - ii : ii];\n      if (fn(object[key], key, this) === false) {\n        return ii + 1;\n      }\n    }\n    return ii;\n  },\n  __iterator: function(type, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var maxIndex = keys.length - 1;\n    var ii = 0;\n    return new Iterator((function() {\n      var key = keys[reverse ? maxIndex - ii : ii];\n      return ii++ > maxIndex ? iteratorDone() : iteratorValue(type, key, object[key]);\n    }));\n  }\n}, {}, KeyedSeq);\nObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\nvar IterableSeq = function IterableSeq(iterable) {\n  this._iterable = iterable;\n  this.size = iterable.length || iterable.size;\n};\n($traceurRuntime.createClass)(IterableSeq, {\n  __iterateUncached: function(fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterable = this._iterable;\n    var iterator = getIterator(iterable);\n    var iterations = 0;\n    if (isIterator(iterator)) {\n      var step;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n    }\n    return iterations;\n  },\n  __iteratorUncached: function(type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterable = this._iterable;\n    var iterator = getIterator(iterable);\n    if (!isIterator(iterator)) {\n      return new Iterator(iteratorDone);\n    }\n    var iterations = 0;\n    return new Iterator((function() {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, iterations++, step.value);\n    }));\n  }\n}, {}, IndexedSeq);\nvar IteratorSeq = function IteratorSeq(iterator) {\n  this._iterator = iterator;\n  this._iteratorCache = [];\n};\n($traceurRuntime.createClass)(IteratorSeq, {\n  __iterateUncached: function(fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterator = this._iterator;\n    var cache = this._iteratorCache;\n    var iterations = 0;\n    while (iterations < cache.length) {\n      if (fn(cache[iterations], iterations++, this) === false) {\n        return iterations;\n      }\n    }\n    var step;\n    while (!(step = iterator.next()).done) {\n      var val = step.value;\n      cache[iterations] = val;\n      if (fn(val, iterations++, this) === false) {\n        break;\n      }\n    }\n    return iterations;\n  },\n  __iteratorUncached: function(type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = this._iterator;\n    var cache = this._iteratorCache;\n    var iterations = 0;\n    return new Iterator((function() {\n      if (iterations >= cache.length) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        cache[iterations] = step.value;\n      }\n      return iteratorValue(type, iterations, cache[iterations++]);\n    }));\n  }\n}, {}, IndexedSeq);\nfunction isSeq(maybeSeq) {\n  return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n}\nvar EMPTY_SEQ;\nfunction emptySequence() {\n  return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n}\nfunction keyedSeqFromValue(value) {\n  var seq = Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() : isIterator(value) ? new IteratorSeq(value).fromEntrySeq() : hasIterator(value) ? new IterableSeq(value).fromEntrySeq() : typeof value === 'object' ? new ObjectSeq(value) : undefined;\n  if (!seq) {\n    throw new TypeError('Expected Array or iterable object of [k, v] entries, ' + 'or keyed object: ' + value);\n  }\n  return seq;\n}\nfunction indexedSeqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (!seq) {\n    throw new TypeError('Expected Array or iterable object of values: ' + value);\n  }\n  return seq;\n}\nfunction seqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value) || (typeof value === 'object' && new ObjectSeq(value));\n  if (!seq) {\n    throw new TypeError('Expected Array or iterable object of values, or keyed object: ' + value);\n  }\n  return seq;\n}\nfunction maybeIndexedSeqFromValue(value) {\n  return (isArrayLike(value) ? new ArraySeq(value) : isIterator(value) ? new IteratorSeq(value) : hasIterator(value) ? new IterableSeq(value) : undefined);\n}\nfunction isArrayLike(value) {\n  return value && typeof value.length === 'number';\n}\nfunction seqIterate(seq, fn, reverse, useKeys) {\n  var cache = seq._cache;\n  if (cache) {\n    var maxIndex = cache.length - 1;\n    for (var ii = 0; ii <= maxIndex; ii++) {\n      var entry = cache[reverse ? maxIndex - ii : ii];\n      if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {\n        return ii + 1;\n      }\n    }\n    return ii;\n  }\n  return seq.__iterateUncached(fn, reverse);\n}\nfunction seqIterator(seq, type, reverse, useKeys) {\n  var cache = seq._cache;\n  if (cache) {\n    var maxIndex = cache.length - 1;\n    var ii = 0;\n    return new Iterator((function() {\n      var entry = cache[reverse ? maxIndex - ii : ii];\n      return ii++ > maxIndex ? iteratorDone() : iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);\n    }));\n  }\n  return seq.__iteratorUncached(type, reverse);\n}\nfunction fromJS(json, converter) {\n  return converter ? _fromJSWith(converter, json, '', {'': json}) : _fromJSDefault(json);\n}\nfunction _fromJSWith(converter, json, key, parentJSON) {\n  if (Array.isArray(json)) {\n    return converter.call(parentJSON, key, IndexedSeq(json).map((function(v, k) {\n      return _fromJSWith(converter, v, k, json);\n    })));\n  }\n  if (isPlainObj(json)) {\n    return converter.call(parentJSON, key, KeyedSeq(json).map((function(v, k) {\n      return _fromJSWith(converter, v, k, json);\n    })));\n  }\n  return json;\n}\nfunction _fromJSDefault(json) {\n  if (Array.isArray(json)) {\n    return IndexedSeq(json).map(_fromJSDefault).toList();\n  }\n  if (isPlainObj(json)) {\n    return KeyedSeq(json).map(_fromJSDefault).toMap();\n  }\n  return json;\n}\nfunction isPlainObj(value) {\n  return value && value.constructor === Object;\n}\nvar Collection = function Collection() {\n  throw TypeError('Abstract');\n};\n($traceurRuntime.createClass)(Collection, {}, {}, Iterable);\nvar KeyedCollection = function KeyedCollection() {\n  $traceurRuntime.defaultSuperCall(this, $KeyedCollection.prototype, arguments);\n};\nvar $KeyedCollection = KeyedCollection;\n($traceurRuntime.createClass)(KeyedCollection, {}, {}, Collection);\nmixin(KeyedCollection, KeyedIterable.prototype);\nvar IndexedCollection = function IndexedCollection() {\n  $traceurRuntime.defaultSuperCall(this, $IndexedCollection.prototype, arguments);\n};\nvar $IndexedCollection = IndexedCollection;\n($traceurRuntime.createClass)(IndexedCollection, {}, {}, Collection);\nmixin(IndexedCollection, IndexedIterable.prototype);\nvar SetCollection = function SetCollection() {\n  $traceurRuntime.defaultSuperCall(this, $SetCollection.prototype, arguments);\n};\nvar $SetCollection = SetCollection;\n($traceurRuntime.createClass)(SetCollection, {}, {}, Collection);\nmixin(SetCollection, SetIterable.prototype);\nCollection.Keyed = KeyedCollection;\nCollection.Indexed = IndexedCollection;\nCollection.Set = SetCollection;\nvar Map = function Map(value) {\n  return value === null || value === undefined ? emptyMap() : isMap(value) ? value : emptyMap().withMutations((function(map) {\n    var iter = KeyedIterable(value);\n    assertNotInfinite(iter.size);\n    iter.forEach((function(v, k) {\n      return map.set(k, v);\n    }));\n  }));\n};\n($traceurRuntime.createClass)(Map, {\n  toString: function() {\n    return this.__toString('Map {', '}');\n  },\n  get: function(k, notSetValue) {\n    return this._root ? this._root.get(0, undefined, k, notSetValue) : notSetValue;\n  },\n  set: function(k, v) {\n    return updateMap(this, k, v);\n  },\n  setIn: function(keyPath, v) {\n    return this.updateIn(keyPath, NOT_SET, (function() {\n      return v;\n    }));\n  },\n  remove: function(k) {\n    return updateMap(this, k, NOT_SET);\n  },\n  removeIn: function(keyPath) {\n    return this.updateIn(keyPath, (function() {\n      return NOT_SET;\n    }));\n  },\n  update: function(k, notSetValue, updater) {\n    return arguments.length === 1 ? k(this) : this.updateIn([k], notSetValue, updater);\n  },\n  updateIn: function(keyPath, notSetValue, updater) {\n    if (!updater) {\n      updater = notSetValue;\n      notSetValue = undefined;\n    }\n    var updatedValue = updateInDeepMap(this, getIterator(keyPath) || getIterator(Iterable(keyPath)), notSetValue, updater);\n    return updatedValue === NOT_SET ? undefined : updatedValue;\n  },\n  clear: function() {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._root = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyMap();\n  },\n  merge: function() {\n    return mergeIntoMapWith(this, undefined, arguments);\n  },\n  mergeWith: function(merger) {\n    for (var iters = [],\n        $__3 = 1; $__3 < arguments.length; $__3++)\n      iters[$__3 - 1] = arguments[$__3];\n    return mergeIntoMapWith(this, merger, iters);\n  },\n  mergeIn: function(keyPath) {\n    for (var iters = [],\n        $__4 = 1; $__4 < arguments.length; $__4++)\n      iters[$__4 - 1] = arguments[$__4];\n    return this.updateIn(keyPath, emptyMap(), (function(m) {\n      return m.merge.apply(m, iters);\n    }));\n  },\n  mergeDeep: function() {\n    return mergeIntoMapWith(this, deepMerger(undefined), arguments);\n  },\n  mergeDeepWith: function(merger) {\n    for (var iters = [],\n        $__5 = 1; $__5 < arguments.length; $__5++)\n      iters[$__5 - 1] = arguments[$__5];\n    return mergeIntoMapWith(this, deepMerger(merger), iters);\n  },\n  mergeDeepIn: function(keyPath) {\n    for (var iters = [],\n        $__6 = 1; $__6 < arguments.length; $__6++)\n      iters[$__6 - 1] = arguments[$__6];\n    return this.updateIn(keyPath, emptyMap(), (function(m) {\n      return m.mergeDeep.apply(m, iters);\n    }));\n  },\n  sort: function(comparator) {\n    return OrderedMap(sortFactory(this, comparator));\n  },\n  sortBy: function(mapper, comparator) {\n    return OrderedMap(sortFactory(this, comparator, mapper));\n  },\n  withMutations: function(fn) {\n    var mutable = this.asMutable();\n    fn(mutable);\n    return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n  },\n  asMutable: function() {\n    return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n  },\n  asImmutable: function() {\n    return this.__ensureOwner();\n  },\n  wasAltered: function() {\n    return this.__altered;\n  },\n  __iterator: function(type, reverse) {\n    return new MapIterator(this, type, reverse);\n  },\n  __iterate: function(fn, reverse) {\n    var $__0 = this;\n    var iterations = 0;\n    this._root && this._root.iterate((function(entry) {\n      iterations++;\n      return fn(entry[1], entry[0], $__0);\n    }), reverse);\n    return iterations;\n  },\n  __ensureOwner: function(ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeMap(this.size, this._root, ownerID, this.__hash);\n  }\n}, {}, KeyedCollection);\nfunction isMap(maybeMap) {\n  return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n}\nMap.isMap = isMap;\nvar IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\nvar MapPrototype = Map.prototype;\nMapPrototype[IS_MAP_SENTINEL] = true;\nMapPrototype[DELETE] = MapPrototype.remove;\nvar ArrayMapNode = function ArrayMapNode(ownerID, entries) {\n  this.ownerID = ownerID;\n  this.entries = entries;\n};\nvar $ArrayMapNode = ArrayMapNode;\n($traceurRuntime.createClass)(ArrayMapNode, {\n  get: function(shift, keyHash, key, notSetValue) {\n    var entries = this.entries;\n    for (var ii = 0,\n        len = entries.length; ii < len; ii++) {\n      if (is(key, entries[ii][0])) {\n        return entries[ii][1];\n      }\n    }\n    return notSetValue;\n  },\n  update: function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    var removed = value === NOT_SET;\n    var entries = this.entries;\n    var idx = 0;\n    for (var len = entries.length; idx < len; idx++) {\n      if (is(key, entries[idx][0])) {\n        break;\n      }\n    }\n    var exists = idx < len;\n    if (exists ? entries[idx][1] === value : removed) {\n      return this;\n    }\n    SetRef(didAlter);\n    (removed || !exists) && SetRef(didChangeSize);\n    if (removed && entries.length === 1) {\n      return;\n    }\n    if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n      return createNodes(ownerID, entries, key, value);\n    }\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newEntries = isEditable ? entries : arrCopy(entries);\n    if (exists) {\n      if (removed) {\n        idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n      } else {\n        newEntries[idx] = [key, value];\n      }\n    } else {\n      newEntries.push([key, value]);\n    }\n    if (isEditable) {\n      this.entries = newEntries;\n      return this;\n    }\n    return new $ArrayMapNode(ownerID, newEntries);\n  }\n}, {});\nvar BitmapIndexedNode = function BitmapIndexedNode(ownerID, bitmap, nodes) {\n  this.ownerID = ownerID;\n  this.bitmap = bitmap;\n  this.nodes = nodes;\n};\nvar $BitmapIndexedNode = BitmapIndexedNode;\n($traceurRuntime.createClass)(BitmapIndexedNode, {\n  get: function(shift, keyHash, key, notSetValue) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n    var bit = (1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK));\n    var bitmap = this.bitmap;\n    return (bitmap & bit) === 0 ? notSetValue : this.nodes[popCount(bitmap & (bit - 1))].get(shift + SHIFT, keyHash, key, notSetValue);\n  },\n  update: function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n    var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n    var bit = 1 << keyHashFrag;\n    var bitmap = this.bitmap;\n    var exists = (bitmap & bit) !== 0;\n    if (!exists && value === NOT_SET) {\n      return this;\n    }\n    var idx = popCount(bitmap & (bit - 1));\n    var nodes = this.nodes;\n    var node = exists ? nodes[idx] : undefined;\n    var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n    if (newNode === node) {\n      return this;\n    }\n    if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n      return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n    }\n    if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {\n      return nodes[idx ^ 1];\n    }\n    if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n      return newNode;\n    }\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n    var newNodes = exists ? newNode ? setIn(nodes, idx, newNode, isEditable) : spliceOut(nodes, idx, isEditable) : spliceIn(nodes, idx, newNode, isEditable);\n    if (isEditable) {\n      this.bitmap = newBitmap;\n      this.nodes = newNodes;\n      return this;\n    }\n    return new $BitmapIndexedNode(ownerID, newBitmap, newNodes);\n  }\n}, {});\nvar HashArrayMapNode = function HashArrayMapNode(ownerID, count, nodes) {\n  this.ownerID = ownerID;\n  this.count = count;\n  this.nodes = nodes;\n};\nvar $HashArrayMapNode = HashArrayMapNode;\n($traceurRuntime.createClass)(HashArrayMapNode, {\n  get: function(shift, keyHash, key, notSetValue) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n    var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n    var node = this.nodes[idx];\n    return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;\n  },\n  update: function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n    var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n    var removed = value === NOT_SET;\n    var nodes = this.nodes;\n    var node = nodes[idx];\n    if (removed && !node) {\n      return this;\n    }\n    var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n    if (newNode === node) {\n      return this;\n    }\n    var newCount = this.count;\n    if (!node) {\n      newCount++;\n    } else if (!newNode) {\n      newCount--;\n      if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n        return packNodes(ownerID, nodes, newCount, idx);\n      }\n    }\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newNodes = setIn(nodes, idx, newNode, isEditable);\n    if (isEditable) {\n      this.count = newCount;\n      this.nodes = newNodes;\n      return this;\n    }\n    return new $HashArrayMapNode(ownerID, newCount, newNodes);\n  }\n}, {});\nvar HashCollisionNode = function HashCollisionNode(ownerID, keyHash, entries) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entries = entries;\n};\nvar $HashCollisionNode = HashCollisionNode;\n($traceurRuntime.createClass)(HashCollisionNode, {\n  get: function(shift, keyHash, key, notSetValue) {\n    var entries = this.entries;\n    for (var ii = 0,\n        len = entries.length; ii < len; ii++) {\n      if (is(key, entries[ii][0])) {\n        return entries[ii][1];\n      }\n    }\n    return notSetValue;\n  },\n  update: function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n    var removed = value === NOT_SET;\n    if (keyHash !== this.keyHash) {\n      if (removed) {\n        return this;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n    }\n    var entries = this.entries;\n    var idx = 0;\n    for (var len = entries.length; idx < len; idx++) {\n      if (is(key, entries[idx][0])) {\n        break;\n      }\n    }\n    var exists = idx < len;\n    if (exists ? entries[idx][1] === value : removed) {\n      return this;\n    }\n    SetRef(didAlter);\n    (removed || !exists) && SetRef(didChangeSize);\n    if (removed && len === 2) {\n      return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n    }\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newEntries = isEditable ? entries : arrCopy(entries);\n    if (exists) {\n      if (removed) {\n        idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n      } else {\n        newEntries[idx] = [key, value];\n      }\n    } else {\n      newEntries.push([key, value]);\n    }\n    if (isEditable) {\n      this.entries = newEntries;\n      return this;\n    }\n    return new $HashCollisionNode(ownerID, this.keyHash, newEntries);\n  }\n}, {});\nvar ValueNode = function ValueNode(ownerID, keyHash, entry) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entry = entry;\n};\nvar $ValueNode = ValueNode;\n($traceurRuntime.createClass)(ValueNode, {\n  get: function(shift, keyHash, key, notSetValue) {\n    return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n  },\n  update: function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    var removed = value === NOT_SET;\n    var keyMatch = is(key, this.entry[0]);\n    if (keyMatch ? value === this.entry[1] : removed) {\n      return this;\n    }\n    SetRef(didAlter);\n    if (removed) {\n      SetRef(didChangeSize);\n      return;\n    }\n    if (keyMatch) {\n      if (ownerID && ownerID === this.ownerID) {\n        this.entry[1] = value;\n        return this;\n      }\n      return new $ValueNode(ownerID, this.keyHash, [key, value]);\n    }\n    SetRef(didChangeSize);\n    return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n  }\n}, {});\nArrayMapNode.prototype.iterate = HashCollisionNode.prototype.iterate = function(fn, reverse) {\n  var entries = this.entries;\n  for (var ii = 0,\n      maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n    if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n      return false;\n    }\n  }\n};\nBitmapIndexedNode.prototype.iterate = HashArrayMapNode.prototype.iterate = function(fn, reverse) {\n  var nodes = this.nodes;\n  for (var ii = 0,\n      maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n    var node = nodes[reverse ? maxIndex - ii : ii];\n    if (node && node.iterate(fn, reverse) === false) {\n      return false;\n    }\n  }\n};\nValueNode.prototype.iterate = function(fn, reverse) {\n  return fn(this.entry);\n};\nvar MapIterator = function MapIterator(map, type, reverse) {\n  this._type = type;\n  this._reverse = reverse;\n  this._stack = map._root && mapIteratorFrame(map._root);\n};\n($traceurRuntime.createClass)(MapIterator, {next: function() {\n    var type = this._type;\n    var stack = this._stack;\n    while (stack) {\n      var node = stack.node;\n      var index = stack.index++;\n      var maxIndex;\n      if (node.entry) {\n        if (index === 0) {\n          return mapIteratorValue(type, node.entry);\n        }\n      } else if (node.entries) {\n        maxIndex = node.entries.length - 1;\n        if (index <= maxIndex) {\n          return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);\n        }\n      } else {\n        maxIndex = node.nodes.length - 1;\n        if (index <= maxIndex) {\n          var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n          if (subNode) {\n            if (subNode.entry) {\n              return mapIteratorValue(type, subNode.entry);\n            }\n            stack = this._stack = mapIteratorFrame(subNode, stack);\n          }\n          continue;\n        }\n      }\n      stack = this._stack = this._stack.__prev;\n    }\n    return iteratorDone();\n  }}, {}, Iterator);\nfunction mapIteratorValue(type, entry) {\n  return iteratorValue(type, entry[0], entry[1]);\n}\nfunction mapIteratorFrame(node, prev) {\n  return {\n    node: node,\n    index: 0,\n    __prev: prev\n  };\n}\nfunction makeMap(size, root, ownerID, hash) {\n  var map = Object.create(MapPrototype);\n  map.size = size;\n  map._root = root;\n  map.__ownerID = ownerID;\n  map.__hash = hash;\n  map.__altered = false;\n  return map;\n}\nvar EMPTY_MAP;\nfunction emptyMap() {\n  return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n}\nfunction updateMap(map, k, v) {\n  var newRoot;\n  var newSize;\n  if (!map._root) {\n    if (v === NOT_SET) {\n      return map;\n    }\n    newSize = 1;\n    newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n  } else {\n    var didChangeSize = MakeRef(CHANGE_LENGTH);\n    var didAlter = MakeRef(DID_ALTER);\n    newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);\n    if (!didAlter.value) {\n      return map;\n    }\n    newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n  }\n  if (map.__ownerID) {\n    map.size = newSize;\n    map._root = newRoot;\n    map.__hash = undefined;\n    map.__altered = true;\n    return map;\n  }\n  return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n}\nfunction updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (!node) {\n    if (value === NOT_SET) {\n      return node;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return new ValueNode(ownerID, keyHash, [key, value]);\n  }\n  return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);\n}\nfunction isLeafNode(node) {\n  return node.constructor === ValueNode || node.constructor === HashCollisionNode;\n}\nfunction mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n  if (node.keyHash === keyHash) {\n    return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n  }\n  var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n  var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var newNode;\n  var nodes = idx1 === idx2 ? [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] : ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2 ? [node, newNode] : [newNode, node]);\n  return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n}\nfunction createNodes(ownerID, entries, key, value) {\n  if (!ownerID) {\n    ownerID = new OwnerID();\n  }\n  var node = new ValueNode(ownerID, hash(key), [key, value]);\n  for (var ii = 0; ii < entries.length; ii++) {\n    var entry = entries[ii];\n    node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n  }\n  return node;\n}\nfunction packNodes(ownerID, nodes, count, excluding) {\n  var bitmap = 0;\n  var packedII = 0;\n  var packedNodes = new Array(count);\n  for (var ii = 0,\n      bit = 1,\n      len = nodes.length; ii < len; ii++, bit <<= 1) {\n    var node = nodes[ii];\n    if (node !== undefined && ii !== excluding) {\n      bitmap |= bit;\n      packedNodes[packedII++] = node;\n    }\n  }\n  return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n}\nfunction expandNodes(ownerID, nodes, bitmap, including, node) {\n  var count = 0;\n  var expandedNodes = new Array(SIZE);\n  for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n    expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n  }\n  expandedNodes[including] = node;\n  return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n}\nfunction mergeIntoMapWith(map, merger, iterables) {\n  var iters = [];\n  for (var ii = 0; ii < iterables.length; ii++) {\n    var value = iterables[ii];\n    var iter = KeyedIterable(value);\n    if (!isIterable(value)) {\n      iter = iter.map((function(v) {\n        return fromJS(v);\n      }));\n    }\n    iters.push(iter);\n  }\n  return mergeIntoCollectionWith(map, merger, iters);\n}\nfunction deepMerger(merger) {\n  return (function(existing, value) {\n    return existing && existing.mergeDeepWith && isIterable(value) ? existing.mergeDeepWith(merger, value) : merger ? merger(existing, value) : value;\n  });\n}\nfunction mergeIntoCollectionWith(collection, merger, iters) {\n  iters = iters.filter((function(x) {\n    return x.size !== 0;\n  }));\n  if (iters.length === 0) {\n    return collection;\n  }\n  if (collection.size === 0 && iters.length === 1) {\n    return collection.constructor(iters[0]);\n  }\n  return collection.withMutations((function(collection) {\n    var mergeIntoMap = merger ? (function(value, key) {\n      collection.update(key, NOT_SET, (function(existing) {\n        return existing === NOT_SET ? value : merger(existing, value);\n      }));\n    }) : (function(value, key) {\n      collection.set(key, value);\n    });\n    for (var ii = 0; ii < iters.length; ii++) {\n      iters[ii].forEach(mergeIntoMap);\n    }\n  }));\n}\nfunction updateInDeepMap(existing, keyPathIter, notSetValue, updater) {\n  var isNotSet = existing === NOT_SET;\n  var step = keyPathIter.next();\n  if (step.done) {\n    var existingValue = isNotSet ? notSetValue : existing;\n    var newValue = updater(existingValue);\n    return newValue === existingValue ? existing : newValue;\n  }\n  invariant(isNotSet || (existing && existing.set), 'invalid keyPath');\n  var key = step.value;\n  var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n  var nextUpdated = updateInDeepMap(nextExisting, keyPathIter, notSetValue, updater);\n  return nextUpdated === nextExisting ? existing : nextUpdated === NOT_SET ? existing.remove(key) : (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n}\nfunction popCount(x) {\n  x = x - ((x >> 1) & 0x55555555);\n  x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n  x = (x + (x >> 4)) & 0x0f0f0f0f;\n  x = x + (x >> 8);\n  x = x + (x >> 16);\n  return x & 0x7f;\n}\nfunction setIn(array, idx, val, canEdit) {\n  var newArray = canEdit ? array : arrCopy(array);\n  newArray[idx] = val;\n  return newArray;\n}\nfunction spliceIn(array, idx, val, canEdit) {\n  var newLen = array.length + 1;\n  if (canEdit && idx + 1 === newLen) {\n    array[idx] = val;\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      newArray[ii] = val;\n      after = -1;\n    } else {\n      newArray[ii] = array[ii + after];\n    }\n  }\n  return newArray;\n}\nfunction spliceOut(array, idx, canEdit) {\n  var newLen = array.length - 1;\n  if (canEdit && idx === newLen) {\n    array.pop();\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      after = 1;\n    }\n    newArray[ii] = array[ii + after];\n  }\n  return newArray;\n}\nvar MAX_ARRAY_MAP_SIZE = SIZE / 4;\nvar MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\nvar MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\nvar ToKeyedSequence = function ToKeyedSequence(indexed, useKeys) {\n  this._iter = indexed;\n  this._useKeys = useKeys;\n  this.size = indexed.size;\n};\n($traceurRuntime.createClass)(ToKeyedSequence, {\n  get: function(key, notSetValue) {\n    return this._iter.get(key, notSetValue);\n  },\n  has: function(key) {\n    return this._iter.has(key);\n  },\n  valueSeq: function() {\n    return this._iter.valueSeq();\n  },\n  reverse: function() {\n    var $__0 = this;\n    var reversedSequence = reverseFactory(this, true);\n    if (!this._useKeys) {\n      reversedSequence.valueSeq = (function() {\n        return $__0._iter.toSeq().reverse();\n      });\n    }\n    return reversedSequence;\n  },\n  map: function(mapper, context) {\n    var $__0 = this;\n    var mappedSequence = mapFactory(this, mapper, context);\n    if (!this._useKeys) {\n      mappedSequence.valueSeq = (function() {\n        return $__0._iter.toSeq().map(mapper, context);\n      });\n    }\n    return mappedSequence;\n  },\n  __iterate: function(fn, reverse) {\n    var $__0 = this;\n    var ii;\n    return this._iter.__iterate(this._useKeys ? (function(v, k) {\n      return fn(v, k, $__0);\n    }) : ((ii = reverse ? resolveSize(this) : 0), (function(v) {\n      return fn(v, reverse ? --ii : ii++, $__0);\n    })), reverse);\n  },\n  __iterator: function(type, reverse) {\n    if (this._useKeys) {\n      return this._iter.__iterator(type, reverse);\n    }\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    var ii = reverse ? resolveSize(this) : 0;\n    return new Iterator((function() {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, reverse ? --ii : ii++, step.value, step);\n    }));\n  }\n}, {}, KeyedSeq);\nToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\nvar ToIndexedSequence = function ToIndexedSequence(iter) {\n  this._iter = iter;\n  this.size = iter.size;\n};\n($traceurRuntime.createClass)(ToIndexedSequence, {\n  contains: function(value) {\n    return this._iter.contains(value);\n  },\n  __iterate: function(fn, reverse) {\n    var $__0 = this;\n    var iterations = 0;\n    return this._iter.__iterate((function(v) {\n      return fn(v, iterations++, $__0);\n    }), reverse);\n  },\n  __iterator: function(type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    var iterations = 0;\n    return new Iterator((function() {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, iterations++, step.value, step);\n    }));\n  }\n}, {}, IndexedSeq);\nvar ToSetSequence = function ToSetSequence(iter) {\n  this._iter = iter;\n  this.size = iter.size;\n};\n($traceurRuntime.createClass)(ToSetSequence, {\n  has: function(key) {\n    return this._iter.contains(key);\n  },\n  __iterate: function(fn, reverse) {\n    var $__0 = this;\n    return this._iter.__iterate((function(v) {\n      return fn(v, v, $__0);\n    }), reverse);\n  },\n  __iterator: function(type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator((function() {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, step.value, step.value, step);\n    }));\n  }\n}, {}, SetSeq);\nvar FromEntriesSequence = function FromEntriesSequence(entries) {\n  this._iter = entries;\n  this.size = entries.size;\n};\n($traceurRuntime.createClass)(FromEntriesSequence, {\n  entrySeq: function() {\n    return this._iter.toSeq();\n  },\n  __iterate: function(fn, reverse) {\n    var $__0 = this;\n    return this._iter.__iterate((function(entry) {\n      if (entry) {\n        validateEntry(entry);\n        return fn(entry[1], entry[0], $__0);\n      }\n    }), reverse);\n  },\n  __iterator: function(type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator((function() {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        if (entry) {\n          validateEntry(entry);\n          return type === ITERATE_ENTRIES ? step : iteratorValue(type, entry[0], entry[1], step);\n        }\n      }\n    }));\n  }\n}, {}, KeyedSeq);\nToIndexedSequence.prototype.cacheResult = ToKeyedSequence.prototype.cacheResult = ToSetSequence.prototype.cacheResult = FromEntriesSequence.prototype.cacheResult = cacheResultThrough;\nfunction flipFactory(iterable) {\n  var flipSequence = makeSequence(iterable);\n  flipSequence._iter = iterable;\n  flipSequence.size = iterable.size;\n  flipSequence.flip = (function() {\n    return iterable;\n  });\n  flipSequence.reverse = function() {\n    var reversedSequence = iterable.reverse.apply(this);\n    reversedSequence.flip = (function() {\n      return iterable.reverse();\n    });\n    return reversedSequence;\n  };\n  flipSequence.has = (function(key) {\n    return iterable.contains(key);\n  });\n  flipSequence.contains = (function(key) {\n    return iterable.has(key);\n  });\n  flipSequence.cacheResult = cacheResultThrough;\n  flipSequence.__iterateUncached = function(fn, reverse) {\n    var $__0 = this;\n    return iterable.__iterate((function(v, k) {\n      return fn(k, v, $__0) !== false;\n    }), reverse);\n  };\n  flipSequence.__iteratorUncached = function(type, reverse) {\n    if (type === ITERATE_ENTRIES) {\n      var iterator = iterable.__iterator(type, reverse);\n      return new Iterator((function() {\n        var step = iterator.next();\n        if (!step.done) {\n          var k = step.value[0];\n          step.value[0] = step.value[1];\n          step.value[1] = k;\n        }\n        return step;\n      }));\n    }\n    return iterable.__iterator(type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES, reverse);\n  };\n  return flipSequence;\n}\nfunction mapFactory(iterable, mapper, context) {\n  var mappedSequence = makeSequence(iterable);\n  mappedSequence.size = iterable.size;\n  mappedSequence.has = (function(key) {\n    return iterable.has(key);\n  });\n  mappedSequence.get = (function(key, notSetValue) {\n    var v = iterable.get(key, NOT_SET);\n    return v === NOT_SET ? notSetValue : mapper.call(context, v, key, iterable);\n  });\n  mappedSequence.__iterateUncached = function(fn, reverse) {\n    var $__0 = this;\n    return iterable.__iterate((function(v, k, c) {\n      return fn(mapper.call(context, v, k, c), k, $__0) !== false;\n    }), reverse);\n  };\n  mappedSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n    return new Iterator((function() {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var key = entry[0];\n      return iteratorValue(type, key, mapper.call(context, entry[1], key, iterable), step);\n    }));\n  };\n  return mappedSequence;\n}\nfunction reverseFactory(iterable, useKeys) {\n  var reversedSequence = makeSequence(iterable);\n  reversedSequence._iter = iterable;\n  reversedSequence.size = iterable.size;\n  reversedSequence.reverse = (function() {\n    return iterable;\n  });\n  if (iterable.flip) {\n    reversedSequence.flip = function() {\n      var flipSequence = flipFactory(iterable);\n      flipSequence.reverse = (function() {\n        return iterable.flip();\n      });\n      return flipSequence;\n    };\n  }\n  reversedSequence.get = (function(key, notSetValue) {\n    return iterable.get(useKeys ? key : -1 - key, notSetValue);\n  });\n  reversedSequence.has = (function(key) {\n    return iterable.has(useKeys ? key : -1 - key);\n  });\n  reversedSequence.contains = (function(value) {\n    return iterable.contains(value);\n  });\n  reversedSequence.cacheResult = cacheResultThrough;\n  reversedSequence.__iterate = function(fn, reverse) {\n    var $__0 = this;\n    return iterable.__iterate((function(v, k) {\n      return fn(v, k, $__0);\n    }), !reverse);\n  };\n  reversedSequence.__iterator = (function(type, reverse) {\n    return iterable.__iterator(type, !reverse);\n  });\n  return reversedSequence;\n}\nfunction filterFactory(iterable, predicate, context, useKeys) {\n  var filterSequence = makeSequence(iterable);\n  if (useKeys) {\n    filterSequence.has = (function(key) {\n      var v = iterable.get(key, NOT_SET);\n      return v !== NOT_SET && !!predicate.call(context, v, key, iterable);\n    });\n    filterSequence.get = (function(key, notSetValue) {\n      var v = iterable.get(key, NOT_SET);\n      return v !== NOT_SET && predicate.call(context, v, key, iterable) ? v : notSetValue;\n    });\n  }\n  filterSequence.__iterateUncached = function(fn, reverse) {\n    var $__0 = this;\n    var iterations = 0;\n    iterable.__iterate((function(v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, $__0);\n      }\n    }), reverse);\n    return iterations;\n  };\n  filterSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n    var iterations = 0;\n    return new Iterator((function() {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        var value = entry[1];\n        if (predicate.call(context, value, key, iterable)) {\n          return iteratorValue(type, useKeys ? key : iterations++, value, step);\n        }\n      }\n    }));\n  };\n  return filterSequence;\n}\nfunction countByFactory(iterable, grouper, context) {\n  var groups = Map().asMutable();\n  iterable.__iterate((function(v, k) {\n    groups.update(grouper.call(context, v, k, iterable), 0, (function(a) {\n      return a + 1;\n    }));\n  }));\n  return groups.asImmutable();\n}\nfunction groupByFactory(iterable, grouper, context) {\n  var isKeyedIter = isKeyed(iterable);\n  var groups = Map().asMutable();\n  iterable.__iterate((function(v, k) {\n    groups.update(grouper.call(context, v, k, iterable), (function(a) {\n      return (a = a || [], a.push(isKeyedIter ? [k, v] : v), a);\n    }));\n  }));\n  var coerce = iterableClass(iterable);\n  return groups.map((function(arr) {\n    return reify(iterable, coerce(arr));\n  }));\n}\nfunction takeFactory(iterable, amount) {\n  if (amount > iterable.size) {\n    return iterable;\n  }\n  if (amount < 0) {\n    amount = 0;\n  }\n  var takeSequence = makeSequence(iterable);\n  takeSequence.size = iterable.size && Math.min(iterable.size, amount);\n  takeSequence.__iterateUncached = function(fn, reverse) {\n    var $__0 = this;\n    if (amount === 0) {\n      return 0;\n    }\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    iterable.__iterate((function(v, k) {\n      return ++iterations && fn(v, k, $__0) !== false && iterations < amount;\n    }));\n    return iterations;\n  };\n  takeSequence.__iteratorUncached = function(type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = amount && iterable.__iterator(type, reverse);\n    var iterations = 0;\n    return new Iterator((function() {\n      if (iterations++ > amount) {\n        return iteratorDone();\n      }\n      return iterator.next();\n    }));\n  };\n  return takeSequence;\n}\nfunction takeWhileFactory(iterable, predicate, context) {\n  var takeSequence = makeSequence(iterable);\n  takeSequence.__iterateUncached = function(fn, reverse) {\n    var $__0 = this;\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    iterable.__iterate((function(v, k, c) {\n      return predicate.call(context, v, k, c) && ++iterations && fn(v, k, $__0);\n    }));\n    return iterations;\n  };\n  takeSequence.__iteratorUncached = function(type, reverse) {\n    var $__0 = this;\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n    var iterating = true;\n    return new Iterator((function() {\n      if (!iterating) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var k = entry[0];\n      var v = entry[1];\n      if (!predicate.call(context, v, k, $__0)) {\n        iterating = false;\n        return iteratorDone();\n      }\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    }));\n  };\n  return takeSequence;\n}\nfunction skipFactory(iterable, amount, useKeys) {\n  if (amount <= 0) {\n    return iterable;\n  }\n  var skipSequence = makeSequence(iterable);\n  skipSequence.size = iterable.size && Math.max(0, iterable.size - amount);\n  skipSequence.__iterateUncached = function(fn, reverse) {\n    var $__0 = this;\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var skipped = 0;\n    var isSkipping = true;\n    var iterations = 0;\n    iterable.__iterate((function(v, k) {\n      if (!(isSkipping && (isSkipping = skipped++ < amount))) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, $__0);\n      }\n    }));\n    return iterations;\n  };\n  skipSequence.__iteratorUncached = function(type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = amount && iterable.__iterator(type, reverse);\n    var skipped = 0;\n    var iterations = 0;\n    return new Iterator((function() {\n      while (skipped < amount) {\n        skipped++;\n        iterator.next();\n      }\n      var step = iterator.next();\n      if (useKeys || type === ITERATE_VALUES) {\n        return step;\n      } else if (type === ITERATE_KEYS) {\n        return iteratorValue(type, iterations++, undefined, step);\n      } else {\n        return iteratorValue(type, iterations++, step.value[1], step);\n      }\n    }));\n  };\n  return skipSequence;\n}\nfunction skipWhileFactory(iterable, predicate, context, useKeys) {\n  var skipSequence = makeSequence(iterable);\n  skipSequence.__iterateUncached = function(fn, reverse) {\n    var $__0 = this;\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var isSkipping = true;\n    var iterations = 0;\n    iterable.__iterate((function(v, k, c) {\n      if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, $__0);\n      }\n    }));\n    return iterations;\n  };\n  skipSequence.__iteratorUncached = function(type, reverse) {\n    var $__0 = this;\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n    var skipping = true;\n    var iterations = 0;\n    return new Iterator((function() {\n      var step,\n          k,\n          v;\n      do {\n        step = iterator.next();\n        if (step.done) {\n          if (useKeys || type === ITERATE_VALUES) {\n            return step;\n          } else if (type === ITERATE_KEYS) {\n            return iteratorValue(type, iterations++, undefined, step);\n          } else {\n            return iteratorValue(type, iterations++, step.value[1], step);\n          }\n        }\n        var entry = step.value;\n        k = entry[0];\n        v = entry[1];\n        skipping && (skipping = predicate.call(context, v, k, $__0));\n      } while (skipping);\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    }));\n  };\n  return skipSequence;\n}\nfunction concatFactory(iterable, values) {\n  var isKeyedIterable = isKeyed(iterable);\n  var iters = [iterable].concat(values).map((function(v) {\n    if (!isIterable(v)) {\n      v = isKeyedIterable ? keyedSeqFromValue(v) : indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n    } else if (isKeyedIterable) {\n      v = KeyedIterable(v);\n    }\n    return v;\n  })).filter((function(v) {\n    return v.size !== 0;\n  }));\n  if (iters.length === 0) {\n    return iterable;\n  }\n  if (iters.length === 1) {\n    var singleton = iters[0];\n    if (singleton === iterable || isKeyedIterable && isKeyed(singleton) || isIndexed(iterable) && isIndexed(singleton)) {\n      return singleton;\n    }\n  }\n  var concatSeq = new ArraySeq(iters);\n  if (isKeyedIterable) {\n    concatSeq = concatSeq.toKeyedSeq();\n  } else if (!isIndexed(iterable)) {\n    concatSeq = concatSeq.toSetSeq();\n  }\n  concatSeq = concatSeq.flatten(true);\n  concatSeq.size = iters.reduce((function(sum, seq) {\n    if (sum !== undefined) {\n      var size = seq.size;\n      if (size !== undefined) {\n        return sum + size;\n      }\n    }\n  }), 0);\n  return concatSeq;\n}\nfunction flattenFactory(iterable, depth, useKeys) {\n  var flatSequence = makeSequence(iterable);\n  flatSequence.__iterateUncached = function(fn, reverse) {\n    var iterations = 0;\n    var stopped = false;\n    function flatDeep(iter, currentDepth) {\n      var $__0 = this;\n      iter.__iterate((function(v, k) {\n        if ((!depth || currentDepth < depth) && isIterable(v)) {\n          flatDeep(v, currentDepth + 1);\n        } else if (fn(v, useKeys ? k : iterations++, $__0) === false) {\n          stopped = true;\n        }\n        return !stopped;\n      }), reverse);\n    }\n    flatDeep(iterable, 0);\n    return iterations;\n  };\n  flatSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = iterable.__iterator(type, reverse);\n    var stack = [];\n    var iterations = 0;\n    return new Iterator((function() {\n      while (iterator) {\n        var step = iterator.next();\n        if (step.done !== false) {\n          iterator = stack.pop();\n          continue;\n        }\n        var v = step.value;\n        if (type === ITERATE_ENTRIES) {\n          v = v[1];\n        }\n        if ((!depth || stack.length < depth) && isIterable(v)) {\n          stack.push(iterator);\n          iterator = v.__iterator(type, reverse);\n        } else {\n          return useKeys ? step : iteratorValue(type, iterations++, v, step);\n        }\n      }\n      return iteratorDone();\n    }));\n  };\n  return flatSequence;\n}\nfunction flatMapFactory(iterable, mapper, context) {\n  var coerce = iterableClass(iterable);\n  return iterable.toSeq().map((function(v, k) {\n    return coerce(mapper.call(context, v, k, iterable));\n  })).flatten(true);\n}\nfunction interposeFactory(iterable, separator) {\n  var interposedSequence = makeSequence(iterable);\n  interposedSequence.size = iterable.size && iterable.size * 2 - 1;\n  interposedSequence.__iterateUncached = function(fn, reverse) {\n    var $__0 = this;\n    var iterations = 0;\n    iterable.__iterate((function(v, k) {\n      return (!iterations || fn(separator, iterations++, $__0) !== false) && fn(v, iterations++, $__0) !== false;\n    }), reverse);\n    return iterations;\n  };\n  interposedSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = iterable.__iterator(ITERATE_VALUES, reverse);\n    var iterations = 0;\n    var step;\n    return new Iterator((function() {\n      if (!step || iterations % 2) {\n        step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n      }\n      return iterations % 2 ? iteratorValue(type, iterations++, separator) : iteratorValue(type, iterations++, step.value, step);\n    }));\n  };\n  return interposedSequence;\n}\nfunction sortFactory(iterable, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  var isKeyedIterable = isKeyed(iterable);\n  var index = 0;\n  var entries = iterable.toSeq().map((function(v, k) {\n    return [k, v, index++, mapper ? mapper(v, k, iterable) : v];\n  })).toArray();\n  entries.sort((function(a, b) {\n    return comparator(a[3], b[3]) || a[2] - b[2];\n  })).forEach(isKeyedIterable ? (function(v, i) {\n    entries[i].length = 2;\n  }) : (function(v, i) {\n    entries[i] = v[1];\n  }));\n  return isKeyedIterable ? KeyedSeq(entries) : isIndexed(iterable) ? IndexedSeq(entries) : SetSeq(entries);\n}\nfunction maxFactory(iterable, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  if (mapper) {\n    var entry = iterable.toSeq().map((function(v, k) {\n      return [v, mapper(v, k, iterable)];\n    })).reduce((function(max, next) {\n      return comparator(next[1], max[1]) > 0 ? next : max;\n    }));\n    return entry && entry[0];\n  } else {\n    return iterable.reduce((function(max, next) {\n      return comparator(next, max) > 0 ? next : max;\n    }));\n  }\n}\nfunction reify(iter, seq) {\n  return isSeq(iter) ? seq : iter.constructor(seq);\n}\nfunction validateEntry(entry) {\n  if (entry !== Object(entry)) {\n    throw new TypeError('Expected [K, V] tuple: ' + entry);\n  }\n}\nfunction resolveSize(iter) {\n  assertNotInfinite(iter.size);\n  return ensureSize(iter);\n}\nfunction iterableClass(iterable) {\n  return isKeyed(iterable) ? KeyedIterable : isIndexed(iterable) ? IndexedIterable : SetIterable;\n}\nfunction makeSequence(iterable) {\n  return Object.create((isKeyed(iterable) ? KeyedSeq : isIndexed(iterable) ? IndexedSeq : SetSeq).prototype);\n}\nfunction cacheResultThrough() {\n  if (this._iter.cacheResult) {\n    this._iter.cacheResult();\n    this.size = this._iter.size;\n    return this;\n  } else {\n    return Seq.prototype.cacheResult.call(this);\n  }\n}\nfunction defaultComparator(a, b) {\n  return a > b ? 1 : a < b ? -1 : 0;\n}\nvar List = function List(value) {\n  var empty = emptyList();\n  if (value === null || value === undefined) {\n    return empty;\n  }\n  if (isList(value)) {\n    return value;\n  }\n  var iter = IndexedIterable(value);\n  var size = iter.size;\n  if (size === 0) {\n    return empty;\n  }\n  assertNotInfinite(size);\n  if (size > 0 && size < SIZE) {\n    return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n  }\n  return empty.withMutations((function(list) {\n    list.setSize(size);\n    iter.forEach((function(v, i) {\n      return list.set(i, v);\n    }));\n  }));\n};\n($traceurRuntime.createClass)(List, {\n  toString: function() {\n    return this.__toString('List [', ']');\n  },\n  get: function(index, notSetValue) {\n    index = wrapIndex(this, index);\n    if (index < 0 || index >= this.size) {\n      return notSetValue;\n    }\n    index += this._origin;\n    var node = listNodeFor(this, index);\n    return node && node.array[index & MASK];\n  },\n  set: function(index, value) {\n    return updateList(this, index, value);\n  },\n  remove: function(index) {\n    return !this.has(index) ? this : index === 0 ? this.shift() : index === this.size - 1 ? this.pop() : this.splice(index, 1);\n  },\n  clear: function() {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = this._origin = this._capacity = 0;\n      this._level = SHIFT;\n      this._root = this._tail = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyList();\n  },\n  push: function() {\n    var values = arguments;\n    var oldSize = this.size;\n    return this.withMutations((function(list) {\n      setListBounds(list, 0, oldSize + values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(oldSize + ii, values[ii]);\n      }\n    }));\n  },\n  pop: function() {\n    return setListBounds(this, 0, -1);\n  },\n  unshift: function() {\n    var values = arguments;\n    return this.withMutations((function(list) {\n      setListBounds(list, -values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(ii, values[ii]);\n      }\n    }));\n  },\n  shift: function() {\n    return setListBounds(this, 1);\n  },\n  merge: function() {\n    return mergeIntoListWith(this, undefined, arguments);\n  },\n  mergeWith: function(merger) {\n    for (var iters = [],\n        $__7 = 1; $__7 < arguments.length; $__7++)\n      iters[$__7 - 1] = arguments[$__7];\n    return mergeIntoListWith(this, merger, iters);\n  },\n  mergeDeep: function() {\n    return mergeIntoListWith(this, deepMerger(undefined), arguments);\n  },\n  mergeDeepWith: function(merger) {\n    for (var iters = [],\n        $__8 = 1; $__8 < arguments.length; $__8++)\n      iters[$__8 - 1] = arguments[$__8];\n    return mergeIntoListWith(this, deepMerger(merger), iters);\n  },\n  setSize: function(size) {\n    return setListBounds(this, 0, size);\n  },\n  slice: function(begin, end) {\n    var size = this.size;\n    if (wholeSlice(begin, end, size)) {\n      return this;\n    }\n    return setListBounds(this, resolveBegin(begin, size), resolveEnd(end, size));\n  },\n  __iterator: function(type, reverse) {\n    var index = 0;\n    var values = iterateList(this, reverse);\n    return new Iterator((function() {\n      var value = values();\n      return value === DONE ? iteratorDone() : iteratorValue(type, index++, value);\n    }));\n  },\n  __iterate: function(fn, reverse) {\n    var index = 0;\n    var values = iterateList(this, reverse);\n    var value;\n    while ((value = values()) !== DONE) {\n      if (fn(value, index++, this) === false) {\n        break;\n      }\n    }\n    return index;\n  },\n  __ensureOwner: function(ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      return this;\n    }\n    return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);\n  }\n}, {of: function() {\n    return this(arguments);\n  }}, IndexedCollection);\nfunction isList(maybeList) {\n  return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n}\nList.isList = isList;\nvar IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\nvar ListPrototype = List.prototype;\nListPrototype[IS_LIST_SENTINEL] = true;\nListPrototype[DELETE] = ListPrototype.remove;\nListPrototype.setIn = MapPrototype.setIn;\nListPrototype.deleteIn = ListPrototype.removeIn = MapPrototype.removeIn;\nListPrototype.update = MapPrototype.update;\nListPrototype.updateIn = MapPrototype.updateIn;\nListPrototype.mergeIn = MapPrototype.mergeIn;\nListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\nListPrototype.withMutations = MapPrototype.withMutations;\nListPrototype.asMutable = MapPrototype.asMutable;\nListPrototype.asImmutable = MapPrototype.asImmutable;\nListPrototype.wasAltered = MapPrototype.wasAltered;\nvar VNode = function VNode(array, ownerID) {\n  this.array = array;\n  this.ownerID = ownerID;\n};\nvar $VNode = VNode;\n($traceurRuntime.createClass)(VNode, {\n  removeBefore: function(ownerID, level, index) {\n    if (index === level ? 1 << level : 0 || this.array.length === 0) {\n      return this;\n    }\n    var originIndex = (index >>> level) & MASK;\n    if (originIndex >= this.array.length) {\n      return new $VNode([], ownerID);\n    }\n    var removingFirst = originIndex === 0;\n    var newChild;\n    if (level > 0) {\n      var oldChild = this.array[originIndex];\n      newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n      if (newChild === oldChild && removingFirst) {\n        return this;\n      }\n    }\n    if (removingFirst && !newChild) {\n      return this;\n    }\n    var editable = editableVNode(this, ownerID);\n    if (!removingFirst) {\n      for (var ii = 0; ii < originIndex; ii++) {\n        editable.array[ii] = undefined;\n      }\n    }\n    if (newChild) {\n      editable.array[originIndex] = newChild;\n    }\n    return editable;\n  },\n  removeAfter: function(ownerID, level, index) {\n    if (index === level ? 1 << level : 0 || this.array.length === 0) {\n      return this;\n    }\n    var sizeIndex = ((index - 1) >>> level) & MASK;\n    if (sizeIndex >= this.array.length) {\n      return this;\n    }\n    var removingLast = sizeIndex === this.array.length - 1;\n    var newChild;\n    if (level > 0) {\n      var oldChild = this.array[sizeIndex];\n      newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n      if (newChild === oldChild && removingLast) {\n        return this;\n      }\n    }\n    if (removingLast && !newChild) {\n      return this;\n    }\n    var editable = editableVNode(this, ownerID);\n    if (!removingLast) {\n      editable.array.pop();\n    }\n    if (newChild) {\n      editable.array[sizeIndex] = newChild;\n    }\n    return editable;\n  }\n}, {});\nvar DONE = {};\nfunction iterateList(list, reverse) {\n  var left = list._origin;\n  var right = list._capacity;\n  var tailPos = getTailOffset(right);\n  var tail = list._tail;\n  return iterateNodeOrLeaf(list._root, list._level, 0);\n  function iterateNodeOrLeaf(node, level, offset) {\n    return level === 0 ? iterateLeaf(node, offset) : iterateNode(node, level, offset);\n  }\n  function iterateLeaf(node, offset) {\n    var array = offset === tailPos ? tail && tail.array : node && node.array;\n    var from = offset > left ? 0 : left - offset;\n    var to = right - offset;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return (function() {\n      if (from === to) {\n        return DONE;\n      }\n      var idx = reverse ? --to : from++;\n      return array && array[idx];\n    });\n  }\n  function iterateNode(node, level, offset) {\n    var values;\n    var array = node && node.array;\n    var from = offset > left ? 0 : (left - offset) >> level;\n    var to = ((right - offset) >> level) + 1;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return (function() {\n      do {\n        if (values) {\n          var value = values();\n          if (value !== DONE) {\n            return value;\n          }\n          values = null;\n        }\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        values = iterateNodeOrLeaf(array && array[idx], level - SHIFT, offset + (idx << level));\n      } while (true);\n    });\n  }\n}\nfunction makeList(origin, capacity, level, root, tail, ownerID, hash) {\n  var list = Object.create(ListPrototype);\n  list.size = capacity - origin;\n  list._origin = origin;\n  list._capacity = capacity;\n  list._level = level;\n  list._root = root;\n  list._tail = tail;\n  list.__ownerID = ownerID;\n  list.__hash = hash;\n  list.__altered = false;\n  return list;\n}\nvar EMPTY_LIST;\nfunction emptyList() {\n  return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n}\nfunction updateList(list, index, value) {\n  index = wrapIndex(list, index);\n  if (index >= list.size || index < 0) {\n    return list.withMutations((function(list) {\n      index < 0 ? setListBounds(list, index).set(0, value) : setListBounds(list, 0, index + 1).set(index, value);\n    }));\n  }\n  index += list._origin;\n  var newTail = list._tail;\n  var newRoot = list._root;\n  var didAlter = MakeRef(DID_ALTER);\n  if (index >= getTailOffset(list._capacity)) {\n    newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n  } else {\n    newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);\n  }\n  if (!didAlter.value) {\n    return list;\n  }\n  if (list.__ownerID) {\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n}\nfunction updateVNode(node, ownerID, level, index, value, didAlter) {\n  var idx = (index >>> level) & MASK;\n  var nodeHas = node && idx < node.array.length;\n  if (!nodeHas && value === undefined) {\n    return node;\n  }\n  var newNode;\n  if (level > 0) {\n    var lowerNode = node && node.array[idx];\n    var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);\n    if (newLowerNode === lowerNode) {\n      return node;\n    }\n    newNode = editableVNode(node, ownerID);\n    newNode.array[idx] = newLowerNode;\n    return newNode;\n  }\n  if (nodeHas && node.array[idx] === value) {\n    return node;\n  }\n  SetRef(didAlter);\n  newNode = editableVNode(node, ownerID);\n  if (value === undefined && idx === newNode.array.length - 1) {\n    newNode.array.pop();\n  } else {\n    newNode.array[idx] = value;\n  }\n  return newNode;\n}\nfunction editableVNode(node, ownerID) {\n  if (ownerID && node && ownerID === node.ownerID) {\n    return node;\n  }\n  return new VNode(node ? node.array.slice() : [], ownerID);\n}\nfunction listNodeFor(list, rawIndex) {\n  if (rawIndex >= getTailOffset(list._capacity)) {\n    return list._tail;\n  }\n  if (rawIndex < 1 << (list._level + SHIFT)) {\n    var node = list._root;\n    var level = list._level;\n    while (node && level > 0) {\n      node = node.array[(rawIndex >>> level) & MASK];\n      level -= SHIFT;\n    }\n    return node;\n  }\n}\nfunction setListBounds(list, begin, end) {\n  var owner = list.__ownerID || new OwnerID();\n  var oldOrigin = list._origin;\n  var oldCapacity = list._capacity;\n  var newOrigin = oldOrigin + begin;\n  var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;\n  if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n    return list;\n  }\n  if (newOrigin >= newCapacity) {\n    return list.clear();\n  }\n  var newLevel = list._level;\n  var newRoot = list._root;\n  var offsetShift = 0;\n  while (newOrigin + offsetShift < 0) {\n    newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);\n    newLevel += SHIFT;\n    offsetShift += 1 << newLevel;\n  }\n  if (offsetShift) {\n    newOrigin += offsetShift;\n    oldOrigin += offsetShift;\n    newCapacity += offsetShift;\n    oldCapacity += offsetShift;\n  }\n  var oldTailOffset = getTailOffset(oldCapacity);\n  var newTailOffset = getTailOffset(newCapacity);\n  while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n    newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);\n    newLevel += SHIFT;\n  }\n  var oldTail = list._tail;\n  var newTail = newTailOffset < oldTailOffset ? listNodeFor(list, newCapacity - 1) : newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n  if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {\n    newRoot = editableVNode(newRoot, owner);\n    var node = newRoot;\n    for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n      var idx = (oldTailOffset >>> level) & MASK;\n      node = node.array[idx] = editableVNode(node.array[idx], owner);\n    }\n    node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n  }\n  if (newCapacity < oldCapacity) {\n    newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n  }\n  if (newOrigin >= newTailOffset) {\n    newOrigin -= newTailOffset;\n    newCapacity -= newTailOffset;\n    newLevel = SHIFT;\n    newRoot = null;\n    newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n  } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n    offsetShift = 0;\n    while (newRoot) {\n      var beginIndex = (newOrigin >>> newLevel) & MASK;\n      if (beginIndex !== (newTailOffset >>> newLevel) & MASK) {\n        break;\n      }\n      if (beginIndex) {\n        offsetShift += (1 << newLevel) * beginIndex;\n      }\n      newLevel -= SHIFT;\n      newRoot = newRoot.array[beginIndex];\n    }\n    if (newRoot && newOrigin > oldOrigin) {\n      newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n    }\n    if (newRoot && newTailOffset < oldTailOffset) {\n      newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);\n    }\n    if (offsetShift) {\n      newOrigin -= offsetShift;\n      newCapacity -= offsetShift;\n    }\n  }\n  if (list.__ownerID) {\n    list.size = newCapacity - newOrigin;\n    list._origin = newOrigin;\n    list._capacity = newCapacity;\n    list._level = newLevel;\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n}\nfunction mergeIntoListWith(list, merger, iterables) {\n  var iters = [];\n  var maxSize = 0;\n  for (var ii = 0; ii < iterables.length; ii++) {\n    var value = iterables[ii];\n    var iter = IndexedIterable(value);\n    if (iter.size > maxSize) {\n      maxSize = iter.size;\n    }\n    if (!isIterable(value)) {\n      iter = iter.map((function(v) {\n        return fromJS(v);\n      }));\n    }\n    iters.push(iter);\n  }\n  if (maxSize > list.size) {\n    list = list.setSize(maxSize);\n  }\n  return mergeIntoCollectionWith(list, merger, iters);\n}\nfunction getTailOffset(size) {\n  return size < SIZE ? 0 : (((size - 1) >>> SHIFT) << SHIFT);\n}\nvar OrderedMap = function OrderedMap(value) {\n  return value === null || value === undefined ? emptyOrderedMap() : isOrderedMap(value) ? value : emptyOrderedMap().withMutations((function(map) {\n    var iter = KeyedIterable(value);\n    assertNotInfinite(iter.size);\n    iter.forEach((function(v, k) {\n      return map.set(k, v);\n    }));\n  }));\n};\n($traceurRuntime.createClass)(OrderedMap, {\n  toString: function() {\n    return this.__toString('OrderedMap {', '}');\n  },\n  get: function(k, notSetValue) {\n    var index = this._map.get(k);\n    return index !== undefined ? this._list.get(index)[1] : notSetValue;\n  },\n  clear: function() {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._map.clear();\n      this._list.clear();\n      return this;\n    }\n    return emptyOrderedMap();\n  },\n  set: function(k, v) {\n    return updateOrderedMap(this, k, v);\n  },\n  remove: function(k) {\n    return updateOrderedMap(this, k, NOT_SET);\n  },\n  wasAltered: function() {\n    return this._map.wasAltered() || this._list.wasAltered();\n  },\n  __iterate: function(fn, reverse) {\n    var $__0 = this;\n    return this._list.__iterate((function(entry) {\n      return entry && fn(entry[1], entry[0], $__0);\n    }), reverse);\n  },\n  __iterator: function(type, reverse) {\n    return this._list.fromEntrySeq().__iterator(type, reverse);\n  },\n  __ensureOwner: function(ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    var newList = this._list.__ensureOwner(ownerID);\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      this._list = newList;\n      return this;\n    }\n    return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n  }\n}, {of: function() {\n    return this(arguments);\n  }}, Map);\nfunction isOrderedMap(maybeOrderedMap) {\n  return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n}\nOrderedMap.isOrderedMap = isOrderedMap;\nOrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\nOrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\nfunction makeOrderedMap(map, list, ownerID, hash) {\n  var omap = Object.create(OrderedMap.prototype);\n  omap.size = map ? map.size : 0;\n  omap._map = map;\n  omap._list = list;\n  omap.__ownerID = ownerID;\n  omap.__hash = hash;\n  return omap;\n}\nvar EMPTY_ORDERED_MAP;\nfunction emptyOrderedMap() {\n  return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n}\nfunction updateOrderedMap(omap, k, v) {\n  var map = omap._map;\n  var list = omap._list;\n  var i = map.get(k);\n  var has = i !== undefined;\n  var newMap;\n  var newList;\n  if (v === NOT_SET) {\n    if (!has) {\n      return omap;\n    }\n    if (list.size >= SIZE && list.size >= map.size * 2) {\n      newList = list.filter((function(entry, idx) {\n        return entry !== undefined && i !== idx;\n      }));\n      newMap = newList.toKeyedSeq().map((function(entry) {\n        return entry[0];\n      })).flip().toMap();\n      if (omap.__ownerID) {\n        newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n      }\n    } else {\n      newMap = map.remove(k);\n      newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n    }\n  } else {\n    if (has) {\n      if (v === list.get(i)[1]) {\n        return omap;\n      }\n      newMap = map;\n      newList = list.set(i, [k, v]);\n    } else {\n      newMap = map.set(k, list.size);\n      newList = list.set(list.size, [k, v]);\n    }\n  }\n  if (omap.__ownerID) {\n    omap.size = newMap.size;\n    omap._map = newMap;\n    omap._list = newList;\n    omap.__hash = undefined;\n    return omap;\n  }\n  return makeOrderedMap(newMap, newList);\n}\nvar Stack = function Stack(value) {\n  return value === null || value === undefined ? emptyStack() : isStack(value) ? value : emptyStack().unshiftAll(value);\n};\nvar $Stack = Stack;\n($traceurRuntime.createClass)(Stack, {\n  toString: function() {\n    return this.__toString('Stack [', ']');\n  },\n  get: function(index, notSetValue) {\n    var head = this._head;\n    while (head && index--) {\n      head = head.next;\n    }\n    return head ? head.value : notSetValue;\n  },\n  peek: function() {\n    return this._head && this._head.value;\n  },\n  push: function() {\n    if (arguments.length === 0) {\n      return this;\n    }\n    var newSize = this.size + arguments.length;\n    var head = this._head;\n    for (var ii = arguments.length - 1; ii >= 0; ii--) {\n      head = {\n        value: arguments[ii],\n        next: head\n      };\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  },\n  pushAll: function(iter) {\n    iter = IndexedIterable(iter);\n    if (iter.size === 0) {\n      return this;\n    }\n    assertNotInfinite(iter.size);\n    var newSize = this.size;\n    var head = this._head;\n    iter.reverse().forEach((function(value) {\n      newSize++;\n      head = {\n        value: value,\n        next: head\n      };\n    }));\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  },\n  pop: function() {\n    return this.slice(1);\n  },\n  unshift: function() {\n    return this.push.apply(this, arguments);\n  },\n  unshiftAll: function(iter) {\n    return this.pushAll(iter);\n  },\n  shift: function() {\n    return this.pop.apply(this, arguments);\n  },\n  clear: function() {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._head = undefined;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyStack();\n  },\n  slice: function(begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    var resolvedBegin = resolveBegin(begin, this.size);\n    var resolvedEnd = resolveEnd(end, this.size);\n    if (resolvedEnd !== this.size) {\n      return $traceurRuntime.superCall(this, $Stack.prototype, \"slice\", [begin, end]);\n    }\n    var newSize = this.size - resolvedBegin;\n    var head = this._head;\n    while (resolvedBegin--) {\n      head = head.next;\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  },\n  __ensureOwner: function(ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeStack(this.size, this._head, ownerID, this.__hash);\n  },\n  __iterate: function(fn, reverse) {\n    if (reverse) {\n      return this.toSeq().cacheResult.__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    var node = this._head;\n    while (node) {\n      if (fn(node.value, iterations++, this) === false) {\n        break;\n      }\n      node = node.next;\n    }\n    return iterations;\n  },\n  __iterator: function(type, reverse) {\n    if (reverse) {\n      return this.toSeq().cacheResult().__iterator(type, reverse);\n    }\n    var iterations = 0;\n    var node = this._head;\n    return new Iterator((function() {\n      if (node) {\n        var value = node.value;\n        node = node.next;\n        return iteratorValue(type, iterations++, value);\n      }\n      return iteratorDone();\n    }));\n  }\n}, {of: function() {\n    return this(arguments);\n  }}, IndexedCollection);\nfunction isStack(maybeStack) {\n  return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n}\nStack.isStack = isStack;\nvar IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\nvar StackPrototype = Stack.prototype;\nStackPrototype[IS_STACK_SENTINEL] = true;\nStackPrototype.withMutations = MapPrototype.withMutations;\nStackPrototype.asMutable = MapPrototype.asMutable;\nStackPrototype.asImmutable = MapPrototype.asImmutable;\nStackPrototype.wasAltered = MapPrototype.wasAltered;\nfunction makeStack(size, head, ownerID, hash) {\n  var map = Object.create(StackPrototype);\n  map.size = size;\n  map._head = head;\n  map.__ownerID = ownerID;\n  map.__hash = hash;\n  map.__altered = false;\n  return map;\n}\nvar EMPTY_STACK;\nfunction emptyStack() {\n  return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n}\nvar Set = function Set(value) {\n  return value === null || value === undefined ? emptySet() : isSet(value) ? value : emptySet().withMutations((function(set) {\n    var iter = SetIterable(value);\n    assertNotInfinite(iter.size);\n    iter.forEach((function(v) {\n      return set.add(v);\n    }));\n  }));\n};\n($traceurRuntime.createClass)(Set, {\n  toString: function() {\n    return this.__toString('Set {', '}');\n  },\n  has: function(value) {\n    return this._map.has(value);\n  },\n  add: function(value) {\n    return updateSet(this, this._map.set(value, true));\n  },\n  remove: function(value) {\n    return updateSet(this, this._map.remove(value));\n  },\n  clear: function() {\n    return updateSet(this, this._map.clear());\n  },\n  union: function() {\n    for (var iters = [],\n        $__9 = 0; $__9 < arguments.length; $__9++)\n      iters[$__9] = arguments[$__9];\n    iters = iters.filter((function(x) {\n      return x.size !== 0;\n    }));\n    if (iters.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && iters.length === 1) {\n      return this.constructor(iters[0]);\n    }\n    return this.withMutations((function(set) {\n      for (var ii = 0; ii < iters.length; ii++) {\n        SetIterable(iters[ii]).forEach((function(value) {\n          return set.add(value);\n        }));\n      }\n    }));\n  },\n  intersect: function() {\n    for (var iters = [],\n        $__10 = 0; $__10 < arguments.length; $__10++)\n      iters[$__10] = arguments[$__10];\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map((function(iter) {\n      return SetIterable(iter);\n    }));\n    var originalSet = this;\n    return this.withMutations((function(set) {\n      originalSet.forEach((function(value) {\n        if (!iters.every((function(iter) {\n          return iter.contains(value);\n        }))) {\n          set.remove(value);\n        }\n      }));\n    }));\n  },\n  subtract: function() {\n    for (var iters = [],\n        $__11 = 0; $__11 < arguments.length; $__11++)\n      iters[$__11] = arguments[$__11];\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map((function(iter) {\n      return SetIterable(iter);\n    }));\n    var originalSet = this;\n    return this.withMutations((function(set) {\n      originalSet.forEach((function(value) {\n        if (iters.some((function(iter) {\n          return iter.contains(value);\n        }))) {\n          set.remove(value);\n        }\n      }));\n    }));\n  },\n  merge: function() {\n    return this.union.apply(this, arguments);\n  },\n  mergeWith: function(merger) {\n    for (var iters = [],\n        $__12 = 1; $__12 < arguments.length; $__12++)\n      iters[$__12 - 1] = arguments[$__12];\n    return this.union.apply(this, iters);\n  },\n  sort: function(comparator) {\n    return OrderedSet(sortFactory(this, comparator));\n  },\n  sortBy: function(mapper, comparator) {\n    return OrderedSet(sortFactory(this, comparator, mapper));\n  },\n  wasAltered: function() {\n    return this._map.wasAltered();\n  },\n  __iterate: function(fn, reverse) {\n    var $__0 = this;\n    return this._map.__iterate((function(_, k) {\n      return fn(k, k, $__0);\n    }), reverse);\n  },\n  __iterator: function(type, reverse) {\n    return this._map.map((function(_, k) {\n      return k;\n    })).__iterator(type, reverse);\n  },\n  __ensureOwner: function(ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      return this;\n    }\n    return this.__make(newMap, ownerID);\n  }\n}, {\n  of: function() {\n    return this(arguments);\n  },\n  fromKeys: function(value) {\n    return this(KeyedIterable(value).keySeq());\n  }\n}, SetCollection);\nfunction isSet(maybeSet) {\n  return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n}\nSet.isSet = isSet;\nvar IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\nvar SetPrototype = Set.prototype;\nSetPrototype[IS_SET_SENTINEL] = true;\nSetPrototype[DELETE] = SetPrototype.remove;\nSetPrototype.mergeDeep = SetPrototype.merge;\nSetPrototype.mergeDeepWith = SetPrototype.mergeWith;\nSetPrototype.withMutations = MapPrototype.withMutations;\nSetPrototype.asMutable = MapPrototype.asMutable;\nSetPrototype.asImmutable = MapPrototype.asImmutable;\nSetPrototype.__empty = emptySet;\nSetPrototype.__make = makeSet;\nfunction updateSet(set, newMap) {\n  if (set.__ownerID) {\n    set.size = newMap.size;\n    set._map = newMap;\n    return set;\n  }\n  return newMap === set._map ? set : newMap.size === 0 ? set.__empty() : set.__make(newMap);\n}\nfunction makeSet(map, ownerID) {\n  var set = Object.create(SetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\nvar EMPTY_SET;\nfunction emptySet() {\n  return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n}\nvar OrderedSet = function OrderedSet(value) {\n  return value === null || value === undefined ? emptyOrderedSet() : isOrderedSet(value) ? value : emptyOrderedSet().withMutations((function(set) {\n    var iter = SetIterable(value);\n    assertNotInfinite(iter.size);\n    iter.forEach((function(v) {\n      return set.add(v);\n    }));\n  }));\n};\n($traceurRuntime.createClass)(OrderedSet, {toString: function() {\n    return this.__toString('OrderedSet {', '}');\n  }}, {\n  of: function() {\n    return this(arguments);\n  },\n  fromKeys: function(value) {\n    return this(KeyedIterable(value).keySeq());\n  }\n}, Set);\nfunction isOrderedSet(maybeOrderedSet) {\n  return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n}\nOrderedSet.isOrderedSet = isOrderedSet;\nvar OrderedSetPrototype = OrderedSet.prototype;\nOrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\nOrderedSetPrototype.__empty = emptyOrderedSet;\nOrderedSetPrototype.__make = makeOrderedSet;\nfunction makeOrderedSet(map, ownerID) {\n  var set = Object.create(OrderedSetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\nvar EMPTY_ORDERED_SET;\nfunction emptyOrderedSet() {\n  return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n}\nvar Record = function Record(defaultValues, name) {\n  var RecordType = function Record(values) {\n    if (!(this instanceof RecordType)) {\n      return new RecordType(values);\n    }\n    this._map = Map(values);\n  };\n  var keys = Object.keys(defaultValues);\n  var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);\n  RecordTypePrototype.constructor = RecordType;\n  name && (RecordTypePrototype._name = name);\n  RecordTypePrototype._defaultValues = defaultValues;\n  RecordTypePrototype._keys = keys;\n  RecordTypePrototype.size = keys.length;\n  try {\n    keys.forEach((function(key) {\n      Object.defineProperty(RecordType.prototype, key, {\n        get: function() {\n          return this.get(key);\n        },\n        set: function(value) {\n          invariant(this.__ownerID, 'Cannot set on an immutable record.');\n          this.set(key, value);\n        }\n      });\n    }));\n  } catch (error) {}\n  return RecordType;\n};\n($traceurRuntime.createClass)(Record, {\n  toString: function() {\n    return this.__toString(recordName(this) + ' {', '}');\n  },\n  has: function(k) {\n    return this._defaultValues.hasOwnProperty(k);\n  },\n  get: function(k, notSetValue) {\n    if (!this.has(k)) {\n      return notSetValue;\n    }\n    var defaultVal = this._defaultValues[k];\n    return this._map ? this._map.get(k, defaultVal) : defaultVal;\n  },\n  clear: function() {\n    if (this.__ownerID) {\n      this._map && this._map.clear();\n      return this;\n    }\n    var SuperRecord = Object.getPrototypeOf(this).constructor;\n    return SuperRecord._empty || (SuperRecord._empty = makeRecord(this, emptyMap()));\n  },\n  set: function(k, v) {\n    if (!this.has(k)) {\n      throw new Error('Cannot set unknown key \"' + k + '\" on ' + recordName(this));\n    }\n    var newMap = this._map && this._map.set(k, v);\n    if (this.__ownerID || newMap === this._map) {\n      return this;\n    }\n    return makeRecord(this, newMap);\n  },\n  remove: function(k) {\n    if (!this.has(k)) {\n      return this;\n    }\n    var newMap = this._map && this._map.remove(k);\n    if (this.__ownerID || newMap === this._map) {\n      return this;\n    }\n    return makeRecord(this, newMap);\n  },\n  wasAltered: function() {\n    return this._map.wasAltered();\n  },\n  __iterator: function(type, reverse) {\n    var $__0 = this;\n    return KeyedIterable(this._defaultValues).map((function(_, k) {\n      return $__0.get(k);\n    })).__iterator(type, reverse);\n  },\n  __iterate: function(fn, reverse) {\n    var $__0 = this;\n    return KeyedIterable(this._defaultValues).map((function(_, k) {\n      return $__0.get(k);\n    })).__iterate(fn, reverse);\n  },\n  __ensureOwner: function(ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map && this._map.__ensureOwner(ownerID);\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      return this;\n    }\n    return makeRecord(this, newMap, ownerID);\n  }\n}, {}, KeyedCollection);\nvar RecordPrototype = Record.prototype;\nRecordPrototype[DELETE] = RecordPrototype.remove;\nRecordPrototype.deleteIn = RecordPrototype.removeIn = MapPrototype.removeIn;\nRecordPrototype.merge = MapPrototype.merge;\nRecordPrototype.mergeWith = MapPrototype.mergeWith;\nRecordPrototype.mergeIn = MapPrototype.mergeIn;\nRecordPrototype.mergeDeep = MapPrototype.mergeDeep;\nRecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\nRecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\nRecordPrototype.setIn = MapPrototype.setIn;\nRecordPrototype.update = MapPrototype.update;\nRecordPrototype.updateIn = MapPrototype.updateIn;\nRecordPrototype.withMutations = MapPrototype.withMutations;\nRecordPrototype.asMutable = MapPrototype.asMutable;\nRecordPrototype.asImmutable = MapPrototype.asImmutable;\nfunction makeRecord(likeRecord, map, ownerID) {\n  var record = Object.create(Object.getPrototypeOf(likeRecord));\n  record._map = map;\n  record.__ownerID = ownerID;\n  return record;\n}\nfunction recordName(record) {\n  return record._name || record.constructor.name;\n}\nvar Range = function Range(start, end, step) {\n  if (!(this instanceof $Range)) {\n    return new $Range(start, end, step);\n  }\n  invariant(step !== 0, 'Cannot step a Range by 0');\n  start = start || 0;\n  if (end === undefined) {\n    end = Infinity;\n  }\n  if (start === end && __EMPTY_RANGE) {\n    return __EMPTY_RANGE;\n  }\n  step = step === undefined ? 1 : Math.abs(step);\n  if (end < start) {\n    step = -step;\n  }\n  this._start = start;\n  this._end = end;\n  this._step = step;\n  this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n};\nvar $Range = Range;\n($traceurRuntime.createClass)(Range, {\n  toString: function() {\n    if (this.size === 0) {\n      return 'Range []';\n    }\n    return 'Range [ ' + this._start + '...' + this._end + (this._step > 1 ? ' by ' + this._step : '') + ' ]';\n  },\n  get: function(index, notSetValue) {\n    return this.has(index) ? this._start + wrapIndex(this, index) * this._step : notSetValue;\n  },\n  contains: function(searchValue) {\n    var possibleIndex = (searchValue - this._start) / this._step;\n    return possibleIndex >= 0 && possibleIndex < this.size && possibleIndex === Math.floor(possibleIndex);\n  },\n  slice: function(begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    begin = resolveBegin(begin, this.size);\n    end = resolveEnd(end, this.size);\n    if (end <= begin) {\n      return __EMPTY_RANGE;\n    }\n    return new $Range(this.get(begin, this._end), this.get(end, this._end), this._step);\n  },\n  indexOf: function(searchValue) {\n    var offsetValue = searchValue - this._start;\n    if (offsetValue % this._step === 0) {\n      var index = offsetValue / this._step;\n      if (index >= 0 && index < this.size) {\n        return index;\n      }\n    }\n    return -1;\n  },\n  lastIndexOf: function(searchValue) {\n    return this.indexOf(searchValue);\n  },\n  take: function(amount) {\n    return this.slice(0, Math.max(0, amount));\n  },\n  skip: function(amount) {\n    return this.slice(Math.max(0, amount));\n  },\n  __iterate: function(fn, reverse) {\n    var maxIndex = this.size - 1;\n    var step = this._step;\n    var value = reverse ? this._start + maxIndex * step : this._start;\n    for (var ii = 0; ii <= maxIndex; ii++) {\n      if (fn(value, ii, this) === false) {\n        return ii + 1;\n      }\n      value += reverse ? -step : step;\n    }\n    return ii;\n  },\n  __iterator: function(type, reverse) {\n    var maxIndex = this.size - 1;\n    var step = this._step;\n    var value = reverse ? this._start + maxIndex * step : this._start;\n    var ii = 0;\n    return new Iterator((function() {\n      var v = value;\n      value += reverse ? -step : step;\n      return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);\n    }));\n  },\n  equals: function(other) {\n    return other instanceof $Range ? this._start === other._start && this._end === other._end && this._step === other._step : deepEqual(this, other);\n  }\n}, {}, IndexedSeq);\nvar RangePrototype = Range.prototype;\nRangePrototype.__toJS = RangePrototype.toArray;\nRangePrototype.first = ListPrototype.first;\nRangePrototype.last = ListPrototype.last;\nvar __EMPTY_RANGE = Range(0, 0);\nvar Repeat = function Repeat(value, times) {\n  if (times <= 0 && EMPTY_REPEAT) {\n    return EMPTY_REPEAT;\n  }\n  if (!(this instanceof $Repeat)) {\n    return new $Repeat(value, times);\n  }\n  this._value = value;\n  this.size = times === undefined ? Infinity : Math.max(0, times);\n  if (this.size === 0) {\n    EMPTY_REPEAT = this;\n  }\n};\nvar $Repeat = Repeat;\n($traceurRuntime.createClass)(Repeat, {\n  toString: function() {\n    if (this.size === 0) {\n      return 'Repeat []';\n    }\n    return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n  },\n  get: function(index, notSetValue) {\n    return this.has(index) ? this._value : notSetValue;\n  },\n  contains: function(searchValue) {\n    return is(this._value, searchValue);\n  },\n  slice: function(begin, end) {\n    var size = this.size;\n    return wholeSlice(begin, end, size) ? this : new $Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));\n  },\n  reverse: function() {\n    return this;\n  },\n  indexOf: function(searchValue) {\n    if (is(this._value, searchValue)) {\n      return 0;\n    }\n    return -1;\n  },\n  lastIndexOf: function(searchValue) {\n    if (is(this._value, searchValue)) {\n      return this.size;\n    }\n    return -1;\n  },\n  __iterate: function(fn, reverse) {\n    for (var ii = 0; ii < this.size; ii++) {\n      if (fn(this._value, ii, this) === false) {\n        return ii + 1;\n      }\n    }\n    return ii;\n  },\n  __iterator: function(type, reverse) {\n    var $__0 = this;\n    var ii = 0;\n    return new Iterator((function() {\n      return ii < $__0.size ? iteratorValue(type, ii++, $__0._value) : iteratorDone();\n    }));\n  },\n  equals: function(other) {\n    return other instanceof $Repeat ? is(this._value, other._value) : deepEqual(other);\n  }\n}, {}, IndexedSeq);\nvar RepeatPrototype = Repeat.prototype;\nRepeatPrototype.last = RepeatPrototype.first;\nRepeatPrototype.has = RangePrototype.has;\nRepeatPrototype.take = RangePrototype.take;\nRepeatPrototype.skip = RangePrototype.skip;\nRepeatPrototype.__toJS = RangePrototype.__toJS;\nvar EMPTY_REPEAT;\nvar Immutable = {\n  Iterable: Iterable,\n  Seq: Seq,\n  Collection: Collection,\n  Map: Map,\n  OrderedMap: OrderedMap,\n  List: List,\n  Stack: Stack,\n  Set: Set,\n  OrderedSet: OrderedSet,\n  Record: Record,\n  Range: Range,\n  Repeat: Repeat,\n  is: is,\n  fromJS: fromJS\n};\n\n  return Immutable;\n}\ntypeof exports === 'object' ? module.exports = universalModule() :\n  typeof define === 'function' && define.amd ? define(universalModule) :\n    Immutable = universalModule();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/immutable/dist/immutable.js\n ** module id = 15\n ** module chunks = 0\n **/","var BlockType  = require('./block_type_store')\nvar Bus        = require('../bus')\nvar Constants  = require('../constants/editor_constants')\nvar Dispatcher = require('../dispatcher')\nvar Immutable  = require('immutable')\nvar Modes      = require('../constants/mode_constants')\nvar invariant  = require('react/lib/invariant')\n\nvar _editors  = Immutable.List()\nvar getDefaults = function() {\n  return {\n    mode  : Modes.EDIT_MODE,\n    types : BlockType.keys()\n  }\n}\n\nvar EditorStore = {\n\n  find:function(id) {\n    return _editors.find(function(block)  {return block.id === id;} ) || null\n  },\n\n  _create:function(params) {\n    var editor = Object.assign({}, getDefaults(), params )\n\n    invariant(Modes[editor.mode], 'Unacceptable mode for editor: ' + editor.mode)\n    invariant(EditorStore.find(editor.id) === null, 'Editors must have a unique identifier')\n\n    _editors = _editors.push(editor)\n\n    Bus.publish()\n  },\n\n  _update:function(id, params) {\n    var editor = EditorStore.find(id)\n    var index  = _editors.indexOf(editor)\n\n    invariant(index >= 0, 'Unable to find editor with an id of ' + id)\n\n    _editors = _editors.set(index, Object.assign({}, getDefaults(), editor, params ))\n\n    Bus.publish()\n  },\n\n  dispatchToken: Dispatcher.register(function(action) {\n    switch (action.type) {\n      case Constants.EDITOR_CREATE:\n        EditorStore._create(action.params)\n        break\n      case Constants.EDITOR_UPDATE:\n        EditorStore._update(action.id, action.params)\n        break\n      default:\n        // do nothing\n    }\n  })\n\n}\n\nmodule.exports = EditorStore\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/stores/editor_store.js\n ** module id = 16\n ** module chunks = 0\n **/","/* @flow */\n\nvar React = require('react')\nvar Modes = require('../constants/mode_constants')\n\nvar _types = {}\n\n_types[Modes.EDIT_MODE]    = require('../components/editor')\n_types[Modes.PREVIEW_MODE] = require('../components/previewer')\n\nvar ContentSection = React.createClass({displayName: 'ContentSection',\n\n  propTypes: {\n    editor             : React.PropTypes.any.isRequired,\n    initialBlockListId : React.PropTypes.number.isRequired\n  },\n\n  render:function()      {\n    var editor      = this.props.editor\n    var ContentType = _types[editor.mode]\n\n    return (\n      React.createElement(\"div\", {className: \"col-content\"}, \n        React.createElement(ContentType, {editor: editor, initialBlockListId:  this.props.initialBlockListId})\n      )\n    )\n  }\n\n})\n\nmodule.exports = ContentSection\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/components/content_section.js\n ** module id = 17\n ** module chunks = 0\n **/","/* @flow */\n\nvar React  = require('react')\nvar Button = require('./ui/button');\nvar Modes  = require('../constants/mode_constants')\n\nvar ModeSelection = React.createClass({displayName: 'ModeSelection',\n\n  propType: {\n    mode     : React.PropTypes.oneOf(Object.keys(Modes)),\n    modes    : React.PropTypes.object,\n    onChange : React.PropTypes.func.isRequired\n  },\n\n  getDefaultProps:function()         {\n    return {\n      mode: Modes.EDIT_MODE,\n      modes: {\n        'Edit'    : Modes.EDIT_MODE,\n        'Preview' : Modes.PREVIEW_MODE\n      }\n    }\n  },\n\n  getTab:function(key       )      {\n    var $__0=      this.props,mode=$__0.mode,modes=$__0.modes,setMode=$__0.setMode\n\n    var props = {\n      className : \"col-tabs-btn\",\n      disabled  : mode === modes[key],\n      onClick   : function(e)  {return this._onModeClick(e, modes[key]);}.bind(this)\n    }\n\n    return (\n      React.createElement(\"li\", {key: key, className: \"col-tabs-list-item\", role: \"tab\"}, \n        React.createElement(Button, React.__spread({},   props ), key )\n      )\n    )\n  },\n\n  getTabs:function()      {\n    return Object.keys(this.props.modes).map(this.getTab);\n  },\n\n  render:function()      {\n    return (\n      React.createElement(\"nav\", {role: \"navigation\", className: \"col-tabs\"}, \n        React.createElement(\"ul\", {className: \"col-tabs-list\", role: \"tablist\"}, \n           this.getTabs() \n        )\n      )\n    )\n  },\n\n  _onModeClick:function(e       , mode        )       {\n    e.preventDefault()\n\n    this.props.onChange(mode)\n  }\n\n})\n\nmodule.exports = ModeSelection\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/components/mode_selection.js\n ** module id = 18\n ** module chunks = 0\n **/","/* @flow */\n\nvar Bus        = require('../bus')\nvar Block      = require('../models/block')\nvar Constants  = require('../constants/block_constants')\nvar Dispatcher = require('../dispatcher')\nvar Immutable  = require('immutable')\n\nvar _blocks = Immutable.List()\n\nvar BlockStore = {\n\n  all:function()               {\n    return _blocks\n  },\n\n  last:function() {\n    return _blocks.last()\n  },\n\n  find:function(id        )        {\n    return _blocks.find(function(block)  {return block.id === id;} )\n  },\n\n  _create:function($__0    )        {var content=$__0.content,type=$__0.type,parentBlockListId=$__0.parentBlockListId;\n    var block = new Block({ content:content, type:type, parentBlockListId:parentBlockListId })\n\n    _blocks = _blocks.push(block)\n\n    Bus.publish()\n\n    return block\n  },\n\n  _destroy:function(id        ) {\n    _blocks = _blocks.filter(function(b)  {return b.id !== id;})\n    Bus.publish()\n  },\n\n  _update:function(blockId        , content         ) {\n    var block = BlockStore.find(blockId)\n\n    if (block) {\n      block.content = Object.assign({}, block.content, content )\n      Bus.publish()\n    }\n  },\n\n  dispatchToken: Dispatcher.register(function(action) {\n    switch (action.type) {\n      case Constants.BLOCK_CREATE:\n        var block = BlockStore._create(action.params)\n        action.block = block\n        break\n      case Constants.BLOCK_DESTROY:\n        BlockStore._destroy(action.blockId)\n        break\n      case Constants.BLOCK_UPDATE:\n        BlockStore._update(action.blockId, action.content)\n        break\n      default:\n        // do nothing\n    }\n  })\n\n}\n\nmodule.exports = BlockStore\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/stores/block_store.js\n ** module id = 19\n ** module chunks = 0\n **/","/* @flow */\n\nvar Constants  = require('../constants/block_type_constants')\nvar Dispatcher = require('../dispatcher')\n\nvar BlockTypeActions = {\n\n  create:function(params         )        {\n    var type        = Constants.BLOCK_TYPE_CREATE\n\n    Dispatcher.dispatch({ type:type, params:params })\n  }\n\n}\n\nmodule.exports = BlockTypeActions\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/actions/block_type_actions.js\n ** module id = 20\n ** module chunks = 0\n **/","/**\n * Listens to the Bus and calls a provided `getState` function when\n * the Bus publishes.\n *\n * @flow\n */\n\nvar Bus       = require('../bus');\nvar invariant = require('react/lib/invariant');\n\nvar Monitor = {\n\n  getInitialState:function()         {\n    if (__DEV__) {\n      invariant(this.getState, \"Monitor mixin requires `getState` implementation.\");\n    }\n\n    return this.getState();\n  },\n\n  updateState:function()       {\n    this.setState(this.getState());\n  },\n\n  componentDidMount:function()       {\n    Bus.subscribe(this.updateState);\n  },\n\n  componentWillUnmount:function()       {\n    Bus.unsubscribe(this.updateState);\n  },\n\n  componentWillReceiveProps:function()       {\n    this.updateState();\n  }\n\n};\n\nmodule.exports = Monitor;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/mixins/monitor.js\n ** module id = 21\n ** module chunks = 0\n **/","/* Begin: Common Block Type Interface\n *\n * Each block type component must include the BlockType mixin and implement:\n * - defaultContent()\n * - renderEditor()\n * - renderPreviewer()\n *\n * Block content is managed via calls to setContent(), which updates both\n * this component's state as well as the block instance's content.\n *\n * @flow\n */\n\nvar React     = require('react')\nvar Modes     = require('../constants/mode_constants')\nvar invariant = require('react/lib/invariant')\n\nvar BlockType = {\n\n  getInitialState:function()         {\n    if (__DEV__) {\n      invariant(this.defaultContent, \"BlockType mixin requires `defaultContent` implementation.\");\n    }\n\n    return {\n      content: this.props.initialContent || this.defaultContent()\n    }\n  },\n\n  setContent:function(content       )       {\n    this.setState({ content: Object.assign({}, this.state.content, content ) }, function() {\n      this.props.updateContent(this.state.content)\n    })\n  },\n\n  editMode:function()          {\n    return this.props.mode === Modes.EDIT_MODE\n  },\n\n  render:function()               {\n    if (__DEV__) {\n      invariant(this.renderEditor, \"BlockType mixin requires `renderEditor` implementation.\");\n      invariant(this.renderPreviewer, \"BlockType mixin requires `renderPreviewer` implementation.\");\n    }\n\n    return this.editMode() ? this.renderEditor() : this.renderPreviewer()\n  }\n\n}\n\nmodule.exports = BlockType\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/mixins/block_type.js\n ** module id = 22\n ** module chunks = 0\n **/","/* @flow */\n\nvar KeyMirror = require('react/lib/keyMirror')\n\nvar BlockListConstants = KeyMirror({\n  BLOCK_LIST_CREATE : null,\n  BLOCK_LIST_MOVE   : null\n})\n\nmodule.exports = BlockListConstants\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/constants/block_list_constants.js\n ** module id = 23\n ** module chunks = 0\n **/","/* @flow */\n\nvar KeyMirror = require('react/lib/keyMirror')\n\nvar BlockConstants = KeyMirror({\n  BLOCK_CREATE  : null,\n  BLOCK_UPDATE  : null,\n  BLOCK_DESTROY : null\n})\n\nmodule.exports = BlockConstants\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/constants/block_constants.js\n ** module id = 24\n ** module chunks = 0\n **/","/**\n * Dispatcher is used to broadcast payloads to registered callbacks.\n *\n * This is different from generic pub-sub systems in two ways:\n *\n * - Callbacks are not subscribed to particular events. Every payload is dispatched to every registered callback.\n * - Callbacks can be deferred in whole or part until other callbacks have been executed.\n *\n * See http://facebook.github.io/flux/docs/dispatcher.html\n */\n\nvar Dispatcher = require('flux').Dispatcher\n\nmodule.exports = new Dispatcher()\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/dispatcher/index.js\n ** module id = 25\n ** module chunks = 0\n **/","/* @flow */\nvar uid  = require('../utils/uid')\n\n\n                  \n                   \n             \n                         \n\n  function BlockList(params)                                        {\"use strict\";\n    this.editorId = params.editorId\n    this.blockId = params.blockId\n    this.id      = uid()\n    this.$BlockList_blocks = []\n  }\n\n  BlockList.prototype.all=function()        {\"use strict\";\n    return this.$BlockList_blocks\n  };\n\n  BlockList.prototype.has=function(id) {\"use strict\";\n    return this.indexOf(id) > -1\n  };\n\n  BlockList.prototype.indexOf=function(id) {\"use strict\";\n    return this.$BlockList_blocks.indexOf(id)\n  };\n\n  BlockList.prototype.removeBlock=function(blockId)              {\"use strict\";\n    this.$BlockList_blocks = this.$BlockList_blocks.filter(function(id)  {return id !== blockId;})\n  };\n\n  BlockList.prototype.insertBlock=function(blockId       , position)              {\"use strict\";\n    this.$BlockList_blocks.splice(position, 0, blockId)\n  };\n\n  BlockList.prototype.move=function(fromId       , toId)              {\"use strict\";\n    var from = this.indexOf(fromId)\n    var to   = this.indexOf(toId)\n\n    this.$BlockList_blocks.splice(to, 0, this.$BlockList_blocks.splice(from, 1)[0]);\n  };\n\n  BlockList.prototype.toJSON=function()         {\"use strict\";\n    // Note: This is to get around circular dependency issues\n    var Block = require('../stores/block_store')\n\n    return this.all().map(Block.find).filter(Boolean).map(function(b)  {return b.toJSON();})\n  };\n\n\n\nmodule.exports = BlockList\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/models/block_list.js\n ** module id = 26\n ** module chunks = 0\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/style/colonel.scss\n ** module id = 27\n ** module chunks = 0\n **/","/**\n * This component adds a medium.com-like rich text editor block type.\n *\n * Source for this component can be found here:\n * https://github.com/daviferreira/medium-editor\n */\n\nvar Editor    = require('./editor')\nvar Previewer = require('./previewer')\nvar React     = require('react')\n\nrequire('./style')\n\nvar Medium = {\n\n  defaultContent:function() {\n    return { html: '', text: '' }\n  },\n\n  renderEditor:function() {\n    return React.createElement(Editor, React.__spread({onBlur:  this.setContent},   this.state.content ))\n  },\n\n  renderPreviewer:function() {\n    return React.createElement(Previewer, React.__spread({},   this.state.content ))\n  }\n\n}\n\nmodule.exports = Medium\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/medium/index.js\n ** module id = 29\n ** module chunks = 0\n **/","/**\n * Image Colonel Kurtz Addon\n * This component adds a basic image block type, including a\n * src, caption, and credit\n */\n\nvar Editor    = require('./editor')\nvar Previewer = require('./previewer')\nvar React     = require('react')\n\nrequire('./style')\n\nvar Image = {\n\n  defaultContent:function() {\n    return { src: '', caption: '', attribution: '' }\n  },\n\n  renderEditor:function() {\n    return React.createElement(Editor, React.__spread({onChange:  this.setContent},   this.state.content ))\n  },\n\n  renderPreviewer:function() {\n    return React.createElement(Previewer, React.__spread({},   this.state.content ))\n  }\n\n}\n\nmodule.exports = Image\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/image/index.js\n ** module id = 30\n ** module chunks = 0\n **/","/**\n * Image Colonel Kurtz Addon\n * This component adds a basic image block type, including a\n * src, caption, and credit\n */\n\nvar Editor    = require('./editor')\nvar Previewer = require('./previewer')\nvar React     = require('react')\n\nrequire('./style')\n\nvar YouTube = {\n\n  defaultContent:function() {\n    return { video_id: '' }\n  },\n\n  renderEditor:function() {\n    return React.createElement(Editor, React.__spread({onChange:  this.setContent},   this.state.content ))\n  },\n\n  renderPreviewer:function() {\n    return React.createElement(Previewer, React.__spread({},   this.state.content ))\n  }\n\n}\n\nmodule.exports = YouTube\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/youtube/index.js\n ** module id = 31\n ** module chunks = 0\n **/","var KeyMirror = require('react/lib/keyMirror')\n\nmodule.exports = KeyMirror({\n  EDITOR_CREATE : null,\n  EDITOR_UPDATE : null\n})\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/constants/editor_constants.js\n ** module id = 32\n ** module chunks = 0\n **/","/* @flow */\n\nvar Constants  = require('../constants/block_type_constants')\nvar Dispatcher = require('../dispatcher')\nvar Immutable  = require('immutable')\nvar React      = require('react')\nvar invariant  = require('react/lib/invariant')\n\nvar _blockTypes = Immutable.List()\nvar _defaults   = {\n  icon  : null,\n  types : null\n}\n\nvar BlockTypeStore = {\n\n  keys:function()                {\n    return _blockTypes.toArray().map(function(b)  {return b.id;})\n  },\n\n  find:function (id       )          {\n    return _blockTypes.find(function(b)  {return b.id === id;}) || null\n  },\n\n  _create:function (params        )       {\n    var record = Object.assign({}, _defaults, params )\n\n    invariant(record.id, 'BlockType must have an identifier')\n\n    _blockTypes = _blockTypes.push(record)\n  },\n\n  dispatchToken: Dispatcher.register(function(action        ) {\n    switch (action.type) {\n      case Constants.BLOCK_TYPE_CREATE:\n        BlockTypeStore._create(action.params)\n        break\n      default:\n        // do nothing\n    }\n  })\n\n}\n\nmodule.exports = BlockTypeStore\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/stores/block_type_store.js\n ** module id = 34\n ** module chunks = 0\n **/","/* @flow */\n\nvar KeyMirror = require('react/lib/keyMirror')\n\nmodule.exports = KeyMirror({\n  EDIT_MODE    : null,\n  PREVIEW_MODE : null\n})\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/constants/mode_constants.js\n ** module id = 35\n ** module chunks = 0\n **/","/* @flow */\n\nvar React           = require('react')\nvar EditorBlockList = require('./editor_block_list')\n\nvar Editor = React.createClass({displayName: 'Editor',\n\n  render:function()      {\n    var $__0=     this.props,editor=$__0.editor,initialBlockListId=$__0.initialBlockListId\n\n    return (\n      React.createElement(EditorBlockList, {editor: editor, initialBlockListId: initialBlockListId })\n    )\n  }\n\n})\n\nmodule.exports = Editor\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/components/editor.js\n ** module id = 36\n ** module chunks = 0\n **/","/* @flow */\n\nvar React              = require('react')\nvar PreviewerBlockList = require('./previewer_block_list')\n\nvar Previewer = React.createClass({displayName: 'Previewer',\n\n  render:function()      {\n    return(\n      React.createElement(PreviewerBlockList, {initialBlockListId:  this.props.initialBlockListId})\n    )\n  }\n\n})\n\nmodule.exports = Previewer\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/components/previewer.js\n ** module id = 37\n ** module chunks = 0\n **/","/* @flow */\nvar uid       = require('../utils/uid')\nvar BlockList = require('../stores/block_list_store')\n\n\n                   \n             \n                            \n               \n\n  function Block(params)                                                               {\"use strict\";\n    this.content = params.content || null\n    this.id = uid()\n    this.parentBlockListId = params.parentBlockListId\n    this.type = params.type || 'text'\n  }\n\n  Block.prototype.toJSON=function()         {\"use strict\";\n    // Note: This is to get around circular dependency issues\n    var BlockList = require('../stores/block_list_store')\n\n    var blockList = BlockList.findByBlockId(this.id)\n\n    return {\n      blocks  : blockList ? blockList.toJSON() : [],\n      content : this.content,\n      type    : this.type\n    }\n  };\n\n\nmodule.exports = Block\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/models/block.js\n ** module id = 38\n ** module chunks = 0\n **/","/* @flow */\n\nvar KeyMirror = require('react/lib/keyMirror')\n\nvar BlockTypeConstants = KeyMirror({\n  BLOCK_TYPE_CREATE : null\n})\n\nmodule.exports = BlockTypeConstants\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/constants/block_type_constants.js\n ** module id = 39\n ** module chunks = 0\n **/","var React = require('react');\n\nvar Button = React.createClass({displayName: 'Button',\n\n  getDefaultProps:function() {\n    return {\n      tagName  : 'button'\n    }\n  },\n\n  render:function() {\n    var $__0=      this.props,children=$__0.children,tagName=$__0.tagName,attrs=(function(source, exclusion) {var rest = {};var hasOwn = Object.prototype.hasOwnProperty;if (source == null) {throw new TypeError();}for (var key in source) {if (hasOwn.call(source, key) && !hasOwn.call(exclusion, key)) {rest[key] = source[key];}}return rest;})($__0,{children:1,tagName:1});\n\n    return (\n      React.createElement(tagName, attrs, [\n        children\n      ])\n    );\n  }\n});\n\nmodule.exports = Button;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/components/ui/button.js\n ** module id = 40\n ** module chunks = 0\n **/","/**\n * Copyright 2013-2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule invariant\n */\n\n\"use strict\";\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (\"production\" !== \"development\") {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        'Invariant Violation: ' +\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react/lib/invariant.js\n ** module id = 41\n ** module chunks = 0\n **/","/**\n * Copyright 2013-2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule keyMirror\n * @typechecks static-only\n */\n\n\"use strict\";\n\nvar invariant = require(\"./invariant\");\n\n/**\n * Constructs an enumeration with keys equal to their value.\n *\n * For example:\n *\n *   var COLORS = keyMirror({blue: null, red: null});\n *   var myColor = COLORS.blue;\n *   var isColorValid = !!COLORS[myColor];\n *\n * The last line could not be performed if the values of the generated enum were\n * not equal to their keys.\n *\n *   Input:  {key1: val1, key2: val2}\n *   Output: {key1: key1, key2: key2}\n *\n * @param {object} obj\n * @return {object}\n */\nvar keyMirror = function(obj) {\n  var ret = {};\n  var key;\n  (\"production\" !== \"development\" ? invariant(\n    obj instanceof Object && !Array.isArray(obj),\n    'keyMirror(...): Argument must be an object.'\n  ) : invariant(obj instanceof Object && !Array.isArray(obj)));\n  for (key in obj) {\n    if (!obj.hasOwnProperty(key)) {\n      continue;\n    }\n    ret[key] = key;\n  }\n  return ret;\n};\n\nmodule.exports = keyMirror;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react/lib/keyMirror.js\n ** module id = 42\n ** module chunks = 0\n **/","var MediumEditor = require('./vendor/medium-editor')\nvar React        = require('react')\nvar Types        = React.PropTypes\n\nvar Editor = React.createClass({displayName: 'Editor',\n\n  propTypes: {\n    html   : Types.string.isRequired,\n    onBlur : Types.func.isRequired\n  },\n\n  getDefaultProps:function() {\n    return {\n      options: {\n        buttons: [ 'header1', 'header2', 'bold', 'italic', 'underline', 'anchor', 'quote',  'unorderedlist', 'orderedlist' ],\n        firstHeader: 'h1',\n        secondHeader: 'h2',\n        diffLeft: 0,\n        diffTop: -10,\n        disableDoubleReturn: true\n      }\n    }\n  },\n\n  shouldComponentUpdate:function(props        , state        ){\n    return false\n  },\n\n  componentDidMount:function() {\n    this.setState({\n      editor: new MediumEditor(this.refs.editor.getDOMNode(), this.props.options)\n    })\n  },\n\n  componentWillUnmount:function() {\n    this.state.editor.deactivate()\n  },\n\n  render:function() {\n    return (\n      React.createElement(\"div\", {className: \"col-block-content\"}, \n        React.createElement(\"div\", {className: \"col-medium\", onBlur:  this._onBlur, role: \"textarea\", 'aria-multiline': \"true\", ref: \"editor\", dangerouslySetInnerHTML: { __html: this.props.html}})\n      )\n    )\n  },\n\n  _onBlur:function() {\n    var editor = this.refs.editor.getDOMNode()\n\n    this.props.onBlur({\n      text: editor.textContent,\n      html: editor.innerHTML\n    })\n  }\n\n})\n\nmodule.exports = Editor\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/medium/editor.js\n ** module id = 43\n ** module chunks = 0\n **/","var React = require('react')\n\nvar Previewer = React.createClass({displayName: 'Previewer',\n\n  render:function() {\n    return (\n      React.createElement(\"div\", {className: \"col-block-content\"}, \n        React.createElement(\"div\", {className: \"col-medium-preview\", dangerouslySetInnerHTML: { __html: this.props.html}})\n      )\n    )\n  }\n\n})\n\nmodule.exports = Previewer\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/medium/previewer.js\n ** module id = 44\n ** module chunks = 0\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/medium/style.scss\n ** module id = 45\n ** module chunks = 0\n **/","var Field   = require('../common/field')\nvar Graphic = require('./graphic')\nvar React   = require('react')\nvar Types   = React.PropTypes\n\nvar Editor = React.createClass({displayName: 'Editor',\n\n  propTypes: {\n    src         : Types.string,\n    caption     : Types.string,\n    attribution : Types.string,\n    onChange    : Types.func.isRequired\n  },\n\n  render:function() {\n    var $__0=      this.props,src=$__0.src,caption=$__0.caption,attribution=$__0.attribution\n\n    return (\n      React.createElement(\"div\", {className: \"col-img\"}, \n        React.createElement(Graphic, React.__spread({},   this.props )), \n\n        React.createElement(\"fieldset\", {className: \"col-img-fieldset\"}, \n          React.createElement(Field, {label: \"Image Source\", type: \"url\", value: src, name: \"image_src\", onChange:  this._onSrcChange}), \n          React.createElement(Field, {label: \"Caption\", type: \"text\", value: caption, name: \"image_caption\", onChange:  this._onCaptionChange}), \n          React.createElement(Field, {label: \"Attribution\", type: \"text\", value: attribution, name: \"image_attribution\", onChange:  this._onAttributionChange})\n        )\n      )\n    )\n  },\n\n  _onSrcChange:function(e) {\n    this.props.onChange({ src: e.currentTarget.value })\n  },\n\n  _onCaptionChange:function(e) {\n    this.props.onChange({ caption: e.currentTarget.value })\n  },\n\n  _onAttributionChange:function(e) {\n    this.props.onChange({ attribution: e.currentTarget.value })\n  }\n\n})\n\nmodule.exports = Editor\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/image/editor.js\n ** module id = 47\n ** module chunks = 0\n **/","var React   = require('react')\nvar Graphic = require('./graphic')\n\nvar Previewer = React.createClass({displayName: 'Previewer',\n\n  render:function() {\n    return React.createElement(Graphic, React.__spread({},  this.props ))\n  }\n\n})\n\nmodule.exports = Previewer\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/image/previewer.js\n ** module id = 48\n ** module chunks = 0\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/image/style.scss\n ** module id = 49\n ** module chunks = 0\n **/","var Field   = require('../common/field')\nvar Player  = require('./player')\nvar React   = require('react')\nvar Types   = React.PropTypes\n\nvar Editor = React.createClass({displayName: 'Editor',\n\n  propTypes: {\n    src      : Types.string,\n    onChange : Types.func.isRequired\n  },\n\n  render:function() {\n    var $__0=    this.props,video_id=$__0.video_id\n\n    return (\n      React.createElement(\"div\", {className: \"col-youtube\"}, \n        React.createElement(Player, {video_id: video_id }), \n\n        React.createElement(\"fieldset\", {className: \"col-youtube-fieldset\"}, \n          React.createElement(Field, {label: \"YouTube Video ID\", value: video_id, name: \"youtube_video_id\", onChange:  this._onChange})\n        )\n      )\n    )\n  },\n\n  _onChange:function(e) {\n    this.props.onChange({ video_id: e.currentTarget.value })\n  }\n\n})\n\nmodule.exports = Editor\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/youtube/editor.js\n ** module id = 51\n ** module chunks = 0\n **/","var React  = require('react')\nvar Player = require('./player')\n\nvar Previewer = React.createClass({displayName: 'Previewer',\n\n  render:function() {\n    return (\n      React.createElement(\"div\", {className: \"col-youtube\"}, \n        React.createElement(Player, {src:  this.props.src})\n      )\n    )\n  }\n\n})\n\nmodule.exports = Previewer\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/youtube/previewer.js\n ** module id = 52\n ** module chunks = 0\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/youtube/style.scss\n ** module id = 53\n ** module chunks = 0\n **/","/* @flow */\n\nvar BlockMenu    = require('./block_menu')\nvar EditorBlock  = require('./editor_block')\nvar HasBlockList = require('../mixins/has_block_list')\nvar React        = require('react/addons')\nvar Animation    = React.addons.CSSTransitionGroup;\n\nvar EditorBlockList = React.createClass({displayName: 'EditorBlockList',\n\n  mixins: [ HasBlockList ],\n\n  getBlockMenu:function(position) {\n    var $__0=     this.props,block=$__0.block,editor=$__0.editor\n\n    return (\n      React.createElement(BlockMenu, {key: \"block_menu\", block: block, editor: editor, parentBlockListId:  this.blockListId(), position: position })\n    )\n  },\n\n  getBlock:function(blockId, i) {\n    return (\n      React.createElement(\"div\", {key: blockId }, \n        React.createElement(EditorBlock, {initialBlockId: blockId, editor:  this.props.editor}), \n         this.getBlockMenu(i + 1) \n      )\n    )\n  },\n\n  render:function()      {\n    var blockIds = this.state.blockIds\n\n    return (\n      React.createElement(Animation, {component: \"div\", className: \"col-blocks\", transitionName: \"col-block\"}, \n         this.getBlockMenu(0), \n         blockIds.map(this.getBlock) \n      )\n    )\n  }\n\n})\n\nmodule.exports = EditorBlockList\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/components/editor_block_list.js\n ** module id = 56\n ** module chunks = 0\n **/","/* @flow */\n\nvar HasBlockList   = require('../mixins/has_block_list')\nvar PreviewerBlock = require('./previewer_block')\nvar React          = require('react')\n\nvar PreviewerBlockList = React.createClass({displayName: 'PreviewerBlockList',\n\n  mixins: [ HasBlockList ],\n\n  blockComponents:function()                      {\n    return this.state.blockIds.map(function(blockId) {\n      return React.createElement(PreviewerBlock, {key: blockId, initialBlockId: blockId })\n    })\n  },\n\n  render:function()      {\n    return (\n      React.createElement(\"div\", {className: \"col-blocks\"}, \n         this.blockComponents() \n      )\n    )\n  }\n\n})\n\nmodule.exports = PreviewerBlockList\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/components/previewer_block_list.js\n ** module id = 57\n ** module chunks = 0\n **/","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nmodule.exports.Dispatcher = require('./lib/Dispatcher')\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/flux/index.js\n ** module id = 58\n ** module chunks = 0\n **/","var React = require('react')\nvar Types = React.PropTypes\n\nvar Graphic = React.createClass({displayName: 'Graphic',\n\n  getCaption:function() {\n    var caption = this.props.caption\n\n    return caption ? (\n      React.createElement(\"figcaption\", {className: \"col-img-caption\"}, caption )\n    ) : null\n  },\n\n  render:function() {\n    var $__0=     this.props,src=$__0.src,credit=$__0.credit\n\n    return src ? (\n      React.createElement(\"figure\", {className: \"col-img-figure\"}, \n        React.createElement(\"img\", {className: \"col-img-graphic\", src: src, alt: \"\"}), \n         this.getCaption() \n      )\n    ) : null\n  }\n\n})\n\nmodule.exports = Graphic\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/image/graphic.js\n ** module id = 59\n ** module chunks = 0\n **/","var React = require('react')\n\nvar _baseUrl = \"https://www.youtube.com/embed/\"\n\nvar Player = React.createClass({displayName: 'Player',\n\n  render:function() {\n    var $__0=    this.props,video_id=$__0.video_id\n\n    return video_id ? (\n      React.createElement(\"div\", {className: \"col-youtube-player\"}, \n        React.createElement(\"iframe\", {className: \"col-youtube-frame\", src:  _baseUrl + video_id, frameBorder: \"0\", allowFullScreen: true})\n      )\n    ) : null\n  },\n\n})\n\nmodule.exports = Player\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/youtube/player.js\n ** module id = 60\n ** module chunks = 0\n **/","/*global module, console, define*/\n\nfunction MediumEditor(elements, options) {\n    'use strict';\n    return this.init(elements, options);\n}\n\nif (typeof module === 'object') {\n    module.exports = MediumEditor;\n}\n// AMD support\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {\n        'use strict';\n        return MediumEditor;\n    });\n}\n\n(function (window, document) {\n    'use strict';\n\n    function extend(b, a) {\n        var prop;\n        if (b === undefined) {\n            return a;\n        }\n        for (prop in a) {\n            if (a.hasOwnProperty(prop) && b.hasOwnProperty(prop) === false) {\n                b[prop] = a[prop];\n            }\n        }\n        return b;\n    }\n\n    function isDescendant(parent, child) {\n         var node = child.parentNode;\n         while (node !== null) {\n             if (node === parent) {\n                 return true;\n             }\n             node = node.parentNode;\n         }\n         return false;\n    }\n\n    // http://stackoverflow.com/questions/5605401/insert-link-in-contenteditable-element\n    // by Tim Down\n    function saveSelection() {\n        var i,\n            len,\n            ranges,\n            sel = this.options.contentWindow.getSelection();\n        if (sel.getRangeAt && sel.rangeCount) {\n            ranges = [];\n            for (i = 0, len = sel.rangeCount; i < len; i += 1) {\n                ranges.push(sel.getRangeAt(i));\n            }\n            return ranges;\n        }\n        return null;\n    }\n\n    function restoreSelection(savedSel) {\n        var i,\n            len,\n            sel = this.options.contentWindow.getSelection();\n        if (savedSel) {\n            sel.removeAllRanges();\n            for (i = 0, len = savedSel.length; i < len; i += 1) {\n                sel.addRange(savedSel[i]);\n            }\n        }\n    }\n\n    // http://stackoverflow.com/questions/1197401/how-can-i-get-the-element-the-caret-is-in-with-javascript-when-using-contentedi\n    // by You\n    function getSelectionStart() {\n        var node = this.options.ownerDocument.getSelection().anchorNode,\n            startNode = (node && node.nodeType === 3 ? node.parentNode : node);\n        return startNode;\n    }\n\n    // http://stackoverflow.com/questions/4176923/html-of-selected-text\n    // by Tim Down\n    function getSelectionHtml() {\n        var i,\n            html = '',\n            sel,\n            len,\n            container;\n        if (this.options.contentWindow.getSelection !== undefined) {\n            sel = this.options.contentWindow.getSelection();\n            if (sel.rangeCount) {\n                container = this.options.ownerDocument.createElement('div');\n                for (i = 0, len = sel.rangeCount; i < len; i += 1) {\n                    container.appendChild(sel.getRangeAt(i).cloneContents());\n                }\n                html = container.innerHTML;\n            }\n        } else if (this.options.ownerDocument.selection !== undefined) {\n            if (this.options.ownerDocument.selection.type === 'Text') {\n                html = this.options.ownerDocument.selection.createRange().htmlText;\n            }\n        }\n        return html;\n    }\n\n    // https://github.com/jashkenas/underscore\n    function isElement(obj) {\n        return !!(obj && obj.nodeType === 1);\n    }\n\n    MediumEditor.prototype = {\n        defaults: {\n            allowMultiParagraphSelection: true,\n            anchorInputPlaceholder: 'Paste or type a link',\n            anchorPreviewHideDelay: 500,\n            buttons: ['bold', 'italic', 'underline', 'anchor', 'header1', 'header2', 'quote'],\n            buttonLabels: false,\n            checkLinkFormat: false,\n            cleanPastedHTML: false,\n            delay: 0,\n            diffLeft: 0,\n            diffTop: -10,\n            disableReturn: false,\n            disableDoubleReturn: false,\n            disableToolbar: false,\n            disableEditing: false,\n            elementsContainer: false,\n            contentWindow: window,\n            ownerDocument: document,\n            firstHeader: 'h3',\n            forcePlainText: true,\n            placeholder: 'Type your text',\n            secondHeader: 'h4',\n            targetBlank: false,\n            anchorTarget: false,\n            anchorButton: false,\n            anchorButtonClass: 'btn',\n            extensions: {},\n            activeButtonClass: 'medium-editor-button-active',\n            firstButtonClass: 'medium-editor-button-first',\n            lastButtonClass: 'medium-editor-button-last'\n        },\n\n        // http://stackoverflow.com/questions/17907445/how-to-detect-ie11#comment30165888_17907562\n        // by rg89\n        isIE: ((navigator.appName === 'Microsoft Internet Explorer') || ((navigator.appName === 'Netscape') && (new RegExp('Trident/.*rv:([0-9]{1,}[.0-9]{0,})').exec(navigator.userAgent) !== null))),\n\n        init: function (elements, options) {\n            this.options = extend(options, this.defaults);\n            this.setElementSelection(elements);\n            if (this.elements.length === 0) {\n                return;\n            }\n            this.parentElements = ['p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'blockquote', 'pre'];\n            if (!this.options.elementsContainer) {\n                this.options.elementsContainer = document.body;\n            }\n            this.id = this.options.elementsContainer.querySelectorAll('.medium-editor-toolbar').length + 1;\n            return this.setup();\n        },\n\n        setup: function () {\n            this.events = [];\n            this.isActive = true;\n            this.initElements()\n                .bindSelect()\n                .bindPaste()\n                .setPlaceholders()\n                .bindWindowActions()\n                .passInstance();\n        },\n\n        on: function(target, event, listener, useCapture) {\n            target.addEventListener(event, listener, useCapture);\n            this.events.push([target, event, listener, useCapture]);\n        },\n\n        off: function(target, event, listener, useCapture) {\n            var index = this.events.indexOf([target, event, listener, useCapture]),\n                e;\n            if(index !== -1) {\n                e = this.events.splice(index, 1);\n                e[0].removeEventListener(e[1], e[2], e[3]);\n            }\n        },\n\n        removeAllEvents: function() {\n            var e = this.events.pop();\n            while(e) {\n                e[0].removeEventListener(e[1], e[2], e[3]);\n                e = this.events.pop();\n            }\n        },\n\n        initElements: function () {\n            this.updateElementList();\n            var i,\n                addToolbar = false;\n            for (i = 0; i < this.elements.length; i += 1) {\n                if (!this.options.disableEditing && !this.elements[i].getAttribute('data-disable-editing')) {\n                    this.elements[i].setAttribute('contentEditable', true);\n                }\n                if (!this.elements[i].getAttribute('data-placeholder')) {\n                    this.elements[i].setAttribute('data-placeholder', this.options.placeholder);\n                }\n                this.elements[i].setAttribute('data-medium-element', true);\n                this.bindParagraphCreation(i).bindReturn(i).bindTab(i);\n                if (!this.options.disableToolbar && !this.elements[i].getAttribute('data-disable-toolbar')) {\n                    addToolbar = true;\n                }\n            }\n            // Init toolbar\n            if (addToolbar) {\n                this.initToolbar()\n                    .bindButtons()\n                    .bindAnchorForm()\n                    .bindAnchorPreview();\n            }\n            return this;\n        },\n\n        setElementSelection: function (selector) {\n            this.elementSelection = selector;\n            this.updateElementList();\n        },\n\n        updateElementList: function () {\n            this.elements = typeof this.elementSelection === 'string' ? this.options.ownerDocument.querySelectorAll(this.elementSelection) : this.elementSelection;\n            if (this.elements.nodeType === 1) {\n                this.elements = [this.elements];\n            }\n        },\n\n        serialize: function () {\n            var i,\n                elementid,\n                content = {};\n            for (i = 0; i < this.elements.length; i += 1) {\n                elementid = (this.elements[i].id !== '') ? this.elements[i].id : 'element-' + i;\n                content[elementid] = {\n                    value: this.elements[i].innerHTML.trim()\n                };\n            }\n            return content;\n        },\n\n        /**\n         * Helper function to call a method with a number of parameters on all registered extensions.\n         * The function assures that the function exists before calling.\n         *\n         * @param {string} funcName name of the function to call\n         * @param [args] arguments passed into funcName\n         */\n        callExtensions: function (funcName) {\n            if (arguments.length < 1) {\n                return;\n            }\n\n            var args = Array.prototype.slice.call(arguments, 1),\n                ext,\n                name;\n\n            for (name in this.options.extensions) {\n                if (this.options.extensions.hasOwnProperty(name)) {\n                    ext = this.options.extensions[name];\n                    if (ext[funcName] !== undefined) {\n                        ext[funcName].apply(ext, args);\n                    }\n                }\n            }\n        },\n\n        /**\n         * Pass current Medium Editor instance to all extensions\n         * if extension constructor has 'parent' attribute set to 'true'\n         *\n         */\n        passInstance: function () {\n            var self = this,\n                ext,\n                name;\n\n            for (name in self.options.extensions) {\n                if (self.options.extensions.hasOwnProperty(name)) {\n                    ext = self.options.extensions[name];\n\n                    if (ext.parent) {\n                        ext.base = self;\n                    }\n                }\n            }\n\n            return self;\n        },\n\n        bindParagraphCreation: function (index) {\n            var self = this;\n            this.on(this.elements[index], 'keypress', function (e) {\n                var node = getSelectionStart.call(self),\n                    tagName;\n                if (e.which === 32) {\n                    tagName = node.tagName.toLowerCase();\n                    if (tagName === 'a') {\n                        document.execCommand('unlink', false, null);\n                    }\n                }\n            });\n\n            this.on(this.elements[index], 'keyup', function (e) {\n                var node = getSelectionStart.call(self),\n                    tagName,\n                    editorElement;\n\n                if (node && node.getAttribute('data-medium-element') && node.children.length === 0 && !(self.options.disableReturn || node.getAttribute('data-disable-return'))) {\n                    document.execCommand('formatBlock', false, 'p');\n                }\n                if (e.which === 13) {\n                    node = getSelectionStart.call(self);\n                    tagName = node.tagName.toLowerCase();\n                    editorElement = self.getSelectionElement();\n\n                    if (!(self.options.disableReturn || editorElement.getAttribute('data-disable-return')) &&\n                        tagName !== 'li' && !self.isListItemChild(node)) {\n                        if (!e.shiftKey) {\n                            document.execCommand('formatBlock', false, 'p');\n                        }\n                        if (tagName === 'a') {\n                            document.execCommand('unlink', false, null);\n                        }\n                    }\n                }\n            });\n            return this;\n        },\n\n        isListItemChild: function (node) {\n            var parentNode = node.parentNode,\n                tagName = parentNode.tagName.toLowerCase();\n            while (this.parentElements.indexOf(tagName) === -1 && tagName !== 'div') {\n                if (tagName === 'li') {\n                    return true;\n                }\n                parentNode = parentNode.parentNode;\n                if (parentNode && parentNode.tagName) {\n                    tagName = parentNode.tagName.toLowerCase();\n                } else {\n                    return false;\n                }\n            }\n            return false;\n        },\n\n        bindReturn: function (index) {\n            var self = this;\n            this.on(this.elements[index], 'keypress', function (e) {\n                if (e.which === 13) {\n                    if (self.options.disableReturn || this.getAttribute('data-disable-return')) {\n                        e.preventDefault();\n                    } else if (self.options.disableDoubleReturn || this.getAttribute('data-disable-double-return')) {\n                        var node = getSelectionStart.call(self);\n                        if (node && node.innerText === '\\n') {\n                            e.preventDefault();\n                        }\n                    }\n                }\n            });\n            return this;\n        },\n\n        bindTab: function (index) {\n            var self = this;\n            this.on(this.elements[index], 'keydown', function (e) {\n                if (e.which === 9) {\n                    // Override tab only for pre nodes\n                    var tag = getSelectionStart.call(self).tagName.toLowerCase();\n                    if (tag === 'pre') {\n                        e.preventDefault();\n                        document.execCommand('insertHtml', null, '    ');\n                    }\n\n                    // Tab to indent list structures!\n                    if (tag === 'li') {\n                        e.preventDefault();\n\n                        // If Shift is down, outdent, otherwise indent\n                        if (e.shiftKey) {\n                            document.execCommand('outdent', e);\n                        } else {\n                            document.execCommand('indent', e);\n                        }\n                    }\n                }\n            });\n            return this;\n        },\n\n        buttonTemplate: function (btnType) {\n            var buttonLabels = this.getButtonLabels(this.options.buttonLabels),\n                buttonTemplates = {\n                    'bold': '<button class=\"medium-editor-action medium-editor-action-bold\" data-action=\"bold\" data-element=\"b\">' + buttonLabels.bold + '</button>',\n                    'italic': '<button class=\"medium-editor-action medium-editor-action-italic\" data-action=\"italic\" data-element=\"i\">' + buttonLabels.italic + '</button>',\n                    'underline': '<button class=\"medium-editor-action medium-editor-action-underline\" data-action=\"underline\" data-element=\"u\">' + buttonLabels.underline + '</button>',\n                    'strikethrough': '<button class=\"medium-editor-action medium-editor-action-strikethrough\" data-action=\"strikethrough\" data-element=\"strike\">' + buttonLabels.strikethrough +'</button>',\n                    'superscript': '<button class=\"medium-editor-action medium-editor-action-superscript\" data-action=\"superscript\" data-element=\"sup\">' + buttonLabels.superscript + '</button>',\n                    'subscript': '<button class=\"medium-editor-action medium-editor-action-subscript\" data-action=\"subscript\" data-element=\"sub\">' + buttonLabels.subscript + '</button>',\n                    'anchor': '<button class=\"medium-editor-action medium-editor-action-anchor\" data-action=\"anchor\" data-element=\"a\">' + buttonLabels.anchor + '</button>',\n                    'image': '<button class=\"medium-editor-action medium-editor-action-image\" data-action=\"image\" data-element=\"img\">' + buttonLabels.image + '</button>',\n                    'header1': '<button class=\"medium-editor-action medium-editor-action-header1\" data-action=\"append-' + this.options.firstHeader + '\" data-element=\"' + this.options.firstHeader + '\">' + buttonLabels.header1 + '</button>',\n                    'header2': '<button class=\"medium-editor-action medium-editor-action-header2\" data-action=\"append-' + this.options.secondHeader + '\" data-element=\"' + this.options.secondHeader + '\">' + buttonLabels.header2 + '</button>',\n                    'quote': '<button class=\"medium-editor-action medium-editor-action-quote\" data-action=\"append-blockquote\" data-element=\"blockquote\">' + buttonLabels.quote + '</button>',\n                    'orderedlist': '<button class=\"medium-editor-action medium-editor-action-orderedlist\" data-action=\"insertorderedlist\" data-element=\"ol\">' + buttonLabels.orderedlist + '</button>',\n                    'unorderedlist': '<button class=\"medium-editor-action medium-editor-action-unorderedlist\" data-action=\"insertunorderedlist\" data-element=\"ul\">' + buttonLabels.unorderedlist + '</button>',\n                    'pre': '<button class=\"medium-editor-action medium-editor-action-pre\" data-action=\"append-pre\" data-element=\"pre\">' + buttonLabels.pre + '</button>',\n                    'indent': '<button class=\"medium-editor-action medium-editor-action-indent\" data-action=\"indent\" data-element=\"ul\">' + buttonLabels.indent + '</button>',\n                    'outdent': '<button class=\"medium-editor-action medium-editor-action-outdent\" data-action=\"outdent\" data-element=\"ul\">' + buttonLabels.outdent + '</button>',\n                    'justifyCenter': '<button class=\"medium-editor-action medium-editor-action-justifyCenter\" data-action=\"justifyCenter\" data-element=\"\">' + buttonLabels.justifyCenter + '</button>',\n                    'justifyFull': '<button class=\"medium-editor-action medium-editor-action-justifyFull\" data-action=\"justifyFull\" data-element=\"\">' + buttonLabels.justifyFull + '</button>',\n                    'justifyLeft': '<button class=\"medium-editor-action medium-editor-action-justifyLeft\" data-action=\"justifyLeft\" data-element=\"\">' + buttonLabels.justifyLeft + '</button>',\n                    'justifyRight': '<button class=\"medium-editor-action medium-editor-action-justifyRight\" data-action=\"justifyRight\" data-element=\"\">' + buttonLabels.justifyRight + '</button>'\n                };\n            return buttonTemplates[btnType] || false;\n        },\n\n        // TODO: break method\n        getButtonLabels: function (buttonLabelType) {\n            var customButtonLabels,\n                attrname,\n                buttonLabels = {\n                    'bold': '<b>B</b>',\n                    'italic': '<b><i>I</i></b>',\n                    'underline': '<b><u>U</u></b>',\n                    'strikethrough': '<s>A</s>',\n                    'superscript': '<b>x<sup>1</sup></b>',\n                    'subscript': '<b>x<sub>1</sub></b>',\n                    'anchor': '<b>#</b>',\n                    'image': '<b>image</b>',\n                    'header1': '<b>H1</b>',\n                    'header2': '<b>H2</b>',\n                    'quote': '<b>&ldquo;</b>',\n                    'orderedlist': '<b>1.</b>',\n                    'unorderedlist': '<b>&bull;</b>',\n                    'pre': '<b>0101</b>',\n                    'indent': '<b>&rarr;</b>',\n                    'outdent': '<b>&larr;</b>',\n                    'justifyCenter': '<b>C</b>',\n                    'justifyFull': '<b>J</b>',\n                    'justifyLeft': '<b>L</b>',\n                    'justifyRight': '<b>R</b>'\n                };\n            if (buttonLabelType === 'fontawesome') {\n                customButtonLabels = {\n                    'bold': '<i class=\"fa fa-bold\"></i>',\n                    'italic': '<i class=\"fa fa-italic\"></i>',\n                    'underline': '<i class=\"fa fa-underline\"></i>',\n                    'strikethrough': '<i class=\"fa fa-strikethrough\"></i>',\n                    'superscript': '<i class=\"fa fa-superscript\"></i>',\n                    'subscript': '<i class=\"fa fa-subscript\"></i>',\n                    'anchor': '<i class=\"fa fa-link\"></i>',\n                    'image': '<i class=\"fa fa-picture-o\"></i>',\n                    'quote': '<i class=\"fa fa-quote-right\"></i>',\n                    'orderedlist': '<i class=\"fa fa-list-ol\"></i>',\n                    'unorderedlist': '<i class=\"fa fa-list-ul\"></i>',\n                    'pre': '<i class=\"fa fa-code fa-lg\"></i>',\n                    'indent': '<i class=\"fa fa-indent\"></i>',\n                    'outdent': '<i class=\"fa fa-outdent\"></i>',\n                    'justifyCenter': '<i class=\"fa fa-align-center\"></i>',\n                    'justifyFull': '<i class=\"fa fa-align-justify\"></i>',\n                    'justifyLeft': '<i class=\"fa fa-align-left\"></i>',\n                    'justifyRight': '<i class=\"fa fa-align-right\"></i>'\n                };\n            } else if (typeof buttonLabelType === 'object') {\n                customButtonLabels = buttonLabelType;\n            }\n            if (typeof customButtonLabels === 'object') {\n                for (attrname in customButtonLabels) {\n                    if (customButtonLabels.hasOwnProperty(attrname)) {\n                        buttonLabels[attrname] = customButtonLabels[attrname];\n                    }\n                }\n            }\n            return buttonLabels;\n        },\n\n        initToolbar: function () {\n            if (this.toolbar) {\n                return this;\n            }\n            this.toolbar = this.createToolbar();\n            this.keepToolbarAlive = false;\n            this.anchorForm = this.toolbar.querySelector('.medium-editor-toolbar-form-anchor');\n            this.anchorInput = this.anchorForm.querySelector('input.medium-editor-toolbar-anchor-input');\n            this.anchorTarget = this.anchorForm.querySelector('input.medium-editor-toolbar-anchor-target');\n            this.anchorButton = this.anchorForm.querySelector('input.medium-editor-toolbar-anchor-button');\n            this.toolbarActions = this.toolbar.querySelector('.medium-editor-toolbar-actions');\n            this.anchorPreview = this.createAnchorPreview();\n\n            return this;\n        },\n\n        createToolbar: function () {\n            var toolbar = document.createElement('div');\n            toolbar.id = 'medium-editor-toolbar-' + this.id;\n            toolbar.className = 'medium-editor-toolbar';\n            toolbar.appendChild(this.toolbarButtons());\n            toolbar.appendChild(this.toolbarFormAnchor());\n            this.options.elementsContainer.appendChild(toolbar);\n            return toolbar;\n        },\n\n        //TODO: actionTemplate\n        toolbarButtons: function () {\n            var btns = this.options.buttons,\n                ul = document.createElement('ul'),\n                li,\n                i,\n                btn,\n                ext;\n\n            ul.id = 'medium-editor-toolbar-actions';\n            ul.className = 'medium-editor-toolbar-actions clearfix';\n\n            for (i = 0; i < btns.length; i += 1) {\n                if (this.options.extensions.hasOwnProperty(btns[i])) {\n                    ext = this.options.extensions[btns[i]];\n                    btn = ext.getButton !== undefined ? ext.getButton() : null;\n                } else {\n                    btn = this.buttonTemplate(btns[i]);\n                }\n\n                if (btn) {\n                    li = document.createElement('li');\n                    if (isElement(btn)) {\n                        li.appendChild(btn);\n                    } else {\n                        li.innerHTML = btn;\n                    }\n                    ul.appendChild(li);\n                }\n            }\n\n            return ul;\n        },\n\n        toolbarFormAnchor: function () {\n            var anchor = document.createElement('div'),\n                input = document.createElement('input'),\n                target_label = document.createElement('label'),\n                target = document.createElement('input'),\n                button_label = document.createElement('label'),\n                button = document.createElement('input'),\n                close = document.createElement('a'),\n                save = document.createElement('a');\n\n            close.setAttribute('href', '#');\n            close.className = 'medium-editor-toobar-anchor-close';\n            close.innerHTML = '&times;';\n\n            save.setAttribute('href', '#');\n            save.className = 'medium-editor-toobar-anchor-save';\n            save.innerHTML = '&#10003;';\n\n            input.setAttribute('type', 'text');\n            input.className = 'medium-editor-toolbar-anchor-input';\n            input.setAttribute('placeholder', this.options.anchorInputPlaceholder);\n\n\n            target.setAttribute('type', 'checkbox');\n            target.className = 'medium-editor-toolbar-anchor-target';\n            target_label.innerHTML = \"Open in New Window?\";\n            target_label.insertBefore(target, target_label.firstChild);\n\n            button.setAttribute('type', 'checkbox');\n            button.className = 'medium-editor-toolbar-anchor-button';\n            button_label.innerHTML = \"Button\";\n            button_label.insertBefore(button, button_label.firstChild);\n\n\n            anchor.className = 'medium-editor-toolbar-form-anchor';\n            anchor.id = 'medium-editor-toolbar-form-anchor';\n            anchor.appendChild(input);\n\n            anchor.appendChild(save);\n            anchor.appendChild(close);\n\n            if (this.options.anchorTarget) {\n                anchor.appendChild(target_label);\n            }\n\n            if (this.options.anchorButton) {\n                anchor.appendChild(button_label);\n            }\n\n            return anchor;\n        },\n\n        bindSelect: function () {\n            var self = this,\n                timer = '',\n                i;\n\n            this.checkSelectionWrapper = function (e) {\n\n                // Do not close the toolbar when bluring the editable area and clicking into the anchor form\n                if (e && self.clickingIntoArchorForm(e)) {\n                    return false;\n                }\n\n                clearTimeout(timer);\n                timer = setTimeout(function () {\n                    self.checkSelection();\n                }, self.options.delay);\n            };\n\n            this.on(document.documentElement, 'mouseup', this.checkSelectionWrapper);\n\n            for (i = 0; i < this.elements.length; i += 1) {\n                this.on(this.elements[i], 'keyup', this.checkSelectionWrapper);\n                this.on(this.elements[i], 'blur', this.checkSelectionWrapper);\n            }\n            return this;\n        },\n\n        checkSelection: function () {\n            var newSelection,\n                selectionElement;\n\n            if (this.keepToolbarAlive !== true && !this.options.disableToolbar) {\n\n                newSelection = this.options.contentWindow.getSelection();\n                if (newSelection.toString().trim() === '' ||\n                    (this.options.allowMultiParagraphSelection === false && this.hasMultiParagraphs()) ||\n                    this.selectionInContentEditableFalse()) {\n                    this.hideToolbarActions();\n                } else {\n                    selectionElement = this.getSelectionElement();\n                    if (!selectionElement || selectionElement.getAttribute('data-disable-toolbar')) {\n                        this.hideToolbarActions();\n                    } else {\n                        this.checkSelectionElement(newSelection, selectionElement);\n                    }\n                }\n            }\n            return this;\n        },\n\n        clickingIntoArchorForm: function (e) {\n            var self = this;\n\n            if (e.type && e.type.toLowerCase() === 'blur' && e.relatedTarget && e.relatedTarget === self.anchorInput) {\n                return true;\n            }\n\n            return false;\n        },\n\n        hasMultiParagraphs: function () {\n            var selectionHtml = getSelectionHtml.call(this).replace(/<[\\S]+><\\/[\\S]+>/gim, ''),\n                hasMultiParagraphs = selectionHtml.match(/<(p|h[0-6]|blockquote)>([\\s\\S]*?)<\\/(p|h[0-6]|blockquote)>/g);\n\n            return (hasMultiParagraphs ? hasMultiParagraphs.length : 0);\n        },\n\n        checkSelectionElement: function (newSelection, selectionElement) {\n            var i;\n            this.selection = newSelection;\n            this.selectionRange = this.selection.getRangeAt(0);\n            for (i = 0; i < this.elements.length; i += 1) {\n                if (this.elements[i] === selectionElement) {\n                    this.setToolbarButtonStates()\n                        .setToolbarPosition()\n                        .showToolbarActions();\n                    return;\n                }\n            }\n            this.hideToolbarActions();\n        },\n\n        findMatchingSelectionParent: function(testElementFunction) {\n            var selection = this.options.contentWindow.getSelection(), range, current;\n\n            if (selection.rangeCount === 0) {\n                return false;\n            }\n\n            range = selection.getRangeAt(0);\n            current = range.commonAncestorContainer;\n\n            do {\n              if (current.nodeType === 1){\n                if ( testElementFunction(current) )\n                {\n                    return current;\n                }\n                // do not traverse upwards past the nearest containing editor\n                if (current.getAttribute('data-medium-element')) {\n                    return false;\n                }\n              }\n\n              current = current.parentNode;\n            } while (current);\n\n            return false;\n        },\n\n        getSelectionElement: function () {\n            return this.findMatchingSelectionParent(function(el) {\n                return el.getAttribute('data-medium-element');\n            });\n        },\n\n        selectionInContentEditableFalse: function () {\n            return this.findMatchingSelectionParent(function(el) {\n                return (el && el.nodeName !== '#text' && el.getAttribute('contenteditable') === 'false');\n            });\n        },\n\n        setToolbarPosition: function () {\n            var buttonHeight = 50,\n                selection = this.options.contentWindow.getSelection(),\n                range = selection.getRangeAt(0),\n                boundary = range.getBoundingClientRect(),\n                defaultLeft = (this.options.diffLeft) - (this.toolbar.offsetWidth / 2),\n                middleBoundary = (boundary.left + boundary.right) / 2,\n                halfOffsetWidth = this.toolbar.offsetWidth / 2;\n            if (boundary.top < buttonHeight) {\n                this.toolbar.classList.add('medium-toolbar-arrow-over');\n                this.toolbar.classList.remove('medium-toolbar-arrow-under');\n                this.toolbar.style.top = buttonHeight + boundary.bottom - this.options.diffTop + this.options.contentWindow.pageYOffset - this.toolbar.offsetHeight + 'px';\n            } else {\n                this.toolbar.classList.add('medium-toolbar-arrow-under');\n                this.toolbar.classList.remove('medium-toolbar-arrow-over');\n                this.toolbar.style.top = boundary.top + this.options.diffTop + this.options.contentWindow.pageYOffset - this.toolbar.offsetHeight + 'px';\n            }\n            if (middleBoundary < halfOffsetWidth) {\n                this.toolbar.style.left = defaultLeft + halfOffsetWidth + 'px';\n            } else if ((this.options.contentWindow.innerWidth - middleBoundary) < halfOffsetWidth) {\n                this.toolbar.style.left = this.options.contentWindow.innerWidth + defaultLeft - halfOffsetWidth + 'px';\n            } else {\n                this.toolbar.style.left = defaultLeft + middleBoundary + 'px';\n            }\n\n            this.hideAnchorPreview();\n\n            return this;\n        },\n\n        setToolbarButtonStates: function () {\n            var buttons = this.toolbarActions.querySelectorAll('button'),\n                i;\n            for (i = 0; i < buttons.length; i += 1) {\n                buttons[i].classList.remove(this.options.activeButtonClass);\n            }\n            this.checkActiveButtons();\n            return this;\n        },\n\n        checkActiveButtons: function () {\n            var elements = Array.prototype.slice.call(this.elements),\n                parentNode = this.getSelectedParentElement();\n            while (parentNode.tagName !== undefined && this.parentElements.indexOf(parentNode.tagName.toLowerCase) === -1) {\n                this.activateButton(parentNode.tagName.toLowerCase());\n                this.callExtensions('checkState', parentNode);\n\n                // we can abort the search upwards if we leave the contentEditable element\n                if (elements.indexOf(parentNode) !== -1) {\n                    break;\n                }\n                parentNode = parentNode.parentNode;\n            }\n        },\n\n        activateButton: function (tag) {\n            var el = this.toolbar.querySelector('[data-element=\"' + tag + '\"]');\n            if (el !== null && el.className.indexOf(this.options.activeButtonClass) === -1) {\n                el.className += ' ' + this.options.activeButtonClass;\n            }\n        },\n\n        bindButtons: function () {\n            var buttons = this.toolbar.querySelectorAll('button'),\n                i,\n                self = this,\n                triggerAction = function (e) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    if (self.selection === undefined) {\n                        self.checkSelection();\n                    }\n                    if (this.className.indexOf(self.options.activeButtonClass) > -1) {\n                        this.classList.remove(self.options.activeButtonClass);\n                    } else {\n                        this.className += ' ' + self.options.activeButtonClass;\n                    }\n                    if (this.hasAttribute('data-action')) {\n                        self.execAction(this.getAttribute('data-action'), e);\n                    }\n                };\n            for (i = 0; i < buttons.length; i += 1) {\n                this.on(buttons[i], 'click', triggerAction);\n            }\n            this.setFirstAndLastItems(buttons);\n            return this;\n        },\n\n        setFirstAndLastItems: function (buttons) {\n            if (buttons.length > 0) {\n                buttons[0].className += ' ' + this.options.firstButtonClass;\n                buttons[buttons.length - 1].className += ' ' + this.options.lastButtonClass;\n            }\n            return this;\n        },\n\n        execAction: function (action, e) {\n            if (action.indexOf('append-') > -1) {\n                this.execFormatBlock(action.replace('append-', ''));\n                this.setToolbarPosition();\n                this.setToolbarButtonStates();\n            } else if (action === 'anchor') {\n                this.triggerAnchorAction(e);\n            } else if (action === 'image') {\n                this.options.ownerDocument.execCommand('insertImage', false, this.options.contentWindow.getSelection());\n            } else {\n                this.options.ownerDocument.execCommand(action, false, null);\n                this.setToolbarPosition();\n            }\n        },\n\n        // http://stackoverflow.com/questions/15867542/range-object-get-selection-parent-node-chrome-vs-firefox\n        rangeSelectsSingleNode: function (range) {\n            var startNode = range.startContainer;\n            return startNode === range.endContainer &&\n                startNode.hasChildNodes() &&\n                range.endOffset === range.startOffset + 1;\n        },\n\n        getSelectedParentElement: function () {\n            var selectedParentElement = null,\n                range = this.selectionRange;\n            if (this.rangeSelectsSingleNode(range)) {\n                selectedParentElement = range.startContainer.childNodes[range.startOffset];\n            } else if (range.startContainer.nodeType === 3) {\n                selectedParentElement = range.startContainer.parentNode;\n            } else {\n                selectedParentElement = range.startContainer;\n            }\n            return selectedParentElement;\n        },\n\n        triggerAnchorAction: function () {\n            var selectedParentElement = this.getSelectedParentElement();\n            if (selectedParentElement.tagName &&\n                    selectedParentElement.tagName.toLowerCase() === 'a') {\n                this.options.ownerDocument.execCommand('unlink', false, null);\n            } else {\n                if (this.anchorForm.style.display === 'block') {\n                    this.showToolbarActions();\n                } else {\n                    this.showAnchorForm();\n                }\n            }\n            return this;\n        },\n\n        execFormatBlock: function (el) {\n            var selectionData = this.getSelectionData(this.selection.anchorNode);\n            // FF handles blockquote differently on formatBlock\n            // allowing nesting, we need to use outdent\n            // https://developer.mozilla.org/en-US/docs/Rich-Text_Editing_in_Mozilla\n            if (el === 'blockquote' && selectionData.el &&\n                selectionData.el.parentNode.tagName.toLowerCase() === 'blockquote') {\n                return this.options.ownerDocument.execCommand('outdent', false, null);\n            }\n            if (selectionData.tagName === el) {\n                el = 'p';\n            }\n            // When IE we need to add <> to heading elements and\n            //  blockquote needs to be called as indent\n            // http://stackoverflow.com/questions/10741831/execcommand-formatblock-headings-in-ie\n            // http://stackoverflow.com/questions/1816223/rich-text-editor-with-blockquote-function/1821777#1821777\n            if (this.isIE) {\n                if (el === 'blockquote') {\n                    return this.options.ownerDocument.execCommand('indent', false, el);\n                }\n                el = '<' + el + '>';\n            }\n            return this.options.ownerDocument.execCommand('formatBlock', false, el);\n        },\n\n        getSelectionData: function (el) {\n            var tagName;\n\n            if (el && el.tagName) {\n                tagName = el.tagName.toLowerCase();\n            }\n\n            while (el && this.parentElements.indexOf(tagName) === -1) {\n                el = el.parentNode;\n                if (el && el.tagName) {\n                    tagName = el.tagName.toLowerCase();\n                }\n            }\n\n            return {\n                el: el,\n                tagName: tagName\n            };\n        },\n\n        getFirstChild: function (el) {\n            var firstChild = el.firstChild;\n            while (firstChild !== null && firstChild.nodeType !== 1) {\n                firstChild = firstChild.nextSibling;\n            }\n            return firstChild;\n        },\n\n        hideToolbarActions: function () {\n            this.keepToolbarAlive = false;\n            if (this.toolbar !== undefined) {\n                this.toolbar.classList.remove('medium-editor-toolbar-active');\n            }\n        },\n\n        showToolbarActions: function () {\n            var self = this,\n                timer;\n            this.anchorForm.style.display = 'none';\n            this.toolbarActions.style.display = 'block';\n            this.keepToolbarAlive = false;\n            clearTimeout(timer);\n            timer = setTimeout(function () {\n                if (self.toolbar && !self.toolbar.classList.contains('medium-editor-toolbar-active')) {\n                    self.toolbar.classList.add('medium-editor-toolbar-active');\n                }\n            }, 100);\n        },\n\n        saveSelection: function() {\n            this.savedSelection = saveSelection.call(this);\n        },\n\n        restoreSelection: function() {\n            restoreSelection.call(this, this.savedSelection);\n        },\n\n        showAnchorForm: function (link_value) {\n            this.toolbarActions.style.display = 'none';\n            this.saveSelection();\n            this.anchorForm.style.display = 'block';\n            this.setToolbarPosition();\n            this.keepToolbarAlive = true;\n            this.anchorInput.focus();\n            this.anchorInput.value = link_value || '';\n        },\n\n        bindAnchorForm: function () {\n            var linkCancel = this.anchorForm.querySelector('a.medium-editor-toobar-anchor-close'),\n                linkSave = this.anchorForm.querySelector('a.medium-editor-toobar-anchor-save'),\n                self = this;\n\n            this.on(this.anchorForm, 'click', function (e) {\n                e.stopPropagation();\n                self.keepToolbarAlive = true;\n            });\n\n            this.on(this.anchorInput, 'keyup', function (e) {\n                var button = null,\n                    target;\n\n                if (e.keyCode === 13) {\n                    e.preventDefault();\n                    if (self.options.anchorTarget && self.anchorTarget.checked) {\n                        target = \"_blank\";\n                    }\n                    else {\n                        target = \"_self\";\n                    }\n\n                    if (self.options.anchorButton && self.anchorButton.checked) {\n                        button = self.options.anchorButtonClass;\n                    }\n\n                    self.createLink(this, target, button);\n                }\n            });\n\n            this.on(linkSave, 'click', function(e) {\n                var button = null,\n                    target;\n                e.preventDefault();\n                if ( self.options.anchorTarget && self.anchorTarget.checked) {\n                    target = \"_blank\";\n                }\n                else {\n                    target = \"_self\";\n                }\n\n                if (self.options.anchorButton && self.anchorButton.checked) {\n                    button = self.options.anchorButtonClass;\n                }\n\n                self.createLink(self.anchorInput, target, button);\n            }, true);\n\n            this.on(this.anchorInput, 'click', function (e) {\n                // make sure not to hide form when cliking into the input\n                e.stopPropagation();\n                self.keepToolbarAlive = true;\n            });\n\n            // Hide the anchor form when focusing outside of it.\n            this.on(this.options.ownerDocument.body, 'click', function (e) {\n                if (e.target !== self.anchorForm && !isDescendant(self.anchorForm, e.target) && !isDescendant(self.toolbarActions, e.target)) {\n                    self.keepToolbarAlive = false;\n                    self.checkSelection();\n                }\n            }, true);\n            this.on(this.options.ownerDocument.body, 'focus', function (e) {\n                if (e.target !== self.anchorForm && !isDescendant(self.anchorForm, e.target) && !isDescendant(self.toolbarActions, e.target)) {\n                    self.keepToolbarAlive = false;\n                    self.checkSelection();\n                }\n            }, true);\n\n            this.on(linkCancel, 'click', function (e) {\n                e.preventDefault();\n                self.showToolbarActions();\n                restoreSelection.call(self, self.savedSelection);\n            });\n            return this;\n        },\n\n\n        hideAnchorPreview: function () {\n            this.anchorPreview.classList.remove('medium-editor-anchor-preview-active');\n        },\n\n        // TODO: break method\n        showAnchorPreview: function (anchorEl) {\n            if (this.anchorPreview.classList.contains('medium-editor-anchor-preview-active')\n                || anchorEl.getAttribute('data-disable-preview')) {\n                return true;\n            }\n\n            var self = this,\n                buttonHeight = 40,\n                boundary = anchorEl.getBoundingClientRect(),\n                middleBoundary = (boundary.left + boundary.right) / 2,\n                halfOffsetWidth,\n                defaultLeft,\n                timer;\n\n            self.anchorPreview.querySelector('i').textContent = anchorEl.href;\n            halfOffsetWidth = self.anchorPreview.offsetWidth / 2;\n            defaultLeft = self.options.diffLeft - halfOffsetWidth;\n\n            clearTimeout(timer);\n            timer = setTimeout(function () {\n                if (self.anchorPreview && !self.anchorPreview.classList.contains('medium-editor-anchor-preview-active')) {\n                    self.anchorPreview.classList.add('medium-editor-anchor-preview-active');\n                }\n            }, 100);\n\n            self.observeAnchorPreview(anchorEl);\n\n            self.anchorPreview.classList.add('medium-toolbar-arrow-over');\n            self.anchorPreview.classList.remove('medium-toolbar-arrow-under');\n            self.anchorPreview.style.top = Math.round(buttonHeight + boundary.bottom - self.options.diffTop + this.options.contentWindow.pageYOffset - self.anchorPreview.offsetHeight) + 'px';\n            if (middleBoundary < halfOffsetWidth) {\n                self.anchorPreview.style.left = defaultLeft + halfOffsetWidth + 'px';\n            } else if ((this.options.contentWindow.innerWidth - middleBoundary) < halfOffsetWidth) {\n                self.anchorPreview.style.left = this.options.contentWindow.innerWidth + defaultLeft - halfOffsetWidth + 'px';\n            } else {\n                self.anchorPreview.style.left = defaultLeft + middleBoundary + 'px';\n            }\n\n            return this;\n        },\n\n        // TODO: break method\n        observeAnchorPreview: function (anchorEl) {\n            var self = this,\n                lastOver = (new Date()).getTime(),\n                over = true,\n                stamp = function () {\n                    lastOver = (new Date()).getTime();\n                    over = true;\n                },\n                unstamp = function (e) {\n                    if (!e.relatedTarget || !/anchor-preview/.test(e.relatedTarget.className)) {\n                        over = false;\n                    }\n                },\n                interval_timer = setInterval(function () {\n                    if (over) {\n                        return true;\n                    }\n                    var durr = (new Date()).getTime() - lastOver;\n                    if (durr > self.options.anchorPreviewHideDelay) {\n                        // hide the preview 1/2 second after mouse leaves the link\n                        self.hideAnchorPreview();\n\n                        // cleanup\n                        clearInterval(interval_timer);\n                        self.off(self.anchorPreview, 'mouseover', stamp);\n                        self.off(self.anchorPreview, 'mouseout', unstamp);\n                        self.off(anchorEl, 'mouseover', stamp);\n                        self.off(anchorEl, 'mouseout', unstamp);\n\n                    }\n                }, 200);\n\n            this.on(self.anchorPreview, 'mouseover', stamp);\n            this.on(self.anchorPreview, 'mouseout', unstamp);\n            this.on(anchorEl, 'mouseover', stamp);\n            this.on(anchorEl, 'mouseout', unstamp);\n        },\n\n        createAnchorPreview: function () {\n            var self = this,\n                anchorPreview = this.options.ownerDocument.createElement('div');\n\n            anchorPreview.id = 'medium-editor-anchor-preview-' + this.id;\n            anchorPreview.className = 'medium-editor-anchor-preview';\n            anchorPreview.innerHTML = this.anchorPreviewTemplate();\n            this.options.elementsContainer.appendChild(anchorPreview);\n\n            this.on(anchorPreview, 'click', function () {\n                self.anchorPreviewClickHandler();\n            });\n\n            return anchorPreview;\n        },\n\n        anchorPreviewTemplate: function () {\n            return '<div class=\"medium-editor-toolbar-anchor-preview\" id=\"medium-editor-toolbar-anchor-preview\">' +\n                '    <i class=\"medium-editor-toolbar-anchor-preview-inner\"></i>' +\n                '</div>';\n        },\n\n        anchorPreviewClickHandler: function (e) {\n            if (this.activeAnchor) {\n\n                var self = this,\n                    range = this.options.ownerDocument.createRange(),\n                    sel = this.options.contentWindow.getSelection();\n\n                range.selectNodeContents(self.activeAnchor);\n                sel.removeAllRanges();\n                sel.addRange(range);\n                setTimeout(function () {\n                    if (self.activeAnchor) {\n                        self.showAnchorForm(self.activeAnchor.href);\n                    }\n                    self.keepToolbarAlive = false;\n                }, 100 + self.options.delay);\n\n            }\n\n            this.hideAnchorPreview();\n        },\n\n        editorAnchorObserver: function (e) {\n            var self = this,\n                overAnchor = true,\n                leaveAnchor = function () {\n                    // mark the anchor as no longer hovered, and stop listening\n                    overAnchor = false;\n                    self.off(self.activeAnchor, 'mouseout', leaveAnchor);\n                };\n\n            if (e.target && e.target.tagName.toLowerCase() === 'a') {\n\n                // Detect empty href attributes\n                // The browser will make href=\"\" or href=\"#top\"\n                // into absolute urls when accessed as e.targed.href, so check the html\n                if (!/href=[\"']\\S+[\"']/.test(e.target.outerHTML) || /href=[\"']#\\S+[\"']/.test(e.target.outerHTML)) {\n                    return true;\n                }\n\n                // only show when hovering on anchors\n                if (this.toolbar.classList.contains('medium-editor-toolbar-active')) {\n                    // only show when toolbar is not present\n                    return true;\n                }\n                this.activeAnchor = e.target;\n                this.on(this.activeAnchor, 'mouseout', leaveAnchor);\n                // show the anchor preview according to the configured delay\n                // if the mouse has not left the anchor tag in that time\n                setTimeout(function () {\n                    if (overAnchor) {\n                        self.showAnchorPreview(e.target);\n                    }\n                }, self.options.delay);\n\n\n            }\n        },\n\n        bindAnchorPreview: function (index) {\n            var i, self = this;\n            this.editorAnchorObserverWrapper = function (e) {\n                self.editorAnchorObserver(e);\n            };\n            for (i = 0; i < this.elements.length; i += 1) {\n                this.on(this.elements[i], 'mouseover', this.editorAnchorObserverWrapper);\n            }\n            return this;\n        },\n\n        checkLinkFormat: function (value) {\n            var re = /^(https?|ftps?|rtmpt?):\\/\\/|mailto:/;\n            return (re.test(value) ? '' : 'http://') + value;\n        },\n\n        setTargetBlank: function (el) {\n            var i;\n            el = el || getSelectionStart.call(this);\n            if (el.tagName.toLowerCase() === 'a') {\n                el.target = '_blank';\n            } else {\n                el = el.getElementsByTagName('a');\n\n                for (i = 0; i < el.length; i += 1) {\n                    el[i].target = '_blank';\n                }\n            }\n        },\n\n        setButtonClass: function (buttonClass) {\n            var el = getSelectionStart.call(this),\n                classes = buttonClass.split(' '),\n                i, j;\n            if (el.tagName.toLowerCase() === 'a') {\n                for (j = 0; j < classes.length; j += 1) {\n                    el.classList.add(classes[j]);\n                }\n            } else {\n                el = el.getElementsByTagName('a');\n                for (i = 0; i < el.length; i += 1) {\n                    for (j = 0; j < classes.length; j += 1) {\n                        el[i].classList.add(classes[j]);\n                    }\n                }\n            }\n        },\n\n        createLink: function (input, target, buttonClass) {\n            var i, event;\n\n            if (input.value.trim().length === 0) {\n                this.hideToolbarActions();\n                return;\n            }\n\n            restoreSelection.call(this, this.savedSelection);\n\n            if (this.options.checkLinkFormat) {\n                input.value = this.checkLinkFormat(input.value);\n            }\n\n            this.options.ownerDocument.execCommand('createLink', false, input.value);\n\n            if (this.options.targetBlank || target === \"_blank\") {\n                this.setTargetBlank();\n            }\n\n            if (buttonClass) {\n                this.setButtonClass(buttonClass);\n            }\n\n            if (this.options.targetBlank || target === \"_blank\" || buttonClass) {\n                event = this.options.ownerDocument.createEvent(\"HTMLEvents\");\n                event.initEvent(\"input\", true, true, this.options.contentWindow);\n                for (i = 0; i < this.elements.length; i += 1) {\n                    this.elements[i].dispatchEvent(event);\n                }\n            }\n\n            this.checkSelection();\n            this.showToolbarActions();\n            input.value = '';\n        },\n\n        bindWindowActions: function () {\n            var timerResize,\n                self = this;\n            this.windowResizeHandler = function () {\n                clearTimeout(timerResize);\n                timerResize = setTimeout(function () {\n                    if (self.toolbar && self.toolbar.classList.contains('medium-editor-toolbar-active')) {\n                        self.setToolbarPosition();\n                    }\n                }, 100);\n            };\n            this.on(this.options.contentWindow, 'resize', this.windowResizeHandler);\n            return this;\n        },\n\n        activate: function () {\n            if (this.isActive) {\n                return;\n            }\n\n            this.setup();\n        },\n\n        // TODO: break method\n        deactivate: function () {\n            var i;\n            if (!this.isActive) {\n                return;\n            }\n            this.isActive = false;\n\n            if (this.toolbar !== undefined) {\n                this.options.elementsContainer.removeChild(this.anchorPreview);\n                this.options.elementsContainer.removeChild(this.toolbar);\n                delete this.toolbar;\n                delete this.anchorPreview;\n            }\n\n            for (i = 0; i < this.elements.length; i += 1) {\n                this.elements[i].removeAttribute('contentEditable');\n                this.elements[i].removeAttribute('data-medium-element');\n            }\n\n            this.removeAllEvents();\n        },\n\n        htmlEntities: function (str) {\n            // converts special characters (like <) into their escaped/encoded values (like &lt;).\n            // This allows you to show to display the string without the browser reading it as HTML.\n            return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n        },\n\n        bindPaste: function () {\n            var i, self = this;\n            this.pasteWrapper = function (e) {\n                var paragraphs,\n                    html = '',\n                    p;\n\n                this.classList.remove('medium-editor-placeholder');\n                if (!self.options.forcePlainText && !self.options.cleanPastedHTML) {\n                    return this;\n                }\n\n                if (e.clipboardData && e.clipboardData.getData && !e.defaultPrevented) {\n                    e.preventDefault();\n\n                    if (self.options.cleanPastedHTML && e.clipboardData.getData('text/html')) {\n                        return self.cleanPaste(e.clipboardData.getData('text/html'));\n                    }\n                    if (!(self.options.disableReturn || this.getAttribute('data-disable-return'))) {\n                        paragraphs = e.clipboardData.getData('text/plain').split(/[\\r\\n]/g);\n                        for (p = 0; p < paragraphs.length; p += 1) {\n                            if (paragraphs[p] !== '') {\n                                if (navigator.userAgent.match(/firefox/i) && p === 0) {\n                                    html += self.htmlEntities(paragraphs[p]);\n                                } else {\n                                    html += '<p>' + self.htmlEntities(paragraphs[p]) + '</p>';\n                                }\n                            }\n                        }\n                        self.options.ownerDocument.execCommand('insertHTML', false, html);\n                    } else {\n                        html = self.htmlEntities(e.clipboardData.getData('text/plain'));\n                        self.options.ownerDocument.execCommand('insertHTML', false, html);\n                    }\n                }\n            };\n            for (i = 0; i < this.elements.length; i += 1) {\n                this.on(this.elements[i], 'paste', this.pasteWrapper);\n            }\n            return this;\n        },\n\n        setPlaceholders: function () {\n            var i,\n                activatePlaceholder = function (el) {\n                    if (!(el.querySelector('img')) &&\n                            !(el.querySelector('blockquote')) &&\n                            el.textContent.replace(/^\\s+|\\s+$/g, '') === '') {\n                        el.classList.add('medium-editor-placeholder');\n                    }\n                },\n                placeholderWrapper = function (e) {\n                    this.classList.remove('medium-editor-placeholder');\n                    if (e.type !== 'keypress') {\n                        activatePlaceholder(this);\n                    }\n                };\n            for (i = 0; i < this.elements.length; i += 1) {\n                activatePlaceholder(this.elements[i]);\n                this.on(this.elements[i], 'blur', placeholderWrapper);\n                this.on(this.elements[i], 'keypress', placeholderWrapper);\n            }\n            return this;\n        },\n\n        cleanPaste: function (text) {\n\n            /*jslint regexp: true*/\n            /*\n                jslint does not allow character negation, because the negation\n                will not match any unicode characters. In the regexes in this\n                block, negation is used specifically to match the end of an html\n                tag, and in fact unicode characters *should* be allowed.\n            */\n            var i, elList, workEl,\n                el = this.getSelectionElement(),\n                multiline = /<p|<br|<div/.test(text),\n                replacements = [\n\n                    // replace two bogus tags that begin pastes from google docs\n                    [new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi), \"\"],\n                    [new RegExp(/<\\/b>(<br[^>]*>)?$/gi), \"\"],\n\n                     // un-html spaces and newlines inserted by OS X\n                    [new RegExp(/<span class=\"Apple-converted-space\">\\s+<\\/span>/g), ' '],\n                    [new RegExp(/<br class=\"Apple-interchange-newline\">/g), '<br>'],\n\n                    // replace google docs italics+bold with a span to be replaced once the html is inserted\n                    [new RegExp(/<span[^>]*(font-style:italic;font-weight:bold|font-weight:bold;font-style:italic)[^>]*>/gi), '<span class=\"replace-with italic bold\">'],\n\n                    // replace google docs italics with a span to be replaced once the html is inserted\n                    [new RegExp(/<span[^>]*font-style:italic[^>]*>/gi), '<span class=\"replace-with italic\">'],\n\n                    //[replace google docs bolds with a span to be replaced once the html is inserted\n                    [new RegExp(/<span[^>]*font-weight:bold[^>]*>/gi), '<span class=\"replace-with bold\">'],\n\n                     // replace manually entered b/i/a tags with real ones\n                    [new RegExp(/&lt;(\\/?)(i|b|a)&gt;/gi), '<$1$2>'],\n\n                     // replace manually a tags with real ones, converting smart-quotes from google docs\n                    [new RegExp(/&lt;a\\s+href=(&quot;|&rdquo;|&ldquo;|“|”)([^&]+)(&quot;|&rdquo;|&ldquo;|“|”)&gt;/gi), '<a href=\"$2\">']\n\n                ];\n            /*jslint regexp: false*/\n\n            for (i = 0; i < replacements.length; i += 1) {\n                text = text.replace(replacements[i][0], replacements[i][1]);\n            }\n\n            if (multiline) {\n\n                // double br's aren't converted to p tags, but we want paragraphs.\n                elList = text.split('<br><br>');\n\n                this.pasteHTML('<p>' + elList.join('</p><p>') + '</p>');\n                this.options.ownerDocument.execCommand('insertText', false, \"\\n\");\n\n                // block element cleanup\n                elList = el.querySelectorAll('a,p,div,br');\n                for (i = 0; i < elList.length; i += 1) {\n\n                    workEl = elList[i];\n\n                    switch (workEl.tagName.toLowerCase()) {\n                    case 'a':\n                        if (this.options.targetBlank){\n                          this.setTargetBlank(workEl);\n                        }\n                        break;\n                    case 'p':\n                    case 'div':\n                        this.filterCommonBlocks(workEl);\n                        break;\n                    case 'br':\n                        this.filterLineBreak(workEl);\n                        break;\n                    }\n\n                }\n\n\n            } else {\n\n                this.pasteHTML(text);\n\n            }\n\n        },\n\n        pasteHTML: function (html) {\n            var elList, workEl, i, fragmentBody, pasteBlock = this.options.ownerDocument.createDocumentFragment();\n\n            pasteBlock.appendChild(this.options.ownerDocument.createElement('body'));\n\n            fragmentBody = pasteBlock.querySelector('body');\n            fragmentBody.innerHTML = html;\n\n            this.cleanupSpans(fragmentBody);\n\n            elList = fragmentBody.querySelectorAll('*');\n            for (i = 0; i < elList.length; i += 1) {\n\n                workEl = elList[i];\n\n                // delete ugly attributes\n                workEl.removeAttribute('class');\n                workEl.removeAttribute('style');\n                workEl.removeAttribute('dir');\n\n                if (workEl.tagName.toLowerCase() === 'meta') {\n                    workEl.parentNode.removeChild(workEl);\n                }\n\n            }\n            this.options.ownerDocument.execCommand('insertHTML', false, fragmentBody.innerHTML.replace(/&nbsp;/g, ' '));\n        },\n        isCommonBlock: function (el) {\n            return (el && (el.tagName.toLowerCase() === 'p' || el.tagName.toLowerCase() === 'div'));\n        },\n        filterCommonBlocks: function (el) {\n            if (/^\\s*$/.test(el.innerText)) {\n                el.parentNode.removeChild(el);\n            }\n        },\n        filterLineBreak: function (el) {\n            if (this.isCommonBlock(el.previousElementSibling)) {\n\n                // remove stray br's following common block elements\n                el.parentNode.removeChild(el);\n\n            } else if (this.isCommonBlock(el.parentNode) && (el.parentNode.firstChild === el || el.parentNode.lastChild === el)) {\n\n                // remove br's just inside open or close tags of a div/p\n                el.parentNode.removeChild(el);\n\n            } else if (el.parentNode.childElementCount === 1) {\n\n                // and br's that are the only child of a div/p\n                this.removeWithParent(el);\n\n            }\n\n        },\n\n        // remove an element, including its parent, if it is the only element within its parent\n        removeWithParent: function (el) {\n            if (el && el.parentNode) {\n                if (el.parentNode.parentNode && el.parentNode.childElementCount === 1) {\n                    el.parentNode.parentNode.removeChild(el.parentNode);\n                } else {\n                    el.parentNode.removeChild(el.parentNode);\n                }\n            }\n        },\n\n        cleanupSpans: function (container_el) {\n\n            var i,\n                el,\n                new_el,\n                spans = container_el.querySelectorAll('.replace-with');\n\n            for (i = 0; i < spans.length; i += 1) {\n\n                el = spans[i];\n                new_el = this.options.ownerDocument.createElement(el.classList.contains('bold') ? 'b' : 'i');\n\n                if (el.classList.contains('bold') && el.classList.contains('italic')) {\n\n                    // add an i tag as well if this has both italics and bold\n                    new_el.innerHTML = '<i>' + el.innerHTML + '</i>';\n\n                } else {\n\n                    new_el.innerHTML = el.innerHTML;\n\n                }\n                el.parentNode.replaceChild(new_el, el);\n\n            }\n\n            spans = container_el.querySelectorAll('span');\n            for (i = 0; i < spans.length; i += 1) {\n\n                el = spans[i];\n\n                // remove empty spans, replace others with their contents\n                if (/^\\s*$/.test()) {\n                    el.parentNode.removeChild(el);\n                } else {\n                    el.parentNode.replaceChild(this.options.ownerDocument.createTextNode(el.innerText), el);\n                }\n\n            }\n\n        }\n\n    };\n\n}(window, document));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/medium/vendor/medium-editor.js\n ** module id = 61\n ** module chunks = 0\n **/","var React = require('react')\nvar Types = React.PropTypes\n\nvar Field = React.createClass({displayName: 'Field',\n\n  getDefaultProps:function() {\n    return {\n      type: 'text'\n    }\n  },\n\n  render:function() {\n    var $__0=       this.props,label=$__0.label,name=$__0.name,type=$__0.type,props=(function(source, exclusion) {var rest = {};var hasOwn = Object.prototype.hasOwnProperty;if (source == null) {throw new TypeError();}for (var key in source) {if (hasOwn.call(source, key) && !hasOwn.call(exclusion, key)) {rest[key] = source[key];}}return rest;})($__0,{label:1,name:1,type:1})\n\n    return (\n      React.createElement(\"div\", {className: \"col-img-field\"}, \n        React.createElement(\"label\", {className: \"col-img-label\", htmlFor:  name || this.props.id}, \n          label \n        ), \n        React.createElement(\"input\", React.__spread({className: \"col-img-input\", type: type },   props , {name:  name || this.props.id}))\n      )\n    )\n  }\n\n})\n\nmodule.exports = Field\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./addons/common/field.js\n ** module id = 62\n ** module chunks = 0\n **/","module.exports = require(\"react/addons\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"react/addons\"\n ** module id = 63\n ** module chunks = 0\n **/","/* @flow */\n\nvar AddBlock  = require('./add_block')\nvar BlockType = require('../stores/block_type_store')\nvar Monitor   = require('../mixins/monitor')\nvar React     = require('react')\n\nvar BlockMenu = React.createClass({displayName: 'BlockMenu',\n\n  mixins: [ Monitor ],\n\n  propTypes: {\n    editor: React.PropTypes.any.isRequired\n  },\n\n  getDefaultProps:function()                       {\n    return {\n      position: 0\n    }\n  },\n\n  getState:function()                           {\n    var $__0=     this.props,block=$__0.block,editor=$__0.editor\n\n    // If there is a given block, then use the accepted types provided by that definition\n    // Otherwise, fallback to the editor.\n    return {\n      types: block ? BlockType.find(block.type).types : editor.types\n    }\n  },\n\n  getButton:function(type       )               {\n    var $__0=     this.props,parentBlockListId=$__0.parentBlockListId,position=$__0.position\n\n    return React.createElement(AddBlock, {key: type, type: type, parentBlockListId: parentBlockListId, position: position })\n  },\n\n  getNavigation:function()               {\n    return (\n      React.createElement(\"nav\", {className: \"col-menu\", role: \"navigation\"}, \n         this.state.types.map(this.getButton) \n      )\n    )\n  },\n\n  render:function()      {\n    return this.state.types ? this.getNavigation() : null\n  },\n\n})\n\nmodule.exports = BlockMenu\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/components/block_menu.js\n ** module id = 64\n ** module chunks = 0\n **/","/* @flow */\n\nvar Block            = require('./block')\nvar BlockListActions = require('../actions/block_list_actions')\nvar Dragon           = require('react-dragon')\nvar HasBlockNesting  = require('../mixins/has_block_nesting')\nvar Modes            = require('../constants/mode_constants')\nvar React            = require('react')\nvar RemoveBlock      = require('./remove_block')\n\nvar EditorBlock = React.createClass({displayName: 'EditorBlock',\n\n  mixins: [ HasBlockNesting ],\n\n  listComponent:function() {\n    return require('./editor_block_list')\n  },\n\n  render:function()      {\n    var $__0=     this.state.block,id=$__0.id,parentBlockListId=$__0.parentBlockListId\n\n    return (\n      React.createElement(Dragon, {className: \"col-block\", message: id, onDrop:  this._onDrop}, \n\n        React.createElement(Block, {block:  this.state.block, mode:  Modes.EDIT_MODE}), \n\n        React.createElement(\"div\", {className: \"col-toolbar\"}, \n          React.createElement(RemoveBlock, {blockId: id, parentBlockListId: parentBlockListId })\n        ), \n\n         this.childBlockListComponent() \n\n      )\n    )\n  },\n\n  _onDrop:function(fromId, toId) {\n    BlockListActions.move(this.state.block.parentBlockListId, fromId, toId)\n  }\n\n})\n\nmodule.exports = EditorBlock\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/components/editor_block.js\n ** module id = 65\n ** module chunks = 0\n **/","/* @flow */\n\nvar BlockList = require('../stores/block_list_store')\nvar Monitor   = require('./monitor')\nvar React     = require('react')\n\nvar HasBlockList = {\n\n  mixins: [ Monitor ],\n\n  getState:function()                              {\n    return {\n      blockIds : this.blockIds()\n    }\n  },\n\n  blockList:function()      {\n    return BlockList.find(this.blockListId())\n  },\n\n  blockListId:function()         {\n    return this.props.initialBlockListId\n  },\n\n  blockIds:function()                {\n    var blockList = this.blockList()\n    return blockList? blockList.all() : []\n  }\n\n}\n\nmodule.exports = HasBlockList\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/mixins/has_block_list.js\n ** module id = 66\n ** module chunks = 0\n **/","/* @flow */\n\nvar Block           = require('./block')\nvar HasBlockNesting = require('../mixins/has_block_nesting')\nvar Modes           = require('../constants/mode_constants')\nvar React           = require('react')\n\nvar PreviewerBlock = React.createClass({displayName: 'PreviewerBlock',\n\n  mixins: [ HasBlockNesting ],\n\n  listComponent:function()               {\n    return require('./previewer_block_list')\n  },\n\n  render:function()      {\n    return (\n      React.createElement(\"div\", null, \n        React.createElement(Block, {block:  this.state.block, mode:  Modes.PREVIEW_MODE}), \n         this.childBlockListComponent() \n      )\n    )\n  }\n\n})\n\nmodule.exports = PreviewerBlock\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/components/previewer_block.js\n ** module id = 67\n ** module chunks = 0\n **/","/*\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Dispatcher\n * @typechecks\n */\n\n\"use strict\";\n\nvar invariant = require('./invariant');\n\nvar _lastID = 1;\nvar _prefix = 'ID_';\n\n/**\n * Dispatcher is used to broadcast payloads to registered callbacks. This is\n * different from generic pub-sub systems in two ways:\n *\n *   1) Callbacks are not subscribed to particular events. Every payload is\n *      dispatched to every registered callback.\n *   2) Callbacks can be deferred in whole or part until other callbacks have\n *      been executed.\n *\n * For example, consider this hypothetical flight destination form, which\n * selects a default city when a country is selected:\n *\n *   var flightDispatcher = new Dispatcher();\n *\n *   // Keeps track of which country is selected\n *   var CountryStore = {country: null};\n *\n *   // Keeps track of which city is selected\n *   var CityStore = {city: null};\n *\n *   // Keeps track of the base flight price of the selected city\n *   var FlightPriceStore = {price: null}\n *\n * When a user changes the selected city, we dispatch the payload:\n *\n *   flightDispatcher.dispatch({\n *     actionType: 'city-update',\n *     selectedCity: 'paris'\n *   });\n *\n * This payload is digested by `CityStore`:\n *\n *   flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'city-update') {\n *       CityStore.city = payload.selectedCity;\n *     }\n *   });\n *\n * When the user selects a country, we dispatch the payload:\n *\n *   flightDispatcher.dispatch({\n *     actionType: 'country-update',\n *     selectedCountry: 'australia'\n *   });\n *\n * This payload is digested by both stores:\n *\n *    CountryStore.dispatchToken = flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'country-update') {\n *       CountryStore.country = payload.selectedCountry;\n *     }\n *   });\n *\n * When the callback to update `CountryStore` is registered, we save a reference\n * to the returned token. Using this token with `waitFor()`, we can guarantee\n * that `CountryStore` is updated before the callback that updates `CityStore`\n * needs to query its data.\n *\n *   CityStore.dispatchToken = flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'country-update') {\n *       // `CountryStore.country` may not be updated.\n *       flightDispatcher.waitFor([CountryStore.dispatchToken]);\n *       // `CountryStore.country` is now guaranteed to be updated.\n *\n *       // Select the default city for the new country\n *       CityStore.city = getDefaultCityForCountry(CountryStore.country);\n *     }\n *   });\n *\n * The usage of `waitFor()` can be chained, for example:\n *\n *   FlightPriceStore.dispatchToken =\n *     flightDispatcher.register(function(payload) {\n *       switch (payload.actionType) {\n *         case 'country-update':\n *           flightDispatcher.waitFor([CityStore.dispatchToken]);\n *           FlightPriceStore.price =\n *             getFlightPriceStore(CountryStore.country, CityStore.city);\n *           break;\n *\n *         case 'city-update':\n *           FlightPriceStore.price =\n *             FlightPriceStore(CountryStore.country, CityStore.city);\n *           break;\n *     }\n *   });\n *\n * The `country-update` payload will be guaranteed to invoke the stores'\n * registered callbacks in order: `CountryStore`, `CityStore`, then\n * `FlightPriceStore`.\n */\n\n  function Dispatcher() {\n    this.$Dispatcher_callbacks = {};\n    this.$Dispatcher_isPending = {};\n    this.$Dispatcher_isHandled = {};\n    this.$Dispatcher_isDispatching = false;\n    this.$Dispatcher_pendingPayload = null;\n  }\n\n  /**\n   * Registers a callback to be invoked with every dispatched payload. Returns\n   * a token that can be used with `waitFor()`.\n   *\n   * @param {function} callback\n   * @return {string}\n   */\n  Dispatcher.prototype.register=function(callback) {\n    var id = _prefix + _lastID++;\n    this.$Dispatcher_callbacks[id] = callback;\n    return id;\n  };\n\n  /**\n   * Removes a callback based on its token.\n   *\n   * @param {string} id\n   */\n  Dispatcher.prototype.unregister=function(id) {\n    invariant(\n      this.$Dispatcher_callbacks[id],\n      'Dispatcher.unregister(...): `%s` does not map to a registered callback.',\n      id\n    );\n    delete this.$Dispatcher_callbacks[id];\n  };\n\n  /**\n   * Waits for the callbacks specified to be invoked before continuing execution\n   * of the current callback. This method should only be used by a callback in\n   * response to a dispatched payload.\n   *\n   * @param {array<string>} ids\n   */\n  Dispatcher.prototype.waitFor=function(ids) {\n    invariant(\n      this.$Dispatcher_isDispatching,\n      'Dispatcher.waitFor(...): Must be invoked while dispatching.'\n    );\n    for (var ii = 0; ii < ids.length; ii++) {\n      var id = ids[ii];\n      if (this.$Dispatcher_isPending[id]) {\n        invariant(\n          this.$Dispatcher_isHandled[id],\n          'Dispatcher.waitFor(...): Circular dependency detected while ' +\n          'waiting for `%s`.',\n          id\n        );\n        continue;\n      }\n      invariant(\n        this.$Dispatcher_callbacks[id],\n        'Dispatcher.waitFor(...): `%s` does not map to a registered callback.',\n        id\n      );\n      this.$Dispatcher_invokeCallback(id);\n    }\n  };\n\n  /**\n   * Dispatches a payload to all registered callbacks.\n   *\n   * @param {object} payload\n   */\n  Dispatcher.prototype.dispatch=function(payload) {\n    invariant(\n      !this.$Dispatcher_isDispatching,\n      'Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.'\n    );\n    this.$Dispatcher_startDispatching(payload);\n    try {\n      for (var id in this.$Dispatcher_callbacks) {\n        if (this.$Dispatcher_isPending[id]) {\n          continue;\n        }\n        this.$Dispatcher_invokeCallback(id);\n      }\n    } finally {\n      this.$Dispatcher_stopDispatching();\n    }\n  };\n\n  /**\n   * Is this Dispatcher currently dispatching.\n   *\n   * @return {boolean}\n   */\n  Dispatcher.prototype.isDispatching=function() {\n    return this.$Dispatcher_isDispatching;\n  };\n\n  /**\n   * Call the callback stored with the given id. Also do some internal\n   * bookkeeping.\n   *\n   * @param {string} id\n   * @internal\n   */\n  Dispatcher.prototype.$Dispatcher_invokeCallback=function(id) {\n    this.$Dispatcher_isPending[id] = true;\n    this.$Dispatcher_callbacks[id](this.$Dispatcher_pendingPayload);\n    this.$Dispatcher_isHandled[id] = true;\n  };\n\n  /**\n   * Set up bookkeeping needed when dispatching.\n   *\n   * @param {object} payload\n   * @internal\n   */\n  Dispatcher.prototype.$Dispatcher_startDispatching=function(payload) {\n    for (var id in this.$Dispatcher_callbacks) {\n      this.$Dispatcher_isPending[id] = false;\n      this.$Dispatcher_isHandled[id] = false;\n    }\n    this.$Dispatcher_pendingPayload = payload;\n    this.$Dispatcher_isDispatching = true;\n  };\n\n  /**\n   * Clear bookkeeping used for dispatching.\n   *\n   * @internal\n   */\n  Dispatcher.prototype.$Dispatcher_stopDispatching=function() {\n    this.$Dispatcher_pendingPayload = null;\n    this.$Dispatcher_isDispatching = false;\n  };\n\n\nmodule.exports = Dispatcher;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/flux/lib/Dispatcher.js\n ** module id = 68\n ** module chunks = 0\n **/","/* @flow */\n\nvar BlockType    = require('../stores/block_type_store')\nvar Button       = require('./ui/button')\nvar BlockActions = require('../actions/block_actions')\nvar React        = require('react')\nvar Types        = React.PropTypes\n\nvar AddBlock = React.createClass({displayName: 'AddBlock',\n\n  propTypes: {\n    parentBlockListId : Types.number.isRequired,\n    position          : Types.number,\n    type              : Types.string.isRequired\n  },\n\n  getInitialState:function() {\n    return BlockType.find(this.props.type)\n  },\n\n  render:function()      {\n    var $__0=      this.state,icon=$__0.icon,id=$__0.id,label=$__0.label\n\n    return (\n      React.createElement(Button, {'aria-label': label, className: \"col-btn-icon\", onClick:  this._onClick}, \n        React.createElement(\"img\", {src: icon, alt: id, 'aria-hidden': \"true\"})\n      )\n    )\n  },\n\n  _onClick:function(e) {\n    var $__0=      this.props,parentBlockListId=$__0.parentBlockListId,type=$__0.type,position=$__0.position\n\n    BlockActions.create({ parentBlockListId:parentBlockListId, position:position, type:type })\n\n    e.preventDefault()\n  }\n\n})\n\nmodule.exports = AddBlock\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/components/add_block.js\n ** module id = 69\n ** module chunks = 0\n **/","/* @flow */\n\nvar BlockActions = require('../actions/block_actions')\nvar BlockType    = require('../stores/block_type_store')\nvar Monitor      = require('../mixins/monitor')\nvar Pure         = require('../mixins/pure')\nvar React        = require('react')\n\nvar Block = React.createClass({displayName: 'Block',\n\n  mixins: [ Monitor, Pure ],\n\n  propTypes: {\n    block: React.PropTypes.any.isRequired\n  },\n\n  getState:function()          {\n    return BlockType.find(this.props.block.type)\n  },\n\n  render:function()      {\n    var $__0=     this.props,block=$__0.block,props=(function(source, exclusion) {var rest = {};var hasOwn = Object.prototype.hasOwnProperty;if (source == null) {throw new TypeError();}for (var key in source) {if (hasOwn.call(source, key) && !hasOwn.call(exclusion, key)) {rest[key] = source[key];}}return rest;})($__0,{block:1})\n    var $__1=    this.state,Component=$__1.component\n\n    return (\n      React.createElement(Component, React.__spread({initialContent:  block.content, updateContent:  this._onUpdateContent},   props ))\n    )\n  },\n\n  _onUpdateContent:function(content       )       {\n    BlockActions.update(this.props.block.id, content)\n  }\n\n})\n\nmodule.exports = Block\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/components/block.js\n ** module id = 70\n ** module chunks = 0\n **/","/* @flow */\n\nvar React     = require('react')\nvar Block     = require('../stores/block_store')\nvar BlockList = require('../stores/block_list_store')\n\nvar HasBlockNesting = {\n\n  propTypes: {\n    editor: React.PropTypes.any.isRequired\n  },\n\n  getInitialState:function()         {\n    var id = this.props.initialBlockId;\n\n    return {\n      block     : Block.find(id),\n      blockList : BlockList.findByBlockId(id)\n    }\n  },\n\n  childBlockListComponent:function()               {\n    var $__0=     this.state,block=$__0.block,blockList=$__0.blockList;\n    var $__1=              this.props,editor=$__1.editor;\n    var ListComponent        = this.listComponent()\n\n    if (blockList) {\n      return React.createElement(ListComponent, {block: block, editor: editor, initialBlockListId:  blockList.id})\n    }\n  }\n\n}\n\nmodule.exports = HasBlockNesting\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/mixins/has_block_nesting.js\n ** module id = 71\n ** module chunks = 0\n **/","/* @flow */\n\nvar BlockActions = require('../actions/block_actions')\nvar Button       = require('./ui/button')\nvar React        = require('react')\nvar Strings      = require('../constants/strings')\nvar Types        = React.PropTypes\n\nvar RemoveBlock = React.createClass({displayName: 'RemoveBlock',\n\n  propTypes: {\n    blockId           : Types.number.isRequired,\n    parentBlockListId : Types.number.isRequired\n  },\n\n  render:function()      {\n    return (\n      React.createElement(Button, {'aria-label':  Strings.remove.label, className: \"col-btn-remove\", onClick:  this._onClick}, \n        \"×\"\n      )\n    )\n  },\n\n  _onClick:function(e) {\n    var answer = confirm(Strings.remove.confirm)\n    var $__0=     this.props,blockId=$__0.blockId,parentBlockListId=$__0.parentBlockListId\n\n    e.preventDefault();\n\n    if (answer) {\n      BlockActions.destroy({ blockId:blockId, parentBlockListId:parentBlockListId })\n    }\n  }\n\n})\n\nmodule.exports = RemoveBlock\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/components/remove_block.js\n ** module id = 72\n ** module chunks = 0\n **/","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule invariant\n */\n\n\"use strict\";\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (false) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        'Invariant Violation: ' +\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/flux/lib/invariant.js\n ** module id = 73\n ** module chunks = 0\n **/","/**\n * Copyright 2013-2014 Facebook, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @providesModule ReactComponentWithPureRenderMixin\n */\n\n\"use strict\";\n\nvar shallowEqual = require('react/lib/shallowEqual');\n\n/**\n * If your React component's render function is \"pure\", e.g. it will render the\n * same result given the same props and state, provide this Mixin for a\n * considerable performance boost.\n *\n * Most React components have pure render functions.\n *\n * Example:\n *\n *   var ReactComponentWithPureRenderMixin =\n *     require('ReactComponentWithPureRenderMixin');\n *   React.createClass({\n *     mixins: [ReactComponentWithPureRenderMixin],\n *\n *     render: function() {\n *       return <div className={this.props.className}>foo</div>;\n *     }\n *   });\n *\n * Note: This only checks shallow equality for props and state. If these contain\n * complex data structures this mixin may have false-negatives for deeper\n * differences. Only mixin to components which have simple props and state, or\n * use `forceUpdate()` when you know deep data structures have changed.\n */\nvar ReactComponentWithPureRenderMixin = {\n  shouldComponentUpdate: function(nextProps, nextState) {\n    return !shallowEqual(this.props, nextProps) ||\n    !shallowEqual(this.state, nextState);\n  }\n};\n\nmodule.exports = ReactComponentWithPureRenderMixin;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/mixins/pure.js\n ** module id = 74\n ** module chunks = 0\n **/","module.exports = {\n  'remove' : {\n    'label'  : 'Remove this block',\n    'confirm': 'Are you sure you want to remove this block?'\n  },\n\n  'add' : {\n    'label' : 'Add a new block'\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./colonel-kurtz/constants/strings.js\n ** module id = 75\n ** module chunks = 0\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\")) : factory(root[\"react\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * @jsx React.DOM\n\t * Draggable\n\t * A draggability component helper\n\t */\n\t\n\tvar React = __webpack_require__(/*! react */ 1);\n\tvar Types = React.PropTypes;\n\tvar cx    = __webpack_require__(/*! ./utils/classSet */ 2);\n\t\n\tvar Draggable = React.createClass({displayName: 'Draggable',\n\t\n\t  propTypes: {\n\t    onDrop  : Types.func.isRequired,\n\t    message : Types.any.isRequired\n\t  },\n\t\n\t  getDefaultProps:function() {\n\t    return {\n\t      dropEffect    : 'copy',\n\t      effectAllowed : 'all'\n\t    }\n\t  },\n\t\n\t  getInitialState:function() {\n\t    return {\n\t      dragging  : false,\n\t      droppable : false\n\t    }\n\t  },\n\t\n\t\n\t  render:function() {\n\t    var className = cx(this.props.className, cx({\n\t      'dragon'           : true,\n\t      'dragon-dragging'  : this.state.dragging,\n\t      'dragon-droppable' : this.state.droppable\n\t    }));\n\t\n\t    return (\n\t      React.createElement(\"div\", {className: className, \n\t           onDragOver:  this._onDragOver, \n\t           onDragLeave:  this._onDragLeave, \n\t           onDrop:  this._onDrop, \n\t           onDragStart:  this._onDragStart, \n\t           onDragEnd:  this._onDragEnd, \n\t           draggable: true}, \n\t        React.createElement(\"div\", {className: \"dragon-children\"},  this.props.children)\n\t      )\n\t    );\n\t  },\n\t\n\t  _onDragStart:function(e) {\n\t    var $__0=      this.props,message=$__0.message,dropEffect=$__0.dropEffect,effectAllowed=$__0.effectAllowed;\n\t\n\t    e.dataTransfer.setData('text/plain', JSON.stringify(message));\n\t    e.dataTransfer.dropEffect = dropEffect;\n\t    e.dataTransfer.effectAllowed = effectAllowed;\n\t\n\t    this.setState({ dragging: true });\n\t  },\n\t\n\t  _onDragEnd:function(e) {\n\t    e.preventDefault();\n\t    this.setState({ droppable: false, dragging: false });\n\t  },\n\t\n\t  _onDragOver:function(e) {\n\t    e.preventDefault();\n\t    this.setState({ droppable: true });\n\t  },\n\t\n\t  _onDragLeave:function(e) {\n\t    e.preventDefault();\n\t    this.setState({ droppable: false });\n\t  },\n\t\n\t  _onDrop:function(e) {\n\t    e.preventDefault();\n\t\n\t    var message  = JSON.parse(e.dataTransfer.getData('text/plain'));\n\t    var receiver = this.props.message;\n\t\n\t    this.props.onDrop(message, receiver);\n\t    this.setState({ droppable: false, dragging: false });\n\t  }\n\t\n\t});\n\t\n\tmodule.exports = Draggable;\n\n\n/***/ },\n/* 1 */\n/*!************************!*\\\n  !*** external \"react\" ***!\n  \\************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n/* 2 */\n/*!*******************************!*\\\n  !*** ./src/utils/classSet.js ***!\n  \\*******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright 2013-2014, Facebook, Inc.\n\t * All rights reserved.\n\t *\n\t * This source code is licensed under the BSD-style license found in the\n\t * LICENSE file in the root directory of this source tree. An additional grant\n\t * of patent rights can be found in the PATENTS file in the same directory.\n\t *\n\t * @providesModule cx\n\t */\n\t\n\t/**\n\t * This function is used to mark string literals representing CSS class names\n\t * so that they can be transformed statically. This allows for modularization\n\t * and minification of CSS class names.\n\t *\n\t * In static_upstream, this function is actually implemented, but it should\n\t * eventually be replaced with something more descriptive, and the transform\n\t * that is used in the main stack should be ported for use elsewhere.\n\t *\n\t * @param string|object className to modularize, or an object of key/values.\n\t *                      In the object case, the values are conditions that\n\t *                      determine if the className keys should be included.\n\t * @param [string ...]  Variable list of classNames in the string case.\n\t * @return string       Renderable space-separated CSS className.\n\t */\n\tfunction cx(classNames) {\n\t  if (typeof classNames == 'object') {\n\t    return Object.keys(classNames).filter(function(className) {\n\t      return classNames[className];\n\t    }).join(' ');\n\t  } else {\n\t    return Array.prototype.join.call(arguments, ' ');\n\t  }\n\t}\n\t\n\tmodule.exports = cx;\n\n\n/***/ }\n/******/ ])\n});\n\n//# sourceMappingURL=react-dragon.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react-dragon/dist/react-dragon.js\n ** module id = 76\n ** module chunks = 0\n **/","/**\n * Copyright 2013-2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule shallowEqual\n */\n\n\"use strict\";\n\n/**\n * Performs equality by iterating through keys on an object and returning\n * false when any key has values which are not strictly equal between\n * objA and objB. Returns true when the values of all keys are strictly equal.\n *\n * @return {boolean}\n */\nfunction shallowEqual(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n  var key;\n  // Test for A's keys different from B.\n  for (key in objA) {\n    if (objA.hasOwnProperty(key) &&\n        (!objB.hasOwnProperty(key) || objA[key] !== objB[key])) {\n      return false;\n    }\n  }\n  // Test for B's keys missing from A.\n  for (key in objB) {\n    if (objB.hasOwnProperty(key) && !objA.hasOwnProperty(key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = shallowEqual;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/react/lib/shallowEqual.js\n ** module id = 77\n ** module chunks = 0\n **/"],"sourceRoot":"","file":"js/colonel-kurtz.js"}